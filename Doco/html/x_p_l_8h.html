<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Alarm Cabinent: PIC Code/xPL.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Alarm Cabinent</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">PIC Code/xPL.h File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h__dep__incl.svg" width="2830" height="150" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="x_p_l_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structx_p_l_received_messages.html">xPLReceivedMessages</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines a received message.  <a href="structx_p_l_received_messages.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>&#160;&#160;&#160;(unsigned int)0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>&#160;&#160;&#160;(unsigned int)1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a>&#160;&#160;&#160;unsigned short int</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#ab4be00ac06f43fbbaba203f9e2714da8">XPL_UDP_PORT</a>&#160;&#160;&#160;3865</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#ab1f7fbd37b06dc5c6c44c93ff353ee46">XPL_NOTCONFIGUREDHBINTERVAL</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a555a6ebd5a0b576771968d1a61a33c2a">XPL_NOTCONFIGUREDNOHUBHBINTERVAL</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a0f6c3b736b6ae28f9cb7914ebf5be460">XPL_NOTCONFIGUREDTIMEOUT</a>&#160;&#160;&#160;120</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a5cae8ff681d0a9465b29afa961ca05b3">XPL_SCHEMACLASS_SIZE</a>&#160;&#160;&#160;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#ada0cec3179b4e933705178e947fa46ed">XPL_SCHEMATYPE_SIZE</a>&#160;&#160;&#160;6</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a0c1636b2b06436f6cbb88eb341f7d902">BOUNCEDELAY</a>&#160;&#160;&#160;5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a595e2cc97368633df0a707e6fcb8e8ff">ZONECHECKDELAY</a>&#160;&#160;&#160;50</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a05d1c116fbe0c5e7b29b55e32120f6d1">ZONEPULLUP</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a8093f823771092ea99bef8d0b1ce5454">xPLMSGKEYLENGTH</a>&#160;&#160;&#160;16</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#aae5a87b8c5b796965aa8548462ed8f39">xPLMSGVALUELENGTH</a>&#160;&#160;&#160;128</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57">_xPL_MessageTypes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#ae920acc0dd05f63aa5435d5ae4066ae1">xPL_MessageTypes</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">xPL Message types  <a href="#ae920acc0dd05f63aa5435d5ae4066ae1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294b">_xPL_SchemaClasss</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a9393a512bb6ecf7aa03d47d6a1d62e34">xPL_SchemaClasss</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">xPL Known message classes  <a href="#a9393a512bb6ecf7aa03d47d6a1d62e34"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014">_xPL_SchemaTypess</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a44c7fcbdaccb766382c5eee977cbce00">xPL_SchemaTypess</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">xPL Known message types.  <a href="#a44c7fcbdaccb766382c5eee977cbce00"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="x_p_l_8h.html#a8e8eafaa87afd5b6b2a4b1ffef4ff043">_xPL_MsgDestinations</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a0f2fbb5546bf05f28e41923921e25e0e">xPL_MsgDestinations</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destination, for a received message here are the possible destination types.  <a href="#a0f2fbb5546bf05f28e41923921e25e0e"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57">_xPL_MessageTypes</a> { <a class="el" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57a6750270f22d27565cbd9dc5f7ff983cf">xPL_COMMAND</a> =  0, 
<a class="el" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, 
<a class="el" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57a1fc35f06395351a1942dae9ed1859d46">xPL_TRIGGER</a>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">xPL Message types  <a href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294b">_xPL_SchemaClasss</a> { <a class="el" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba44befdda86d7f36ef171a2385f3ad3b5">Class_HBeat</a> =  0, 
<a class="el" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba14f0290b427ed1601cbd6b99072f4401">Class_Config</a>, 
<a class="el" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">xPL Known message classes  <a href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294b">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014">_xPL_SchemaTypess</a> { <br/>
&#160;&#160;<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a563aada2692fff4210fdcac659bae9cc">Type_Basic</a> =  0, 
<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014adf15d91ef041bd13132e6c4fbfcced4f">Type_List</a>, 
<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a0807e49b316f6fb051b116a381793d0f">Type_END</a>, 
<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aed33e1220b37226b9c386d17cd8b8c6a">Type_Response</a>, 
<br/>
&#160;&#160;<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a12ea3a88f0bdd182c98dfc1ad5f68867">Type_Request</a>, 
<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a1168ef3342189eb73f687fbfefa5225c">Type_Current</a>, 
<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aa8061dadd063bb50c19c744609e3178f">Type_Area</a>, 
<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a898c235db41f75422dc1b6870ab35fa9">Type_Zone</a>, 
<br/>
&#160;&#160;<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a1ffc8fbc4fd8675c7ac9a73abcb5b2ec">Type_Gateway</a>, 
<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014abc2a5ebedc397c760915df455e5f20a5">Type_Areastat</a>, 
<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a10fa6fe8b1a16a5a12fa2cf61311f32e">Type_Zonestat</a>, 
<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aa146efd7bd1b148961537a64269f53e1">Type_Gatestat</a>, 
<br/>
&#160;&#160;<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aba9b7129264b9f34ae69037d02ae8faf">Type_Areainfo</a>, 
<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aad65302b4ad734d48c32cb1ce9232392">Type_Zoneinfo</a>, 
<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a97711ca78fae9dccbf1d55625f99249d">Type_Gateinfo</a>, 
<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a81db81080b48d653baf6a7f98d3e0e22">Type_Arealist</a>, 
<br/>
&#160;&#160;<a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a68e81d4a483aae55f1a831d5cfa51fba">Type_Zonelist</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">xPL Known message types.  <a href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a8e8eafaa87afd5b6b2a4b1ffef4ff043">_xPL_MsgDestinations</a> { <a class="el" href="x_p_l_8h.html#a8e8eafaa87afd5b6b2a4b1ffef4ff043a3f4644701fe4498e5659a493d4e8ef16">To_Me</a> =  0, 
<a class="el" href="x_p_l_8h.html#a8e8eafaa87afd5b6b2a4b1ffef4ff043a9aa5a9edf3f541fc5670950c23601672">To_All</a>, 
<a class="el" href="x_p_l_8h.html#a8e8eafaa87afd5b6b2a4b1ffef4ff043ac6954561847676d9a090ef204ef1d5c4">To_Other</a>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destination, for a received message here are the possible destination types.  <a href="x_p_l_8h.html#a8e8eafaa87afd5b6b2a4b1ffef4ff043">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a091a12042a9d63dc524ce896fbc04b46">xPLInit</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a86d914c966f337c4e3a6fda46a945d11">XPLTasks</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a> (<a class="el" href="x_p_l_8h.html#ae920acc0dd05f63aa5435d5ae4066ae1">xPL_MessageTypes</a> xPL_MSG_Type, BOOL isBroadCast, <a class="el" href="x_p_l_8h.html#a9393a512bb6ecf7aa03d47d6a1d62e34">xPL_SchemaClasss</a> SchemaClass, <a class="el" href="x_p_l_8h.html#a44c7fcbdaccb766382c5eee977cbce00">xPL_SchemaTypess</a> SchemaType)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#ace930888808081ff410b21e68caa146e">xPLFindArrayInKVP</a> (rom char **ValidOptions, int ArraySize, int *Result, char *TheValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a7c4561dc703960b7f5d24ec72ff34ba5">SaveKVP</a> (char *TheKey, char *TheValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a31c1c8faace74e23f37a03b7292f7981">xPLLoadEEConfig</a> (void *p, int Start_Address, int Data_Size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a> (void *p, int Start_Address, int Data_Size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#aea89a2e5b007623f49cb6117afc947ec">SchemaInit</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a62b4d90791ab073f74677d42bfb64253">SchemaTasks</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a3baecc6556e5cc7af0d59d0216aa217c">SchemaProcessUDPMsg</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a8a69fd5952a14c7bfa97a304380d4bc1">DisplayIPValue</a> (IP_ADDR IPVal)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structx_p_l_received_messages.html">xPLReceivedMessages</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UDP_SOCKET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a8a7b0f54b3a08b018c41f0355a79e659">XPLSocket</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares the Microchip IP socket that will be used for processing xPL messages.  <a href="#a8a7b0f54b3a08b018c41f0355a79e659"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NODE_INFO&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a90692899949ba355c16139fe1ae9639c">xPLBroadcast</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#ab1bd647d7b5e8841a1378eedabb62c2e">xPLMsgKey</a> [xPLMSGKEYLENGTH]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Security, were most of it is at.  <a href="#ab1bd647d7b5e8841a1378eedabb62c2e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a65d6c76d15acf1f33b1d8778f79881db">xPLMsgValue</a> [xPLMSGVALUELENGTH]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Used as a temp storage for processing messages, holds the value of a key value pair.  <a href="#a65d6c76d15acf1f33b1d8778f79881db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">rom char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#acfb9cbdd568e102081516ecd213fda75">Default_xPL_My_Instance_ID</a> []</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">xPL device name, instance ID  <a href="#acfb9cbdd568e102081516ecd213fda75"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TICK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a57f931c642b9abb18f2b6d3441a90a16">xPLNotConfiguredTimer</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Time spent in not configured state.  <a href="#a57f931c642b9abb18f2b6d3441a90a16"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">APP_CONFIG&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="x_p_l_8h.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ae4cc35dcc70810fa972cc8a5185a28fa"></a><!-- doxytag: member="xPL.h::BOOL" ref="ae4cc35dcc70810fa972cc8a5185a28fa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOOL&#160;&#160;&#160;unsigned short int</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00006">6</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

<p>Referenced by <a class="el" href="_main_demo_8c_source.html#l00072">main()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>, <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00226">SendAlarmingMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00711">SendAreaInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00587">SendAreaList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00132">SendAreaStateMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">SendArmed()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00545">SendZoneList()</a>, <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>, <a class="el" href="_security_system_8c_source.html#l01411">StateChangeToArmFailed()</a>, and <a class="el" href="x_p_l_8c_source.html#l00415">XPLProcessUDPMsg()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c1636b2b06436f6cbb88eb341f7d902"></a><!-- doxytag: member="xPL.h::BOUNCEDELAY" ref="a0c1636b2b06436f6cbb88eb341f7d902" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOUNCEDELAY&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00019">19</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

<p>Referenced by <a class="el" href="_e_o_l_8c_source.html#l00154">IsZoneTriggered()</a>.</p>

</div>
</div>
<a class="anchor" id="aa93f0eb578d23995850d61f7d61c55c1"></a><!-- doxytag: member="xPL.h::FALSE" ref="aa93f0eb578d23995850d61f7d61c55c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FALSE&#160;&#160;&#160;(unsigned int)0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00004">4</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l01122">Arm()</a>, <a class="el" href="_security_system_8c_source.html#l01192">ArmAway()</a>, <a class="el" href="_security_system_8c_source.html#l01162">ArmHome()</a>, <a class="el" href="_authenticate_8c_source.html#l00188">Authenticate()</a>, <a class="el" href="_security_system_8c_source.html#l02162">bypassArea()</a>, <a class="el" href="_security_system_8c_source.html#l02108">bypassZone()</a>, <a class="el" href="_e_o_l_8c_source.html#l00023">CheckEOL()</a>, <a class="el" href="_security_system_8c_source.html#l01091">ClearArmingFlags()</a>, <a class="el" href="_security_system_8c_source.html#l01938">Disarm()</a>, <a class="el" href="_security_system_8c_source.html#l02311">EnableArea()</a>, <a class="el" href="_security_system_8c_source.html#l02226">EnableZone()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00628">HTTPPostConfig()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00228">HTTPPostSMTPConfig()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00067">HTTPPrint_status_fail()</a>, <a class="el" href="_security_system_8c_source.html#l00780">IOTasks()</a>, <a class="el" href="_security_system_8c_source.html#l02048">IsolateArea()</a>, <a class="el" href="_security_system_8c_source.html#l01995">IsolateZone()</a>, <a class="el" href="_security_system_8c_source.html#l01467">isZoneMemberOfArea()</a>, <a class="el" href="_e_o_l_8c_source.html#l00154">IsZoneTriggered()</a>, <a class="el" href="_security_system_8c_source.html#l00433">LoadDefaultConfig()</a>, <a class="el" href="_main_demo_8c_source.html#l00072">main()</a>, <a class="el" href="x_p_l_8c_source.html#l00969">SaveKVP()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00226">SendAlarmingMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00711">SendAreaInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00587">SendAreaList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00132">SendAreaStateMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">SendArmed()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00545">SendZoneList()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00613">SMTPQueueEmail()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00412">SMTPTaskProcess()</a>, <a class="el" href="_custom_s_n_t_p_8c_source.html#l00237">SNTPClient()</a>, <a class="el" href="_security_system_8c_source.html#l00916">StateChangeToAlarming()</a>, <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>, <a class="el" href="_security_system_8c_source.html#l01411">StateChangeToArmFailed()</a>, <a class="el" href="_authenticate_8c_source.html#l00039">xPLAuthenticate()</a>, <a class="el" href="x_p_l_8c_source.html#l00157">xPLLoadEEConfig()</a>, <a class="el" href="x_p_l_8c_source.html#l00802">xPLProcessMsgChar()</a>, <a class="el" href="x_p_l_8c_source.html#l00884">xPLProcessMsgCompair()</a>, <a class="el" href="x_p_l_8c_source.html#l00757">xPLProcessSaveValue()</a>, <a class="el" href="x_p_l_8c_source.html#l00415">XPLProcessUDPMsg()</a>, and <a class="el" href="x_p_l_8c_source.html#l00496">XPLProcessUDPMsgHeader()</a>.</p>

</div>
</div>
<a class="anchor" id="aa8cecfc5c5c054d2875c03e77b7be15d"></a><!-- doxytag: member="xPL.h::TRUE" ref="aa8cecfc5c5c054d2875c03e77b7be15d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRUE&#160;&#160;&#160;(unsigned int)1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00005">5</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l01122">Arm()</a>, <a class="el" href="_security_system_8c_source.html#l01192">ArmAway()</a>, <a class="el" href="_security_system_8c_source.html#l01162">ArmHome()</a>, <a class="el" href="_security_system_8c_source.html#l01220">ArmLatchkey()</a>, <a class="el" href="_authenticate_8c_source.html#l00188">Authenticate()</a>, <a class="el" href="_security_system_8c_source.html#l02162">bypassArea()</a>, <a class="el" href="_security_system_8c_source.html#l02108">bypassZone()</a>, <a class="el" href="_e_o_l_8c_source.html#l00023">CheckEOL()</a>, <a class="el" href="_security_system_8c_source.html#l02311">EnableArea()</a>, <a class="el" href="_security_system_8c_source.html#l02226">EnableZone()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00228">HTTPPostSMTPConfig()</a>, <a class="el" href="_security_system_8c_source.html#l00780">IOTasks()</a>, <a class="el" href="_security_system_8c_source.html#l02048">IsolateArea()</a>, <a class="el" href="_security_system_8c_source.html#l01995">IsolateZone()</a>, <a class="el" href="_security_system_8c_source.html#l01467">isZoneMemberOfArea()</a>, <a class="el" href="_e_o_l_8c_source.html#l00154">IsZoneTriggered()</a>, <a class="el" href="_security_system_8c_source.html#l00433">LoadDefaultConfig()</a>, <a class="el" href="_main_demo_8c_source.html#l00072">main()</a>, <a class="el" href="x_p_l_8c_source.html#l00969">SaveKVP()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>, <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00965">SendACStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00226">SendAlarmingMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00711">SendAreaInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00587">SendAreaList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01084">SendAreaStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00132">SendAreaStateMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">SendArmed()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00929">SendBatteryStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00814">SendConfigCurrent()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00774">SendConfigList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00504">SendDisarm()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00471">SendError()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00894">SendGatewayChanged()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00306">SendGatewayInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00360">SendGatewayReady()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00545">SendZoneList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01180">SendZoneStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00075">SendZoneStateMsg()</a>, <a class="el" href="_security_system_8c_source.html#l01537">SetArming()</a>, <a class="el" href="_security_system_8c_source.html#l00916">StateChangeToAlarming()</a>, <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>, <a class="el" href="_security_system_8c_source.html#l01411">StateChangeToArmFailed()</a>, <a class="el" href="_authenticate_8c_source.html#l00039">xPLAuthenticate()</a>, <a class="el" href="_security_system_8c_source.html#l00515">xPLFactoryRestart()</a>, <a class="el" href="x_p_l_8c_source.html#l00938">xPLFindArrayInKVP()</a>, <a class="el" href="x_p_l_8c_source.html#l00157">xPLLoadEEConfig()</a>, <a class="el" href="x_p_l_8c_source.html#l00829">xPLProcess_MsgField()</a>, <a class="el" href="x_p_l_8c_source.html#l00802">xPLProcessMsgChar()</a>, <a class="el" href="x_p_l_8c_source.html#l00884">xPLProcessMsgCompair()</a>, <a class="el" href="x_p_l_8c_source.html#l00757">xPLProcessSaveValue()</a>, <a class="el" href="x_p_l_8c_source.html#l00415">XPLProcessUDPMsg()</a>, <a class="el" href="x_p_l_8c_source.html#l00496">XPLProcessUDPMsgHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00300">XPLSendHeartBeat()</a>.</p>

</div>
</div>
<a class="anchor" id="ab1f7fbd37b06dc5c6c44c93ff353ee46"></a><!-- doxytag: member="xPL.h::XPL_NOTCONFIGUREDHBINTERVAL" ref="ab1f7fbd37b06dc5c6c44c93ff353ee46" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XPL_NOTCONFIGUREDHBINTERVAL&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00011">11</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

<p>Referenced by <a class="el" href="x_p_l_8c_source.html#l00224">XPLHeartBeatTiming()</a>, and <a class="el" href="x_p_l_8c_source.html#l00109">xPLInit()</a>.</p>

</div>
</div>
<a class="anchor" id="a555a6ebd5a0b576771968d1a61a33c2a"></a><!-- doxytag: member="xPL.h::XPL_NOTCONFIGUREDNOHUBHBINTERVAL" ref="a555a6ebd5a0b576771968d1a61a33c2a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XPL_NOTCONFIGUREDNOHUBHBINTERVAL&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00012">12</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

<p>Referenced by <a class="el" href="x_p_l_8c_source.html#l00224">XPLHeartBeatTiming()</a>.</p>

</div>
</div>
<a class="anchor" id="a0f6c3b736b6ae28f9cb7914ebf5be460"></a><!-- doxytag: member="xPL.h::XPL_NOTCONFIGUREDTIMEOUT" ref="a0f6c3b736b6ae28f9cb7914ebf5be460" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XPL_NOTCONFIGUREDTIMEOUT&#160;&#160;&#160;120</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00013">13</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

<p>Referenced by <a class="el" href="x_p_l_8c_source.html#l00109">xPLInit()</a>, and <a class="el" href="x_p_l_8c_source.html#l00415">XPLProcessUDPMsg()</a>.</p>

</div>
</div>
<a class="anchor" id="a5cae8ff681d0a9465b29afa961ca05b3"></a><!-- doxytag: member="xPL.h::XPL_SCHEMACLASS_SIZE" ref="a5cae8ff681d0a9465b29afa961ca05b3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XPL_SCHEMACLASS_SIZE&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00014">14</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

<p>Referenced by <a class="el" href="x_p_l_8c_source.html#l00496">XPLProcessUDPMsgHeader()</a>.</p>

</div>
</div>
<a class="anchor" id="ada0cec3179b4e933705178e947fa46ed"></a><!-- doxytag: member="xPL.h::XPL_SCHEMATYPE_SIZE" ref="ada0cec3179b4e933705178e947fa46ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XPL_SCHEMATYPE_SIZE&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00015">15</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

<p>Referenced by <a class="el" href="x_p_l_8c_source.html#l00496">XPLProcessUDPMsgHeader()</a>.</p>

</div>
</div>
<a class="anchor" id="ab4be00ac06f43fbbaba203f9e2714da8"></a><!-- doxytag: member="xPL.h::XPL_UDP_PORT" ref="ab4be00ac06f43fbbaba203f9e2714da8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XPL_UDP_PORT&#160;&#160;&#160;3865</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00010">10</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

<p>Referenced by <a class="el" href="_main_demo_8c_source.html#l00072">main()</a>, and <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>.</p>

</div>
</div>
<a class="anchor" id="a8093f823771092ea99bef8d0b1ce5454"></a><!-- doxytag: member="xPL.h::xPLMSGKEYLENGTH" ref="a8093f823771092ea99bef8d0b1ce5454" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xPLMSGKEYLENGTH&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00022">22</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

<p>Referenced by <a class="el" href="x_p_l_8c_source.html#l00969">SaveKVP()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01084">SendAreaStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00814">SendConfigCurrent()</a>, <a class="el" href="x_p_l_8c_source.html#l00496">XPLProcessUDPMsgHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00300">XPLSendHeartBeat()</a>.</p>

</div>
</div>
<a class="anchor" id="aae5a87b8c5b796965aa8548462ed8f39"></a><!-- doxytag: member="xPL.h::xPLMSGVALUELENGTH" ref="aae5a87b8c5b796965aa8548462ed8f39" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xPLMSGVALUELENGTH&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00023">23</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

<p>Referenced by <a class="el" href="_authenticate_8c_source.html#l00658">HTTPPrint_PrintEEProm()</a>, <a class="el" href="x_p_l_8c_source.html#l00969">SaveKVP()</a>, and <a class="el" href="_security_system_8c_source.html#l01537">SetArming()</a>.</p>

</div>
</div>
<a class="anchor" id="a595e2cc97368633df0a707e6fcb8e8ff"></a><!-- doxytag: member="xPL.h::ZONECHECKDELAY" ref="a595e2cc97368633df0a707e6fcb8e8ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZONECHECKDELAY&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00020">20</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00780">IOTasks()</a>, and <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>.</p>

</div>
</div>
<a class="anchor" id="a05d1c116fbe0c5e7b29b55e32120f6d1"></a><!-- doxytag: member="xPL.h::ZONEPULLUP" ref="a05d1c116fbe0c5e7b29b55e32120f6d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZONEPULLUP&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00021">21</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ae920acc0dd05f63aa5435d5ae4066ae1"></a><!-- doxytag: member="xPL.h::xPL_MessageTypes" ref="ae920acc0dd05f63aa5435d5ae4066ae1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57">_xPL_MessageTypes</a>  <a class="el" href="x_p_l_8h.html#ae920acc0dd05f63aa5435d5ae4066ae1">xPL_MessageTypes</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>xPL Message types </p>
<p>Check the TCP/IP stack is configured D E C L A R A T I O N S </p>

</div>
</div>
<a class="anchor" id="a0f2fbb5546bf05f28e41923921e25e0e"></a><!-- doxytag: member="xPL.h::xPL_MsgDestinations" ref="a0f2fbb5546bf05f28e41923921e25e0e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="x_p_l_8h.html#a8e8eafaa87afd5b6b2a4b1ffef4ff043">_xPL_MsgDestinations</a>  <a class="el" href="x_p_l_8h.html#a0f2fbb5546bf05f28e41923921e25e0e">xPL_MsgDestinations</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destination, for a received message here are the possible destination types. </p>

</div>
</div>
<a class="anchor" id="a9393a512bb6ecf7aa03d47d6a1d62e34"></a><!-- doxytag: member="xPL.h::xPL_SchemaClasss" ref="a9393a512bb6ecf7aa03d47d6a1d62e34" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294b">_xPL_SchemaClasss</a>  <a class="el" href="x_p_l_8h.html#a9393a512bb6ecf7aa03d47d6a1d62e34">xPL_SchemaClasss</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>xPL Known message classes </p>

</div>
</div>
<a class="anchor" id="a44c7fcbdaccb766382c5eee977cbce00"></a><!-- doxytag: member="xPL.h::xPL_SchemaTypess" ref="a44c7fcbdaccb766382c5eee977cbce00" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014">_xPL_SchemaTypess</a>  <a class="el" href="x_p_l_8h.html#a44c7fcbdaccb766382c5eee977cbce00">xPL_SchemaTypess</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>xPL Known message types. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a1d49f3afa2112fa9ba4dcad8c37edc57"></a><!-- doxytag: member="xPL.h::_xPL_MessageTypes" ref="a1d49f3afa2112fa9ba4dcad8c37edc57" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57">_xPL_MessageTypes</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>xPL Message types </p>
<p>Check the TCP/IP stack is configured D E C L A R A T I O N S </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a1d49f3afa2112fa9ba4dcad8c37edc57a6750270f22d27565cbd9dc5f7ff983cf"></a><!-- doxytag: member="xPL_COMMAND" ref="a1d49f3afa2112fa9ba4dcad8c37edc57a6750270f22d27565cbd9dc5f7ff983cf" args="" -->xPL_COMMAND</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf"></a><!-- doxytag: member="xPL_STATUS" ref="a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf" args="" -->xPL_STATUS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a1d49f3afa2112fa9ba4dcad8c37edc57a1fc35f06395351a1942dae9ed1859d46"></a><!-- doxytag: member="xPL_TRIGGER" ref="a1d49f3afa2112fa9ba4dcad8c37edc57a1fc35f06395351a1942dae9ed1859d46" args="" -->xPL_TRIGGER</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00043">43</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>
<div class="fragment"><pre class="fragment">                               {
        <a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57a6750270f22d27565cbd9dc5f7ff983cf">xPL_COMMAND</a> = 0,
        <a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>,
        <a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57a1fc35f06395351a1942dae9ed1859d46">xPL_TRIGGER</a>
} <a class="code" href="x_p_l_8h.html#ae920acc0dd05f63aa5435d5ae4066ae1" title="xPL Message types">xPL_MessageTypes</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="a8e8eafaa87afd5b6b2a4b1ffef4ff043"></a><!-- doxytag: member="xPL.h::_xPL_MsgDestinations" ref="a8e8eafaa87afd5b6b2a4b1ffef4ff043" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="x_p_l_8h.html#a8e8eafaa87afd5b6b2a4b1ffef4ff043">_xPL_MsgDestinations</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destination, for a received message here are the possible destination types. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a8e8eafaa87afd5b6b2a4b1ffef4ff043a3f4644701fe4498e5659a493d4e8ef16"></a><!-- doxytag: member="To_Me" ref="a8e8eafaa87afd5b6b2a4b1ffef4ff043a3f4644701fe4498e5659a493d4e8ef16" args="" -->To_Me</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8e8eafaa87afd5b6b2a4b1ffef4ff043a9aa5a9edf3f541fc5670950c23601672"></a><!-- doxytag: member="To_All" ref="a8e8eafaa87afd5b6b2a4b1ffef4ff043a9aa5a9edf3f541fc5670950c23601672" args="" -->To_All</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a8e8eafaa87afd5b6b2a4b1ffef4ff043ac6954561847676d9a090ef204ef1d5c4"></a><!-- doxytag: member="To_Other" ref="a8e8eafaa87afd5b6b2a4b1ffef4ff043ac6954561847676d9a090ef204ef1d5c4" args="" -->To_Other</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00079">79</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>
<div class="fragment"><pre class="fragment">                                  {
        <a class="code" href="x_p_l_8h.html#a8e8eafaa87afd5b6b2a4b1ffef4ff043a3f4644701fe4498e5659a493d4e8ef16">To_Me</a> = 0,
        <a class="code" href="x_p_l_8h.html#a8e8eafaa87afd5b6b2a4b1ffef4ff043a9aa5a9edf3f541fc5670950c23601672">To_All</a>,
        <a class="code" href="x_p_l_8h.html#a8e8eafaa87afd5b6b2a4b1ffef4ff043ac6954561847676d9a090ef204ef1d5c4">To_Other</a>
} <a class="code" href="x_p_l_8h.html#a0f2fbb5546bf05f28e41923921e25e0e" title="Destination, for a received message here are the possible destination types.">xPL_MsgDestinations</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="ae9f1d693fc799733052946c52e2c294b"></a><!-- doxytag: member="xPL.h::_xPL_SchemaClasss" ref="ae9f1d693fc799733052946c52e2c294b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294b">_xPL_SchemaClasss</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>xPL Known message classes </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ae9f1d693fc799733052946c52e2c294ba44befdda86d7f36ef171a2385f3ad3b5"></a><!-- doxytag: member="Class_HBeat" ref="ae9f1d693fc799733052946c52e2c294ba44befdda86d7f36ef171a2385f3ad3b5" args="" -->Class_HBeat</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ae9f1d693fc799733052946c52e2c294ba14f0290b427ed1601cbd6b99072f4401"></a><!-- doxytag: member="Class_Config" ref="ae9f1d693fc799733052946c52e2c294ba14f0290b427ed1601cbd6b99072f4401" args="" -->Class_Config</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad"></a><!-- doxytag: member="Class_Security" ref="ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad" args="" -->Class_Security</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00050">50</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>
<div class="fragment"><pre class="fragment">                               {
        <a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba44befdda86d7f36ef171a2385f3ad3b5">Class_HBeat</a> = 0,
        <a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba14f0290b427ed1601cbd6b99072f4401">Class_Config</a>,
        <a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>
} <a class="code" href="x_p_l_8h.html#a9393a512bb6ecf7aa03d47d6a1d62e34" title="xPL Known message classes">xPL_SchemaClasss</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="adc01a55a0e491806b8d110084b598014"></a><!-- doxytag: member="xPL.h::_xPL_SchemaTypess" ref="adc01a55a0e491806b8d110084b598014" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014">_xPL_SchemaTypess</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>xPL Known message types. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014a563aada2692fff4210fdcac659bae9cc"></a><!-- doxytag: member="Type_Basic" ref="adc01a55a0e491806b8d110084b598014a563aada2692fff4210fdcac659bae9cc" args="" -->Type_Basic</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014adf15d91ef041bd13132e6c4fbfcced4f"></a><!-- doxytag: member="Type_List" ref="adc01a55a0e491806b8d110084b598014adf15d91ef041bd13132e6c4fbfcced4f" args="" -->Type_List</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014a0807e49b316f6fb051b116a381793d0f"></a><!-- doxytag: member="Type_END" ref="adc01a55a0e491806b8d110084b598014a0807e49b316f6fb051b116a381793d0f" args="" -->Type_END</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014aed33e1220b37226b9c386d17cd8b8c6a"></a><!-- doxytag: member="Type_Response" ref="adc01a55a0e491806b8d110084b598014aed33e1220b37226b9c386d17cd8b8c6a" args="" -->Type_Response</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014a12ea3a88f0bdd182c98dfc1ad5f68867"></a><!-- doxytag: member="Type_Request" ref="adc01a55a0e491806b8d110084b598014a12ea3a88f0bdd182c98dfc1ad5f68867" args="" -->Type_Request</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014a1168ef3342189eb73f687fbfefa5225c"></a><!-- doxytag: member="Type_Current" ref="adc01a55a0e491806b8d110084b598014a1168ef3342189eb73f687fbfefa5225c" args="" -->Type_Current</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014aa8061dadd063bb50c19c744609e3178f"></a><!-- doxytag: member="Type_Area" ref="adc01a55a0e491806b8d110084b598014aa8061dadd063bb50c19c744609e3178f" args="" -->Type_Area</em>&nbsp;</td><td>
<p>Part of the security schema. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014a898c235db41f75422dc1b6870ab35fa9"></a><!-- doxytag: member="Type_Zone" ref="adc01a55a0e491806b8d110084b598014a898c235db41f75422dc1b6870ab35fa9" args="" -->Type_Zone</em>&nbsp;</td><td>
<p>Part of the security schema. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014a1ffc8fbc4fd8675c7ac9a73abcb5b2ec"></a><!-- doxytag: member="Type_Gateway" ref="adc01a55a0e491806b8d110084b598014a1ffc8fbc4fd8675c7ac9a73abcb5b2ec" args="" -->Type_Gateway</em>&nbsp;</td><td>
<p>Part of the security schema. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014abc2a5ebedc397c760915df455e5f20a5"></a><!-- doxytag: member="Type_Areastat" ref="adc01a55a0e491806b8d110084b598014abc2a5ebedc397c760915df455e5f20a5" args="" -->Type_Areastat</em>&nbsp;</td><td>
<p>Part of the security schema. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014a10fa6fe8b1a16a5a12fa2cf61311f32e"></a><!-- doxytag: member="Type_Zonestat" ref="adc01a55a0e491806b8d110084b598014a10fa6fe8b1a16a5a12fa2cf61311f32e" args="" -->Type_Zonestat</em>&nbsp;</td><td>
<p>Part of the security schema. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014aa146efd7bd1b148961537a64269f53e1"></a><!-- doxytag: member="Type_Gatestat" ref="adc01a55a0e491806b8d110084b598014aa146efd7bd1b148961537a64269f53e1" args="" -->Type_Gatestat</em>&nbsp;</td><td>
<p>Part of the security schema. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014aba9b7129264b9f34ae69037d02ae8faf"></a><!-- doxytag: member="Type_Areainfo" ref="adc01a55a0e491806b8d110084b598014aba9b7129264b9f34ae69037d02ae8faf" args="" -->Type_Areainfo</em>&nbsp;</td><td>
<p>Part of the security schema. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014aad65302b4ad734d48c32cb1ce9232392"></a><!-- doxytag: member="Type_Zoneinfo" ref="adc01a55a0e491806b8d110084b598014aad65302b4ad734d48c32cb1ce9232392" args="" -->Type_Zoneinfo</em>&nbsp;</td><td>
<p>Part of the security schema. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014a97711ca78fae9dccbf1d55625f99249d"></a><!-- doxytag: member="Type_Gateinfo" ref="adc01a55a0e491806b8d110084b598014a97711ca78fae9dccbf1d55625f99249d" args="" -->Type_Gateinfo</em>&nbsp;</td><td>
<p>Part of the security schema. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014a81db81080b48d653baf6a7f98d3e0e22"></a><!-- doxytag: member="Type_Arealist" ref="adc01a55a0e491806b8d110084b598014a81db81080b48d653baf6a7f98d3e0e22" args="" -->Type_Arealist</em>&nbsp;</td><td>
<p>Part of the security schema. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adc01a55a0e491806b8d110084b598014a68e81d4a483aae55f1a831d5cfa51fba"></a><!-- doxytag: member="Type_Zonelist" ref="adc01a55a0e491806b8d110084b598014a68e81d4a483aae55f1a831d5cfa51fba" args="" -->Type_Zonelist</em>&nbsp;</td><td>
<p>Part of the security schema. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="x_p_l_8h_source.html#l00057">57</a> of file <a class="el" href="x_p_l_8h_source.html">xPL.h</a>.</p>
<div class="fragment"><pre class="fragment">                               {
        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a563aada2692fff4210fdcac659bae9cc">Type_Basic</a> = 0,
        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014adf15d91ef041bd13132e6c4fbfcced4f">Type_List</a>,
        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a0807e49b316f6fb051b116a381793d0f">Type_END</a>,
        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aed33e1220b37226b9c386d17cd8b8c6a">Type_Response</a>,
        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a12ea3a88f0bdd182c98dfc1ad5f68867">Type_Request</a>,
        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a1168ef3342189eb73f687fbfefa5225c">Type_Current</a>,
        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aa8061dadd063bb50c19c744609e3178f" title="Part of the security schema.">Type_Area</a>,              <span class="comment">///&lt; Part of the security schema</span>
<span class="comment"></span>        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a898c235db41f75422dc1b6870ab35fa9" title="Part of the security schema.">Type_Zone</a>,              <span class="comment">///&lt; Part of the security schema</span>
<span class="comment"></span>        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a1ffc8fbc4fd8675c7ac9a73abcb5b2ec" title="Part of the security schema.">Type_Gateway</a>,   <span class="comment">///&lt; Part of the security schema</span>
<span class="comment"></span>        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014abc2a5ebedc397c760915df455e5f20a5" title="Part of the security schema.">Type_Areastat</a>,  <span class="comment">///&lt; Part of the security schema</span>
<span class="comment"></span>        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a10fa6fe8b1a16a5a12fa2cf61311f32e" title="Part of the security schema.">Type_Zonestat</a>,  <span class="comment">///&lt; Part of the security schema</span>
<span class="comment"></span>        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aa146efd7bd1b148961537a64269f53e1" title="Part of the security schema.">Type_Gatestat</a>,  <span class="comment">///&lt; Part of the security schema</span>
<span class="comment"></span>        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aba9b7129264b9f34ae69037d02ae8faf" title="Part of the security schema.">Type_Areainfo</a>,  <span class="comment">///&lt; Part of the security schema</span>
<span class="comment"></span>        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aad65302b4ad734d48c32cb1ce9232392" title="Part of the security schema.">Type_Zoneinfo</a>,  <span class="comment">///&lt; Part of the security schema</span>
<span class="comment"></span>        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a97711ca78fae9dccbf1d55625f99249d" title="Part of the security schema.">Type_Gateinfo</a>,  <span class="comment">///&lt; Part of the security schema</span>
<span class="comment"></span>        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a81db81080b48d653baf6a7f98d3e0e22" title="Part of the security schema.">Type_Arealist</a>,  <span class="comment">///&lt; Part of the security schema</span>
<span class="comment"></span>        <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a68e81d4a483aae55f1a831d5cfa51fba" title="Part of the security schema.">Type_Zonelist</a>   <span class="comment">///&lt; Part of the security schema</span>
<span class="comment"></span>} <a class="code" href="x_p_l_8h.html#a44c7fcbdaccb766382c5eee977cbce00" title="xPL Known message types.">xPL_SchemaTypess</a>;
</pre></div>
</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a8a69fd5952a14c7bfa97a304380d4bc1"></a><!-- doxytag: member="xPL.h::DisplayIPValue" ref="a8a69fd5952a14c7bfa97a304380d4bc1" args="(IP_ADDR IPVal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DisplayIPValue </td>
          <td>(</td>
          <td class="paramtype">IP_ADDR&#160;</td>
          <td class="paramname"><em>IPVal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_main_demo_8c_source.html#l00237">237</a> of file <a class="el" href="_main_demo_8c_source.html">MainDemo.c</a>.</p>

<p>References <a class="el" href="_hardware_profile_8h_source.html#l00193">BusyUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00201">putsUART</a>, and <a class="el" href="_hardware_profile_8h_source.html#l00199">WriteUART</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">//      printf(&quot;%u.%u.%u.%u&quot;, IPVal.v[0], IPVal.v[1], IPVal.v[2], IPVal.v[3]);</span>
    BYTE IPDigit[4];
        BYTE i;
<span class="preprocessor">#ifdef USE_LCD</span>
<span class="preprocessor"></span>        BYTE j;
        BYTE LCDPos=16;
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="keywordflow">for</span>(i = 0; i &lt; <span class="keyword">sizeof</span>(IP_ADDR); i++)
        {
            uitoa((WORD)IPVal.v[i], IPDigit);

<span class="preprocessor">                #if defined(STACK_USE_UART)</span>
<span class="preprocessor"></span>                        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(IPDigit);
<span class="preprocessor">                #endif</span>
<span class="preprocessor"></span>
<span class="preprocessor">                #ifdef USE_LCD</span>
<span class="preprocessor"></span>                        <span class="keywordflow">for</span>(j = 0; j &lt; strlen((<span class="keywordtype">char</span>*)IPDigit); j++)
                        {
                                LCDText[LCDPos++] = IPDigit[j];
                        }
                        <span class="keywordflow">if</span>(i == <span class="keyword">sizeof</span>(IP_ADDR)-1)
                                <span class="keywordflow">break</span>;
                        LCDText[LCDPos++] = <span class="charliteral">&#39;.&#39;</span>;
<span class="preprocessor">                #else</span>
<span class="preprocessor"></span>                        <span class="keywordflow">if</span>(i == <span class="keyword">sizeof</span>(IP_ADDR)-1)
                                <span class="keywordflow">break</span>;
<span class="preprocessor">                #endif</span>
<span class="preprocessor"></span>
<span class="preprocessor">                #if defined(STACK_USE_UART)</span>
<span class="preprocessor"></span>                        <span class="keywordflow">while</span>(<a class="code" href="_hardware_profile_8h.html#a368bdfb3943ca607fc02dbb50a2d2ef4">BusyUART</a>());
                        <a class="code" href="_hardware_profile_8h.html#ae9ce9744357df769e4bc230e7cbf03cc">WriteUART</a>(<span class="charliteral">&#39;.&#39;</span>);
<span class="preprocessor">                #endif</span>
<span class="preprocessor"></span>        }

<span class="preprocessor">        #ifdef USE_LCD</span>
<span class="preprocessor"></span>                <span class="keywordflow">if</span>(LCDPos &lt; 32u)
                        LCDText[LCDPos] = 0;
                LCDUpdate();
<span class="preprocessor">        #endif</span>
<span class="preprocessor"></span>}
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_a8a69fd5952a14c7bfa97a304380d4bc1_icgraph.svg" width="1166" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7c4561dc703960b7f5d24ec72ff34ba5"></a><!-- doxytag: member="xPL.h::SaveKVP" ref="a7c4561dc703960b7f5d24ec72ff34ba5" args="(char *TheKey, char *TheValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL SaveKVP </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>TheKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>TheValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Loads a Key and a Value from the UDP message. Populates this into variables.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">char</td><td>* TheKey, location to save the data for the key </td></tr>
    <tr><td class="paramname">char</td><td>* TheValue, location to save the data for the value </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>BOOL, true if processed as expected </dd></dl>

<p>Definition at line <a class="el" href="x_p_l_8c_source.html#l00969">969</a> of file <a class="el" href="x_p_l_8c_source.html">xPL.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00201">putsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00022">xPLMSGKEYLENGTH</a>, and <a class="el" href="x_p_l_8h_source.html#l00023">xPLMSGVALUELENGTH</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>.</p>
<div class="fragment"><pre class="fragment">                                              {

        <span class="keywordtype">int</span> <span class="keywordtype">short</span> <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>;
        <span class="keywordtype">char</span> NextChar;

        <span class="comment">// clear out any old data</span>
        memset (TheKey, <span class="charliteral">&#39;\0&#39;</span>, <a class="code" href="x_p_l_8h.html#a8093f823771092ea99bef8d0b1ce5454">xPLMSGKEYLENGTH</a>);
        memset (TheValue, <span class="charliteral">&#39;\0&#39;</span>, <a class="code" href="x_p_l_8h.html#aae5a87b8c5b796965aa8548462ed8f39">xPLMSGVALUELENGTH</a>);

        <span class="comment">// Load character by character</span>
        <span class="keywordflow">for</span> (iCount =0; iCount &lt; <a class="code" href="x_p_l_8h.html#a8093f823771092ea99bef8d0b1ce5454">xPLMSGKEYLENGTH</a>; iCount++) {
                UDPGet(&amp;NextChar);
                <span class="keywordflow">if</span>(NextChar &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; NextChar &lt;= <span class="charliteral">&#39;Z&#39;</span>)
                        NextChar -= <span class="charliteral">&#39;A&#39;</span> - <span class="charliteral">&#39;a&#39;</span>; <span class="comment">//Convert to lower case for the key but we dont want to do that for the value</span>
                <span class="keywordflow">if</span> (NextChar == <span class="charliteral">&#39;=&#39;</span>) <span class="keywordflow">break</span>;
                <span class="keywordflow">if</span> (NextChar == <span class="charliteral">&#39;}&#39;</span>) <span class="keywordflow">return</span> <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                TheKey[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] = NextChar;
        } <span class="comment">// for key</span>


<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;TheKey = &quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TheKey);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

        <span class="keywordflow">for</span> (iCount =0; iCount &lt; <a class="code" href="x_p_l_8h.html#aae5a87b8c5b796965aa8548462ed8f39">xPLMSGVALUELENGTH</a>; iCount++) {
                UDPGet(&amp;NextChar);
                <span class="keywordflow">if</span> (NextChar == <span class="charliteral">&#39;\n&#39;</span>) <span class="keywordflow">break</span>;
                <span class="keywordflow">if</span> (NextChar == <span class="charliteral">&#39;}&#39;</span>) <span class="keywordflow">return</span> <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                TheValue[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] = NextChar;
        } <span class="comment">// for key</span>


<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; TheValue = &quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TheValue);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

        <span class="keywordflow">return</span> <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;

}
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_a7c4561dc703960b7f5d24ec72ff34ba5_icgraph.svg" width="1120" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aea89a2e5b007623f49cb6117afc947ec"></a><!-- doxytag: member="xPL.h::SchemaInit" ref="aea89a2e5b007623f49cb6117afc947ec" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL SchemaInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function: SchemaInit PreCondition: UDP initalised, XPL initalised Side Effects: None Overview: General initalisiation procedure for any xPL schema(s). Set inital variables and system state after startup. Assumes TCIP is available and xPL configured. Returns FALSE if the default config options were loaded</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>BOOL, is the device configured </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00193">193</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00017">AlarmState</a>, <a class="el" href="_hardware_profile_8h_source.html#l00120">AN2_TRIS</a>, <a class="el" href="_hardware_profile_8h_source.html#l00121">AN3_TRIS</a>, <a class="el" href="_hardware_profile_8h_source.html#l00122">AN4_TRIS</a>, <a class="el" href="_main_demo_8c_source.html#l00030">AppConfig</a>, <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="_security_system_8h_source.html#l00100">Battery_Disconnected</a>, <a class="el" href="_battery_8c_source.html#l00026">BatteryState</a>, <a class="el" href="x_p_l_8h_source.html#l00006">BOOL</a>, <a class="el" href="_security_system_8h_source.html#l00179">ZoneConfigs::BounceDelay</a>, <a class="el" href="_security_system_8h_source.html#l00273">xPLTaskLists::CurentTask</a>, <a class="el" href="_security_system_8h_source.html#l00310">SMTPTaskLists::CurentTask</a>, <a class="el" href="_security_system_8h_source.html#l00012">DEVICEDESCLENGTH</a>, <a class="el" href="_security_system_8h_source.html#l00110">Disarmed</a>, <a class="el" href="_custom_s_n_t_p_8c_source.html#l00134">dwLastUpdateTick</a>, <a class="el" href="_security_system_8h_source.html#l00042">EEDATASTART_AREA</a>, <a class="el" href="_main_demo_8c_source.html#l00025">EEDATASTART_CONFIG</a>, <a class="el" href="_security_system_8h_source.html#l00044">EEDATASTART_DEVICEDESC</a>, <a class="el" href="_security_system_8h_source.html#l00045">EEDATASTART_MPFS</a>, <a class="el" href="_security_system_8h_source.html#l00043">EEDATASTART_USER</a>, <a class="el" href="_security_system_8h_source.html#l00040">EEDATASTART_XPL</a>, <a class="el" href="_security_system_8h_source.html#l00041">EEDATASTART_ZONE</a>, <a class="el" href="_security_system_8c_source.html#l00021">EntryTimer</a>, <a class="el" href="_security_system_8c_source.html#l00025">ExitTimer</a>, <a class="el" href="_hardware_profile_8h_source.html#l00072">EXT_SIREN_IO</a>, <a class="el" href="_hardware_profile_8h_source.html#l00071">EXT_SIREN_TRIS</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8h_source.html#l00274">xPLTaskLists::FreePosition</a>, <a class="el" href="_security_system_8h_source.html#l00311">SMTPTaskLists::FreePosition</a>, <a class="el" href="_security_system_8h_source.html#l00276">xPLTaskLists::GatewayChangedTimer</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_hardware_profile_8h_source.html#l00070">INT_SIREN_IO</a>, <a class="el" href="_hardware_profile_8h_source.html#l00069">INT_SIREN_TRIS</a>, <a class="el" href="_security_system_8h_source.html#l00190">AreaConfigs::IsAlarmed</a>, <a class="el" href="_security_system_8h_source.html#l00172">ZoneConfigs::IsAlarmed</a>, <a class="el" href="_security_system_8h_source.html#l00189">AreaConfigs::IsArmed</a>, <a class="el" href="_security_system_8h_source.html#l00171">ZoneConfigs::IsArmed</a>, <a class="el" href="_security_system_8h_source.html#l00191">AreaConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00173">ZoneConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00187">AreaConfigs::IsIsolated</a>, <a class="el" href="_security_system_8h_source.html#l00169">ZoneConfigs::IsIsolated</a>, <a class="el" href="_security_system_8h_source.html#l00192">AreaConfigs::IsTampered</a>, <a class="el" href="_security_system_8h_source.html#l00174">ZoneConfigs::IsTampered</a>, <a class="el" href="_security_system_8h_source.html#l00186">AreaConfigs::IsTriggered</a>, <a class="el" href="_security_system_8h_source.html#l00166">ZoneConfigs::IsTriggered</a>, <a class="el" href="_security_system_8c_source.html#l00039">LastZoneAlarmed</a>, <a class="el" href="_security_system_8c_source.html#l00433">LoadDefaultConfig()</a>, <a class="el" href="_security_system_8c_source.html#l00027">NextZoneCheckDelay</a>, <a class="el" href="_security_system_8h_source.html#l00062">NTP_TEST_DONE</a>, <a class="el" href="_custom_s_n_t_p_8c_source.html#l00137">NTPTestResponse</a>, <a class="el" href="_hardware_profile_8h_source.html#l00086">PLEXERA_0_IO</a>, <a class="el" href="_hardware_profile_8h_source.html#l00085">PLEXERA_0_TRIS</a>, <a class="el" href="_hardware_profile_8h_source.html#l00084">PLEXERA_1_IO</a>, <a class="el" href="_hardware_profile_8h_source.html#l00083">PLEXERA_1_TRIS</a>, <a class="el" href="_hardware_profile_8h_source.html#l00082">PLEXERA_2_IO</a>, <a class="el" href="_hardware_profile_8h_source.html#l00081">PLEXERA_2_TRIS</a>, <a class="el" href="_hardware_profile_8h_source.html#l00079">PLEXERA_S_TRIS</a>, <a class="el" href="_security_system_8c_source.html#l00019">PreviousAlarmState</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00201">putsUART</a>, <a class="el" href="_authenticate_8c_source.html#l00017">RejectedPassword</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00360">SendGatewayReady()</a>, <a class="el" href="_hardware_profile_8h_source.html#l00076">SLA_CHARGER_IO</a>, <a class="el" href="_hardware_profile_8h_source.html#l00075">SLA_CHARGER_TRIS</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00030">SMPTTestResult</a>, <a class="el" href="_security_system_8h_source.html#l00217">xPLConfigs::SMTP_Active</a>, <a class="el" href="_security_system_8h_source.html#l00291">SMTP_Reset</a>, <a class="el" href="_security_system_8h_source.html#l00304">SMTPTaskStack::SMTP_SendType</a>, <a class="el" href="_security_system_8h_source.html#l00299">SMTP_SM_Done</a>, <a class="el" href="_security_system_8h_source.html#l00297">SMTP_SM_InQ</a>, <a class="el" href="_security_system_8h_source.html#l00305">SMTPTaskStack::SMTP_State</a>, <a class="el" href="_security_system_8h_source.html#l00287">SMTP_Test</a>, <a class="el" href="_security_system_8h_source.html#l00060">SMTP_TEST_DONE</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00613">SMTPQueueEmail()</a>, <a class="el" href="_security_system_8h_source.html#l00057">SMTPSMSIZE</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00027">SMTPTaskList</a>, <a class="el" href="_hardware_profile_8h_source.html#l00074">STROBE_IO</a>, <a class="el" href="_hardware_profile_8h_source.html#l00073">STROBE_TRIS</a>, <a class="el" href="_hardware_profile_8h_source.html#l00116">SUPPLY_ACTIVE_TRIS</a>, <a class="el" href="_security_system_8h_source.html#l00312">SMTPTaskLists::Task</a>, <a class="el" href="_security_system_8c_source.html#l00023">TriggeredEntryZone</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="_security_system_8h_source.html#l00011">USERCOUNT</a>, <a class="el" href="_security_system_8h_source.html#l00009">USERNAMELENGTH</a>, <a class="el" href="_security_system_8h_source.html#l00010">USERPASSLENGTH</a>, <a class="el" href="x_p_l_8c_source.html#l00157">xPLLoadEEConfig()</a>, <a class="el" href="x_p_l_8h_source.html#l00020">ZONECHECKDELAY</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="x_p_l_8c_source.html#l00109">xPLInit()</a>.</p>
<div class="fragment"><pre class="fragment">                       {

        <a class="code" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> ReturnResult = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
        <span class="keywordtype">char</span> TempVal[4];
        BYTE * ptr;


        <span class="comment">//Load configuration data</span>
        <span class="keywordflow">if</span> (<a class="code" href="x_p_l_8c.html#a31c1c8faace74e23f37a03b7292f7981">xPLLoadEEConfig</a>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>, <a class="code" href="_security_system_8h.html#a84d6a5346b04effd1160f34d13abd01c">EEDATASTART_ZONE</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>)) == <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>) {
                <span class="comment">//EE data incorrect</span>
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; # NOTE# ZoneConfig Loaded default Security Settings\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                ReturnResult = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        }


        <span class="keywordflow">if</span> (<a class="code" href="x_p_l_8c.html#a31c1c8faace74e23f37a03b7292f7981">xPLLoadEEConfig</a>(&amp;<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>, <a class="code" href="_security_system_8h.html#ae33a92f4e46c1d70d59e71bd1eecc209">EEDATASTART_XPL</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>)) == <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>) {
                <span class="comment">//EE data incorrect</span>
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; # NOTE# xPLConfig Loaded default Security Settings\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                ReturnResult = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        }


        <span class="keywordflow">if</span> (<a class="code" href="x_p_l_8c.html#a31c1c8faace74e23f37a03b7292f7981">xPLLoadEEConfig</a>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>, <a class="code" href="_security_system_8h.html#a61748f301d79db0c4ecb09432705d105">EEDATASTART_AREA</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>)) == <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>) {
                <span class="comment">//EE data incorrect</span>
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; # NOTE# AreaConfig Loaded default Security Settings\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                ReturnResult = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        }

        <span class="keywordflow">if</span> (ReturnResult == <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>) <a class="code" href="_security_system_8c.html#aa38cdab46c967118f0f383312f150cce">LoadDefaultConfig</a>();

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>
        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <span class="keyword">sizeof</span>(<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>), TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;IP AppConfig  size: &quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; EEStarts:&quot;</span>);
        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_main_demo_8c.html#a91b87b60e38a5f2cad2d0725a1ae6306">EEDATASTART_CONFIG</a>, TempVal);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; EESize: &quot;</span>);
        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#ae33a92f4e46c1d70d59e71bd1eecc209">EEDATASTART_XPL</a> - (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="_main_demo_8c.html#a91b87b60e38a5f2cad2d0725a1ae6306">EEDATASTART_CONFIG</a>, TempVal);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);

        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);

        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>), TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Security Schema xPLConfig size: &quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; EEStarts:&quot;</span>);
        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#ae33a92f4e46c1d70d59e71bd1eecc209">EEDATASTART_XPL</a>, TempVal);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; EESize: &quot;</span>);
        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#a84d6a5346b04effd1160f34d13abd01c">EEDATASTART_ZONE</a> - (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="_security_system_8h.html#ae33a92f4e46c1d70d59e71bd1eecc209">EEDATASTART_XPL</a>, TempVal);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);

        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>), TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Security Schema ZoneConfig size: &quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; EEStarts:&quot;</span>);
        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#a84d6a5346b04effd1160f34d13abd01c">EEDATASTART_ZONE</a>, TempVal);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; EESize: &quot;</span>);
        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#a61748f301d79db0c4ecb09432705d105">EEDATASTART_AREA</a> - (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="_security_system_8h.html#a84d6a5346b04effd1160f34d13abd01c">EEDATASTART_ZONE</a>, TempVal);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);

        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>), TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Security Schema AreaConfig size: &quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; EEStarts:&quot;</span>);
        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#a61748f301d79db0c4ecb09432705d105">EEDATASTART_AREA</a>, TempVal);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; EESize: &quot;</span>);
        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#a1d0791661020cc7057f1ed794a848f20">EEDATASTART_USER</a> - (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="_security_system_8h.html#a61748f301d79db0c4ecb09432705d105">EEDATASTART_AREA</a>, TempVal);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);


        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#a330ed48a0698997047c61969a5245074">USERCOUNT</a> * (<a class="code" href="_security_system_8h.html#ab2d5f95a4974c4f332df9f6a41022219">USERNAMELENGTH</a> + <a class="code" href="_security_system_8h.html#abbe086a1e768641e6894ec5116a52ae9">USERPASSLENGTH</a>) , TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;User size: &quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; EEStarts:&quot;</span>);
        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#a1d0791661020cc7057f1ed794a848f20">EEDATASTART_USER</a>, TempVal);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; EESize: &quot;</span>);
        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#aa099c08420f2e838607142a7edaa8aa8">EEDATASTART_DEVICEDESC</a> - (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="_security_system_8h.html#a1d0791661020cc7057f1ed794a848f20">EEDATASTART_USER</a>, TempVal);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);


        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#a61145d9f711460b73af75ef123fc76f6">DEVICEDESCLENGTH</a> * (<a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a> + <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>) , TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Device desc size: &quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; EEStarts:&quot;</span>);
        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#aa099c08420f2e838607142a7edaa8aa8">EEDATASTART_DEVICEDESC</a>, TempVal);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; EESize: &quot;</span>);
        ultoa ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#a2ca5533dbf2ad86bca9710ea55ff6177">EEDATASTART_MPFS</a> - (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code" href="_security_system_8h.html#aa099c08420f2e838607142a7edaa8aa8">EEDATASTART_DEVICEDESC</a>, TempVal);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempVal);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);


        <span class="comment">//EEDATASTART_MPFS</span>



<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

        <span class="comment">//Clear timers</span>
        <a class="code" href="_security_system_8c.html#afdcc9abdceb871043a45617d58de2057" title="Zone Entery timer.">EntryTimer</a> = 0;
        <a class="code" href="_security_system_8c.html#a151f460a0544a0b747a38efae4124e24" title="Triggered Entery Zone that set off the timer.">TriggeredEntryZone</a> = 0;
        <a class="code" href="_security_system_8c.html#a8434e29b41874d33c95b3f339bd2bcdf" title="Exit timer - 0 means off.">ExitTimer</a> = 0;
        <a class="code" href="_security_system_8c.html#a23978f149ac907eb92db7176cbf9fec3" title="Delay used so we are not always checking the status of the zones.">NextZoneCheckDelay</a> = TickGet() + (TICK_SECOND / <a class="code" href="x_p_l_8h.html#a595e2cc97368633df0a707e6fcb8e8ff">ZONECHECKDELAY</a>);
        <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a48445b8ac06ecea79af8a778d3a7f6cc" title="Provides a delay in sending the xPL gateway changed message.">GatewayChangedTimer</a> = 0;
        <a class="code" href="_custom_s_n_t_p_8c.html#a134d28a3f8166df7163955525f14b25d" title="Tick count of last update.">dwLastUpdateTick</a> =0;


        <span class="comment">//Set initial alarm state, arming delay and previous arm state</span>
        <a class="code" href="_security_system_8c.html#a016286d63fa2bb14fec565ed023b35cf" title="Reflects the state of the alarm.">AlarmState</a> = <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfacf99f746f17e92913d15be9fc92d708c">Disarmed</a>;
        <a class="code" href="_security_system_8c.html#a47fd0ffa1fbd1faa655f15085dc0d801" title="The previous state of the alarm system, used when state change fails.">PreviousAlarmState</a> = <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfacf99f746f17e92913d15be9fc92d708c">Disarmed</a>;
        <a class="code" href="_security_system_8c.html#ab4811cda05bf084486e0e786e68498ea" title="The last zone to change to alarmed state. used in SMTP.c.">LastZoneAlarmed</a> = 0;
        <a class="code" href="_battery_8c.html#a35b967426a12072affebab82da722ef3" title="Keeps track of the battery state.">BatteryState</a> = <a class="code" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23acb436c94851aca2c06d4934c15ff3217">Battery_Disconnected</a>;
        memset(<a class="code" href="_authenticate_8c.html#a3b83b71efc87ba66b8d8311363b4296e" title="Tracks that last password that was rejected, useful when adding RFID tags.">RejectedPassword</a>, <span class="charliteral">&#39;\0&#39;</span>, <a class="code" href="_security_system_8h.html#abbe086a1e768641e6894ec5116a52ae9">USERPASSLENGTH</a>);
        <a class="code" href="_custom_s_n_t_p_8c.html#a6fec3fdfff459a953822db2e8ff9b462" title="stores the response from a SNTP test">NTPTestResponse</a> = <a class="code" href="_security_system_8h.html#a2ea42e00e0151b35178b5ddac534e048">NTP_TEST_DONE</a>; <span class="comment">// result of NTP test</span>

        <span class="comment">//initalise hardware</span>
        <span class="comment">// outputs</span>
        <a class="code" href="_hardware_profile_8h.html#a53e83de890cfbefdb186dd3f89204cc8">STROBE_TRIS</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#a5721d9a420c592eb0b6d9e334eb84767">STROBE_IO</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#a1de3b2d905a4123a67f30b48b3aadb8a">EXT_SIREN_TRIS</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#a753ae1d13e216a920d733f2f842b5509">EXT_SIREN_IO</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#a5f390fa21fc9e7db96c82a8eb6f15eb9">INT_SIREN_TRIS</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#a3d6972b809d9a8aa775020159fa48094">INT_SIREN_IO</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#aeed96c8ba9ee95a5900ce0e67378ce1b">SLA_CHARGER_TRIS</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#a6aea9cfdc4ca8f236fb56fdd5107e740">SLA_CHARGER_IO</a> = 0;

        <span class="comment">// Analogue Demulplexer</span>
        <a class="code" href="_hardware_profile_8h.html#a6d15d3b5f5f340715e34c1d17884226c">PLEXERA_0_TRIS</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#a63d60709b85d89fd5aa5ccef66c78712">PLEXERA_1_TRIS</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#a4d3536f6ac1b0db55474d99fc33a91a8">PLEXERA_2_TRIS</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#ad6637472ecf05d7fa457a91163c4adf9">PLEXERA_S_TRIS</a> = 0;

        <a class="code" href="_hardware_profile_8h.html#ad240303934714b68c211983564279b6e">PLEXERA_0_IO</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#ae9fc28adb8ff12e4031c2d60ff4a3fed">PLEXERA_1_IO</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#aa547ab8a4ada6918d048ff9723123699">PLEXERA_2_IO</a> = 0;


        <span class="comment">//inputs</span>
        <a class="code" href="_hardware_profile_8h.html#af1b2b18d76e428686609efff0028943c">SUPPLY_ACTIVE_TRIS</a> = 1;



        <span class="comment">// SMTP state machine, send out an email stating device has been restarted</span>

        <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a> = 0;
        <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#a252586a850ff6e288645a8a42adb50a6" title="Task number that is free to create a new task in.">FreePosition</a> = 1;
        <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[0].<a class="code" href="struct_s_m_t_p_task_stack.html#ad7d5f9f143e2b81309862ac4e9375751" title="Type of email to be sent.">SMTP_SendType</a> = <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71aee6aa005c1fc5d9f46f5aca5dd3660bc">SMTP_Reset</a>;
        <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[0].<a class="code" href="struct_s_m_t_p_task_stack.html#a79e69c016dcf680ccb574f0c9c88ed31" title="Current state of the task (State Machine)">SMTP_State</a> = <a class="code" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3ba51e3f81d22665d7ef84b971a484335bf">SMTP_SM_InQ</a>;
        <a class="code" href="_security_system_8h.html#a9cbd255a539aaee43372b00cbc47498e" title="used for testing email">SMPTTestResult</a> = <a class="code" href="_security_system_8h.html#a9b173d9d938f8987dbfbcbc284e1f3d1">SMTP_TEST_DONE</a>;

        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 1; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a3d9716c1403629a6282a6ad8a7300326">SMTPSMSIZE</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#ad7d5f9f143e2b81309862ac4e9375751" title="Type of email to be sent.">SMTP_SendType</a> = <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71ab3c9d4bf0dca93207eab351655af17df">SMTP_Test</a>;
                <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#a79e69c016dcf680ccb574f0c9c88ed31" title="Current state of the task (State Machine)">SMTP_State</a> = <a class="code" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3ba3da8cf88892b271e88d8defa9dff74c1">SMTP_SM_Done</a>;
        }

        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a9dca0cb314a3d8a1cb83a2b474296cce" title="If the zone in a triggered state.">IsTriggered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#abd82b1c153a91f2827b0bec6eee7ad7b" title="Is Zone Armed.">IsArmed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a1053e4f4ba65f6a78cfd3b179c46eaaa" title="Did the zone cause the alarm to go off.">IsAlarmed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#ad96ab4189da090b75417a4705b3c092b" title="Timer for reducing impact of a bouncing IO lines.">BounceDelay</a> = 0;
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a71861cd65add7649dffdc7f99c57595c" title="Is the zone in a tampered state.">IsTampered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a0fcb99621e1f25f5b6c07b71ab6a4266" title="Is zone isolated.">IsIsolated</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;  <span class="comment">// should not continue state after a restart</span>
        } <span class="comment">// for</span>

        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a4b3904923f06e20608888f1d3ad4ac08" title="Is the Area triggered.">IsTriggered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a87176e7c401e0d23559f04abab98a3fc" title="Is area Armed.">IsArmed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a8caed50b4c827a114fceba5e95d4a377" title="Did a zone in this area cause the alarm to go off.">IsAlarmed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a711da45ad4b0c06e1aaee9d2ba6108aa" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a89339700ce4076bbf66e8efd9803c393" title="Is area isolated.">IsIsolated</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; <span class="comment">// should not continue state after a restart</span>
                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#ad6fce28b6a7036035b3a51d4d25df694" title="Has a zone in this area been tampered.">IsTampered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        } <span class="comment">//for</span>

        <span class="comment">// xPL task buffer</span>
        <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a15bcecd7cf38b7e1a6da604b9f96893b" title="Task number that is free to create a new task in.">FreePosition</a> = 0;
        <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#abbf0faf76076ff68cafd60bd0e082055" title="End up being the last task that was processed.">CurentTask</a> =0;

        <span class="comment">// Set the TRIS flags to input for all of the A/D pins, page 331 chapter 21.0 of data sheet</span>
        <a class="code" href="_hardware_profile_8h.html#abb17eaaadd6437f64cb20506d50a41ad">AN2_TRIS</a> = 1;
        <a class="code" href="_hardware_profile_8h.html#a4cb9bcd7a69970fc25ceff5ad7b6c5a3">AN3_TRIS</a> = 1;
        <a class="code" href="_hardware_profile_8h.html#a0efd8703575b6127cc852d23c8657084">AN4_TRIS</a> = 1;

        <span class="comment">// Setup the A/D channels, page 329 of data sheet</span>
        ADCON0 = 0b00001001;    <span class="comment">// ADON = On(1), GO/DONE = Idle (0), AN1 selected (1000)</span>
        ADCON1 = 0b00001010;    <span class="comment">// upto AN4 enabled (1010), VCFG0 (Voltage ref) = Vdd/Vss (00)</span>
        ADCON2 = 0b10111110;    <span class="comment">// Fosc/64 (~21.0kHz) (110), 20TAD acquisition time (111), Right justify (0)</span>

        <span class="comment">// Do a calibration A/D conversion</span>
        ADCON0bits.ADCAL = 1;
    ADCON0bits.GO = 1;
        <span class="keywordflow">while</span>(ADCON0bits.GO);
        ADCON0bits.ADCAL = 0;



        <span class="comment">//Queue reset email</span>
        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#ad7a2f7ae853ee440f60271813c6d6916" title="Disable emails.">SMTP_Active</a> == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
                <a class="code" href="_security_system_8h.html#ae777555850cf9c897f46c8407ce1729f" title="Places a new email in the SMTP queue to be processed (sent)">SMTPQueueEmail</a> (<a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71aee6aa005c1fc5d9f46f5aca5dd3660bc">SMTP_Reset</a>);

        <span class="comment">//Send gateway message</span>
        <a class="code" href="_security_x_p_l_sender_8c.html#ad811bd225b593df01e168e1bb0967713">SendGatewayReady</a>();

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Security Schema initalised, Gateway message sent.\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="keywordflow">return</span> ReturnResult;

}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_aea89a2e5b007623f49cb6117afc947ec_cgraph.svg" width="712" height="259" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_aea89a2e5b007623f49cb6117afc947ec_icgraph.svg" width="408" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3baecc6556e5cc7af0d59d0216aa217c"></a><!-- doxytag: member="xPL.h::SchemaProcessUDPMsg" ref="a3baecc6556e5cc7af0d59d0216aa217c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SchemaProcessUDPMsg </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function SchemaProcessUDPMsg PreCondition: None Side Effects: Changes Armed / arming flags Overview: Called by <a class="el" href="x_p_l_8c.html" title="xPL Framework">xPL.c</a> when ever a message is received. Here we determine what actions are needed in response to a message.</p>
<p>When changing the alarm state when there is no delay the arming timer is set to an expired value. This means the state change will not occur until the next task run occurs. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Delay</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l01642">1642</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_x_p_l_sender_8c_source.html#l00017">addxPLMessage()</a>, <a class="el" href="_security_system_8c_source.html#l00017">AlarmState</a>, <a class="el" href="_main_demo_8c_source.html#l00030">AppConfig</a>, <a class="el" href="_security_system_8c_source.html#l01122">Arm()</a>, <a class="el" href="_security_system_8c_source.html#l01192">ArmAway()</a>, <a class="el" href="_security_system_8c_source.html#l01162">ArmHome()</a>, <a class="el" href="_security_system_8c_source.html#l01220">ArmLatchkey()</a>, <a class="el" href="x_p_l_8h_source.html#l00006">BOOL</a>, <a class="el" href="x_p_l_8h_source.html#l00052">Class_Config</a>, <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="_security_system_8c_source.html#l01091">ClearArmingFlags()</a>, <a class="el" href="_security_system_8c_source.html#l00083">Command_arm</a>, <a class="el" href="_security_system_8c_source.html#l00085">Command_armaway</a>, <a class="el" href="_security_system_8c_source.html#l00084">Command_armhome</a>, <a class="el" href="_security_system_8c_source.html#l00086">Command_armlatchkey</a>, <a class="el" href="_security_system_8c_source.html#l00090">Command_bypass</a>, <a class="el" href="_security_system_8c_source.html#l00087">Command_disarm</a>, <a class="el" href="_security_system_8c_source.html#l00091">Command_enable</a>, <a class="el" href="_security_system_8c_source.html#l00089">Command_isolate</a>, <a class="el" href="_security_system_8c_source.html#l00088">Command_panic</a>, <a class="el" href="_security_system_8c_source.html#l01938">Disarm()</a>, <a class="el" href="_security_system_8h_source.html#l00110">Disarmed</a>, <a class="el" href="_main_demo_8c_source.html#l00237">DisplayIPValue()</a>, <a class="el" href="_main_demo_8c_source.html#l00025">EEDATASTART_CONFIG</a>, <a class="el" href="_security_system_8h_source.html#l00040">EEDATASTART_XPL</a>, <a class="el" href="_security_system_8h_source.html#l00263">xPLTasks::ErrorMessage</a>, <a class="el" href="_security_system_8h_source.html#l00204">xPLConfigs::ExitDelay</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8c_source.html#l01249">Panic()</a>, <a class="el" href="_hardware_profile_8h_source.html#l00203">putcUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00201">putsUART</a>, <a class="el" href="_security_system_8c_source.html#l00101">Request_areainfo</a>, <a class="el" href="_security_system_8c_source.html#l00099">Request_arealist</a>, <a class="el" href="_security_system_8c_source.html#l00104">Request_areastat</a>, <a class="el" href="_security_system_8c_source.html#l00097">Request_gateinfo</a>, <a class="el" href="_security_system_8c_source.html#l00102">Request_gatestat</a>, <a class="el" href="_security_system_8c_source.html#l00100">Request_zoneinfo</a>, <a class="el" href="_security_system_8c_source.html#l00098">Request_zonelist</a>, <a class="el" href="_security_system_8c_source.html#l00103">Request_zonestat</a>, <a class="el" href="x_p_l_8c_source.html#l00969">SaveKVP()</a>, <a class="el" href="_security_system_8c_source.html#l00068">SecurityCommandText</a>, <a class="el" href="_security_system_8c_source.html#l00109">SecurityRequestsText</a>, <a class="el" href="_security_system_8c_source.html#l01537">SetArming()</a>, <a class="el" href="_security_system_8h_source.html#l00277">xPLTaskLists::Task</a>, <a class="el" href="_security_system_8h_source.html#l00245">TB_Bypass</a>, <a class="el" href="_security_system_8h_source.html#l00246">TB_Enable</a>, <a class="el" href="_security_system_8h_source.html#l00244">TB_Isolate</a>, <a class="el" href="_security_system_8h_source.html#l00243">TB_SendAreaInfo</a>, <a class="el" href="_security_system_8h_source.html#l00241">TB_SendAreaList</a>, <a class="el" href="_security_system_8h_source.html#l00253">TB_SendAreaStat</a>, <a class="el" href="_security_system_8h_source.html#l00233">TB_SendConfigCurrent</a>, <a class="el" href="_security_system_8h_source.html#l00234">TB_SendConfigList</a>, <a class="el" href="_security_system_8h_source.html#l00251">TB_SendError</a>, <a class="el" href="_security_system_8h_source.html#l00252">TB_SendGateStat</a>, <a class="el" href="_security_system_8h_source.html#l00239">TB_SendGatewayInfo</a>, <a class="el" href="_security_system_8h_source.html#l00242">TB_SendZoneInfo</a>, <a class="el" href="_security_system_8h_source.html#l00240">TB_SendZoneList</a>, <a class="el" href="_security_system_8h_source.html#l00254">TB_SendZoneStat</a>, <a class="el" href="x_p_l_8h_source.html#l00080">To_Me</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00058">Type_Basic</a>, <a class="el" href="x_p_l_8h_source.html#l00063">Type_Current</a>, <a class="el" href="x_p_l_8h_source.html#l00059">Type_List</a>, <a class="el" href="x_p_l_8h_source.html#l00062">Type_Request</a>, <a class="el" href="x_p_l_8h_source.html#l00061">Type_Response</a>, <a class="el" href="_security_system_8c_source.html#l00037">UserID</a>, <a class="el" href="_security_system_8h_source.html#l00009">USERNAMELENGTH</a>, <a class="el" href="_security_system_8h_source.html#l00202">xPLConfigs::xPL_Heartbeat_Interval</a>, <a class="el" href="x_p_l_8h_source.html#l00089">xPLReceivedMessages::xPL_MsgDestination</a>, <a class="el" href="_security_system_8h_source.html#l00203">xPLConfigs::xPL_My_Instance_ID</a>, <a class="el" href="x_p_l_8h_source.html#l00090">xPLReceivedMessages::xPL_SchemaClass</a>, <a class="el" href="x_p_l_8h_source.html#l00091">xPLReceivedMessages::xPL_SchemaTypes</a>, <a class="el" href="_authenticate_8c_source.html#l00039">xPLAuthenticate()</a>, <a class="el" href="x_p_l_8c_source.html#l00938">xPLFindArrayInKVP()</a>, <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>, <a class="el" href="x_p_l_8c_source.html#l00016">xPLMsgValue</a>, <a class="el" href="x_p_l_8c_source.html#l00083">xPLReceivedMessage</a>, and <a class="el" href="x_p_l_8c_source.html#l00194">xPLSaveEEConfig()</a>.</p>

<p>Referenced by <a class="el" href="x_p_l_8c_source.html#l00415">XPLProcessUDPMsg()</a>.</p>
<div class="fragment"><pre class="fragment">                                {

        <span class="keywordtype">int</span> <span class="keywordtype">short</span> TimeDelay = <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#ad7d66e7cbab58c033063b466e51e0f13" title="Number of seconds you have to exit from an entry/exit zone.">ExitDelay</a>;
        <span class="keywordtype">int</span> TheMessageType, xPLTaskID;

        <a class="code" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> MessageIsCommand = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        <a class="code" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> MessageIsRequest = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

        <span class="comment">// Ensure the message is directed to me and its of the security class</span>
        <span class="keywordflow">if</span> ((<a class="code" href="x_p_l_8c.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a>.<a class="code" href="structx_p_l_received_messages.html#ab389803873f6bde1cdd2e89c436ac34c">xPL_MsgDestination</a> == <a class="code" href="x_p_l_8h.html#a8e8eafaa87afd5b6b2a4b1ffef4ff043a3f4644701fe4498e5659a493d4e8ef16">To_Me</a> ) &amp;&amp; (<a class="code" href="x_p_l_8c.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a>.<a class="code" href="structx_p_l_received_messages.html#a59a980a83b46913e7f350229a3499710">xPL_SchemaClass</a> == <a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>))  {

                <span class="comment">// clear out any left over flags</span>
                <a class="code" href="_security_system_8c.html#a491f8822a8274ca5244c41d226e7136e">ClearArmingFlags</a>();
                memset(<a class="code" href="_security_system_8c.html#af1c18f7532835833de15218c3aa5d146" title="Name of user.">UserID</a>,<span class="charliteral">&#39;\0&#39;</span>,<a class="code" href="_security_system_8h.html#ab2d5f95a4974c4f332df9f6a41022219">USERNAMELENGTH</a>);

                <span class="comment">// We have to process all of the message before we can act on it as the message could be out of order. Open standards are not always standard</span>
                <span class="keywordflow">while</span> (<a class="code" href="x_p_l_8c.html#a7c4561dc703960b7f5d24ec72ff34ba5">SaveKVP</a>(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a> )) {

                        <span class="keywordflow">if</span> (memcmppgm2ram(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>, <span class="stringliteral">&quot;user&quot;</span>, 4)) {
                                <span class="keywordflow">if</span> (!<a class="code" href="_authenticate_8c.html#a207b19b2185ffaa19d1d3f053b996121">xPLAuthenticate</a>(<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>))
                                        <span class="keywordflow">return</span>;
                        }
                        <span class="keywordflow">if</span> (memcmppgm2ram(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>, (ROM <span class="keywordtype">void</span>*)<span class="stringliteral">&quot;area-list&quot;</span>,9)) <a class="code" href="_security_system_8c.html#a9b56fcd765dadf3ef1f50d01c51caf7b">SetArming</a>(<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>, <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
                        <span class="keywordflow">if</span> (memcmppgm2ram(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>, (ROM <span class="keywordtype">void</span>*)<span class="stringliteral">&quot;zone-list&quot;</span>,9)) <a class="code" href="_security_system_8c.html#a9b56fcd765dadf3ef1f50d01c51caf7b">SetArming</a>(<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);
                        <span class="keywordflow">if</span> (memcmppgm2ram(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>, (ROM <span class="keywordtype">void</span>*)<span class="stringliteral">&quot;delay&quot;</span>,5))  {
                                <span class="comment">// Process delay value. If we receive text its might be the word &#39;default&#39;, either way we use the default value.</span>
                                <span class="keywordflow">if</span>( isdigit((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>[0] ) ==0 )
                                        TimeDelay = <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#ad7d66e7cbab58c033063b466e51e0f13" title="Number of seconds you have to exit from an entry/exit zone.">ExitDelay</a>;
                                <span class="keywordflow">else</span>
                                        TimeDelay = atoi(xPLMsgValue);
                        }

                        <span class="keywordflow">if</span> (memcmppgm2ram(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>, <span class="stringliteral">&quot;command&quot;</span>,7)) {
                                <span class="keywordflow">if</span> (!<a class="code" href="x_p_l_8c.html#ace930888808081ff410b21e68caa146e">xPLFindArrayInKVP</a>(<a class="code" href="_security_system_8c.html#af91208010d91e259396c6c53d667fcba" title="Security command Types.">SecurityCommandText</a>, 8, &amp;TheMessageType, <a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#Note# command type not known\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                                }
                                <span class="keywordflow">else</span> MessageIsCommand = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                        }
                        <span class="keywordflow">if</span> (memcmppgm2ram(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>, <span class="stringliteral">&quot;request&quot;</span>,7)) {
                                <span class="keywordflow">if</span> (!<a class="code" href="x_p_l_8c.html#ace930888808081ff410b21e68caa146e">xPLFindArrayInKVP</a>(<a class="code" href="_security_system_8c.html#a336f7f26b04a493c92ff0eae09249b04" title="xPL feild values for the different security requests">SecurityRequestsText</a>, 8, &amp;TheMessageType, <a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#Note# request type not known\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                                }
                                <span class="keywordflow">else</span> MessageIsRequest = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                        }

                } <span class="comment">// while</span>


                <span class="comment">// ### Message Type BASIC</span>

                <span class="keywordflow">if</span> (<a class="code" href="x_p_l_8c.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a>.<a class="code" href="structx_p_l_received_messages.html#acc1f47c8a31f619f2c3b15db4f95285f">xPL_SchemaTypes</a> == <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a563aada2692fff4210fdcac659bae9cc">Type_Basic</a>) {

                        <span class="keywordflow">if</span> (MessageIsCommand) {

                                <span class="keywordflow">switch</span> (TheMessageType) {

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#aea3c10886080003d3d5a40b19f6f3c08af953b4b23f7933bb7148f4fd2f4d9aae">Command_arm</a>: <span class="comment">// Arm, needs area list or zone list</span>
                                                <a class="code" href="_security_system_8c.html#a723bf79e9ca7924d850e5c2be4029b1c">Arm</a>(TimeDelay);
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#aea3c10886080003d3d5a40b19f6f3c08adfc5c835fcf7add63ec8e839ff2a846b">Command_armhome</a>:
                                                <a class="code" href="_security_system_8c.html#afba09fe6505822eb03078088f14ef89b">ArmHome</a>(TimeDelay);
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#aea3c10886080003d3d5a40b19f6f3c08a351cb1b3fde20dae93a5344814889737">Command_armaway</a>:
                                                <a class="code" href="_security_system_8c.html#af7b9ebfe6bb90725304e83cadb4cced8">ArmAway</a> (TimeDelay);
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#aea3c10886080003d3d5a40b19f6f3c08a8b95dc8b3febc1e51d0699702e30a137">Command_armlatchkey</a>:
                                                <a class="code" href="_security_system_8c.html#aad7b06369f4a1f3b427e137a9f84a5c0">ArmLatchkey</a> (TimeDelay);
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#aea3c10886080003d3d5a40b19f6f3c08a1ac06035919818d044954d9cf9d68dde">Command_disarm</a>:
                                                <span class="comment">// call Disarm and pass the userID</span>
                                                <a class="code" href="_security_system_8c.html#a3ca20943ab34a0d560cd22d88c0ba324">Disarm</a>();
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#aea3c10886080003d3d5a40b19f6f3c08a45eadd60d4f065943c841d6a8682b5e4">Command_panic</a>:
                                                <a class="code" href="_security_system_8c.html#a1e04428a714d6c8c97cb8685f96933ee">Panic</a>();
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#aea3c10886080003d3d5a40b19f6f3c08a945b5d03dcd30118efa772ec4ae14cf7">Command_isolate</a>:
                                                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba50a9d18dd2121632a2d41890f9e0dcad">TB_Isolate</a>) ;
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#aea3c10886080003d3d5a40b19f6f3c08a1756fe5c3e13e8988832985f8af899f6">Command_bypass</a>:
                                                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba1a2f5c1ced4a7a6ef76d5a6e0ebf26f1">TB_Bypass</a>) ;
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#aea3c10886080003d3d5a40b19f6f3c08a87c07783dd8ff733fda99725cfd1e5b0">Command_enable</a>:
                                                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debae35285ccd71be17edd6c76911642a84f">TB_Enable</a>) ;
                                                <span class="keywordflow">break</span>;

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                        <span class="keywordflow">default</span>:
                                                <span class="comment">// Something has gone wrong!</span>
                                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# Shit, something broke with Type_Basic when the message was received\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

                                } <span class="comment">// switch (TheMessageType)</span>
                        } <span class="comment">// MessageIsCommand</span>

                } <span class="comment">// xPLReceivedMessage.xPL_SchemaTypes == Type_Basic</span>


                <span class="comment">// ### Message Type REQUEST</span>

                <span class="keywordflow">if</span> (<a class="code" href="x_p_l_8c.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a>.<a class="code" href="structx_p_l_received_messages.html#acc1f47c8a31f619f2c3b15db4f95285f">xPL_SchemaTypes</a> == <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a12ea3a88f0bdd182c98dfc1ad5f68867">Type_Request</a>) {

                        <span class="keywordflow">if</span> (MessageIsRequest) {
                                <span class="keywordflow">switch</span> (TheMessageType) {

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#ae2ec37fa8ed9b3ea088b6d2706c86437a950bb9198ceed41b4fa58c52c4219202">Request_gateinfo</a>:
                                                <span class="comment">// Send gateway infomation</span>
                                                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba3531a51bf0de6afa086227bd386757da">TB_SendGatewayInfo</a>) ;
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#ae2ec37fa8ed9b3ea088b6d2706c86437a56c4cda2eca98607416789e07fe098a1">Request_zonelist</a>:
                                                <span class="comment">// Send zone list</span>
                                                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba4958f2b5966c8bd39b22f0059854cd65">TB_SendZoneList</a>) ;
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#ae2ec37fa8ed9b3ea088b6d2706c86437a7c2ab7bb2767342006fcf840b3922222">Request_arealist</a>:
                                                <span class="comment">// Send area list</span>
                                                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debadefe2c183f4cb0391d6a20a2a98abeb1">TB_SendAreaList</a> );
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#ae2ec37fa8ed9b3ea088b6d2706c86437a2f68f0ea36ad356dc59021f821a86650">Request_zoneinfo</a>:
                                                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaa663ca6dd0a7b91286407c39174ad3c5">TB_SendZoneInfo</a> );
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#ae2ec37fa8ed9b3ea088b6d2706c86437a77686e4b463b992bbd2178fd7fa20ee0">Request_areainfo</a>:
                                                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaa5ae73dc445f6834a30b88b5ec7741aa">TB_SendAreaInfo</a> );
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#ae2ec37fa8ed9b3ea088b6d2706c86437ae1cbf0a766db6406efa86b2daf1b00f4">Request_gatestat</a>:
                                                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba481ff892e48385c5941818d48dfde8bf">TB_SendGateStat</a>);
                                                <span class="keywordflow">break</span>;

                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#ae2ec37fa8ed9b3ea088b6d2706c86437a17510580ff47d74aad9501376c4011c6">Request_zonestat</a>:
                                                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debadae4078c6aaf8dab7f05974d72be0b84">TB_SendZoneStat</a>);
                                                <span class="keywordflow">break</span>;
                
                                        <span class="keywordflow">case</span> <a class="code" href="_security_system_8c.html#ae2ec37fa8ed9b3ea088b6d2706c86437a42f999a570bd973e9e119bee0ce3649b">Request_areastat</a>:
                                                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba25a621bc1f223ff1e6ef8980a4103932">TB_SendAreaStat</a>);
                                                <span class="keywordflow">break</span>;

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                                <span class="keywordflow">default</span>:
                                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# Shit broken with Type_Request when msg rc&#39;d\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

                                } <span class="comment">//switch (TheMessageType)</span>
                        }<span class="comment">// MessageIsRequest</span>
                } <span class="comment">// xPLReceivedMessage.xPL_SchemaTypes == Type_Request</span>


        } <span class="comment">// To_Me &amp;&amp; Class_Security</span>



        <span class="comment">// #### Device Configuration ###</span>

        <span class="keywordflow">if</span> ((<a class="code" href="x_p_l_8c.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a>.<a class="code" href="structx_p_l_received_messages.html#ab389803873f6bde1cdd2e89c436ac34c">xPL_MsgDestination</a> == <a class="code" href="x_p_l_8h.html#a8e8eafaa87afd5b6b2a4b1ffef4ff043a3f4644701fe4498e5659a493d4e8ef16">To_Me</a> ) &amp;&amp; (<a class="code" href="x_p_l_8c.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a>.<a class="code" href="structx_p_l_received_messages.html#a59a980a83b46913e7f350229a3499710">xPL_SchemaClass</a> == <a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba14f0290b427ed1601cbd6b99072f4401">Class_Config</a>))  {

                <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#a016286d63fa2bb14fec565ed023b35cf" title="Reflects the state of the alarm.">AlarmState</a> != <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfacf99f746f17e92913d15be9fc92d708c">Disarmed</a>) {
                        <span class="comment">//      Note: do not allowing config changes when not in the disarmed state. A restart would make the system disarmed and or remove</span>
                        <span class="comment">//      parts of the alarm which would be a security risk.</span>
                        xPLTaskID = <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debade489309cf96b23ec7a59ab75f32e863">TB_SendError</a>);
                        <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[xPLTaskID].<a class="code" href="structx_p_l_tasks.html#a2c690f89f7d46cffb66d86187f378cb3" title="Error message passed to SendError.">ErrorMessage</a> = <span class="stringliteral">&quot;Must be disarmed to update config&quot;</span>;
                }
                <span class="keywordflow">else</span> {

                        <span class="keywordflow">if</span> (<a class="code" href="x_p_l_8c.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a>.<a class="code" href="structx_p_l_received_messages.html#acc1f47c8a31f619f2c3b15db4f95285f">xPL_SchemaTypes</a> == <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014adf15d91ef041bd13132e6c4fbfcced4f">Type_List</a>) 
                                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a>(<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba62487ade0039ada8325f00b58a204929">TB_SendConfigList</a>);
                                
                        <span class="keywordflow">if</span> (<a class="code" href="x_p_l_8c.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a>.<a class="code" href="structx_p_l_received_messages.html#acc1f47c8a31f619f2c3b15db4f95285f">xPL_SchemaTypes</a> == <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a1168ef3342189eb73f687fbfefa5225c">Type_Current</a>) 
                                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debad4750e901f520114b30dc39d8d70a0a0">TB_SendConfigCurrent</a>);
                        
                        <span class="keywordflow">if</span> (<a class="code" href="x_p_l_8c.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a>.<a class="code" href="structx_p_l_received_messages.html#acc1f47c8a31f619f2c3b15db4f95285f">xPL_SchemaTypes</a> == <a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aed33e1220b37226b9c386d17cd8b8c6a">Type_Response</a>) {
                                <span class="keywordflow">while</span> (<a class="code" href="x_p_l_8c.html#a7c4561dc703960b7f5d24ec72ff34ba5">SaveKVP</a>(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a> )) {

                                        <span class="comment">// Device name</span>
                                        <span class="keywordflow">if</span> (stricmppgm2ram(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>, (ROM <span class="keywordtype">char</span>*) <span class="stringliteral">&quot;newconf&quot;</span>) ==0) {

                                                <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> =0; <a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a9c46c7c2fe40ff45c5a12adb588bf4d5" title="xPL instance name of this device">xPL_My_Instance_ID</a>); <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                                                        <span class="keywordflow">if</span>(<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; <a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] &lt;= <span class="charliteral">&#39;Z&#39;</span>)
                                                                <a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] -= <span class="charliteral">&#39;A&#39;</span> - <span class="charliteral">&#39;a&#39;</span>; <span class="comment">//Convert to lower case</span>
                                                        <span class="keywordflow">if</span>((<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] &gt; <span class="charliteral">&#39;z&#39;</span>) || (<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] &lt; <span class="charliteral">&#39;0&#39;</span>))  <a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>]  = 0;
                                                }

                                                <span class="keywordflow">if</span> (<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>[0] != <span class="charliteral">&#39;\0&#39;</span>) {
                                                        strcpy( <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a9c46c7c2fe40ff45c5a12adb588bf4d5" title="xPL instance name of this device">xPL_My_Instance_ID</a>, <a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>);
                                                        <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(&amp;<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>, <a class="code" href="_security_system_8h.html#ae33a92f4e46c1d70d59e71bd1eecc209">EEDATASTART_XPL</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>));
                                                }

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;newconf =&quot;</span>);
                                                <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a9c46c7c2fe40ff45c5a12adb588bf4d5" title="xPL instance name of this device">xPL_My_Instance_ID</a>);
                                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

                                        }
                                        <span class="keywordflow">if</span> (stricmppgm2ram(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>, (ROM <span class="keywordtype">char</span>*) <span class="stringliteral">&quot;interval&quot;</span>) ==0) {

                                                <span class="keywordflow">if</span>(atoi(<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>) &gt; 1 )  {
                                                        <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a7111b59426453cce173352e2d7ef9dc3" title="Interval of the xPL heatbeat message in seconds.">xPL_Heartbeat_Interval</a> = atoi(<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>);
                                                        <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(&amp;<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>, <a class="code" href="_security_system_8h.html#ae33a92f4e46c1d70d59e71bd1eecc209">EEDATASTART_XPL</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>));
                                                }

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;interval =&quot;</span>);
                                                <a class="code" href="_hardware_profile_8h.html#a35a0c78b8926c6695d170f9f6ff47c61">putcUART</a>( <span class="charliteral">&#39;0&#39;</span> + <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a7111b59426453cce173352e2d7ef9dc3" title="Interval of the xPL heatbeat message in seconds.">xPL_Heartbeat_Interval</a> );
                                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>


                                        }
                                        <span class="keywordflow">if</span> (stricmppgm2ram(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>, (ROM <span class="keywordtype">char</span>*) <span class="stringliteral">&quot;ip&quot;</span>) ==0) {

                                                <span class="keywordflow">if</span>(StringToIPAddress(<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>, &amp;(<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>.MyIPAddr))) {
                                                        memcpy((<span class="keywordtype">void</span>*)&amp;(<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>.DefaultIPAddr), (<span class="keywordtype">void</span>*)&amp;(<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>.MyIPAddr), <span class="keyword">sizeof</span>(IP_ADDR));
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;ip:&quot;</span>);
                                                        <a class="code" href="_main_demo_8c.html#a8a69fd5952a14c7bfa97a304380d4bc1">DisplayIPValue</a>(<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>.MyIPAddr);
                                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
                                                        <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(&amp;<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>, <a class="code" href="_main_demo_8c.html#a91b87b60e38a5f2cad2d0725a1ae6306">EEDATASTART_CONFIG</a>, <span class="keyword">sizeof</span>(<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>));
                                                }
                                                <span class="keywordflow">else</span> {
                                                        <span class="comment">//</span>
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;ip errored\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                                                }

                                        } <span class="comment">//ip</span>
                                        <span class="keywordflow">if</span> (stricmppgm2ram(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>, ( ROM <span class="keywordtype">char</span> *)<span class="stringliteral">&quot;subnet&quot;</span>) ==0)  {
                                                <span class="keywordflow">if</span>(StringToIPAddress(<a class="code" href="x_p_l_8c.html#a65d6c76d15acf1f33b1d8778f79881db" title="Used as a temp storage for processing messages, holds the value of a key value pair.">xPLMsgValue</a>, &amp;(<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>.MyMask))) {
                                                        memcpy((<span class="keywordtype">void</span>*)&amp;(<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>.DefaultMask), (<span class="keywordtype">void</span>*)&amp;(<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>.MyMask), <span class="keyword">sizeof</span>(IP_ADDR));
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Subnet:&quot;</span>);
                                                        <a class="code" href="_main_demo_8c.html#a8a69fd5952a14c7bfa97a304380d4bc1">DisplayIPValue</a>(<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>.MyMask);
                                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
                                                        <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(&amp;<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>, <a class="code" href="_main_demo_8c.html#a91b87b60e38a5f2cad2d0725a1ae6306">EEDATASTART_CONFIG</a>, <span class="keyword">sizeof</span>(<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>));
                                                }
                                                <span class="keywordflow">else</span> {
                                                        <span class="comment">//</span>
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Subnet errored\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                                                }
                                        }
                                } <span class="comment">// while</span>


<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n\r\n Restart ##############&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
                                Reset();
                        } <span class="comment">//AlarmState != Disarmed</span>
                }<span class="comment">// if ((xPLReceivedMessage.xPL_MsgDestination == To_Me ) &amp;&amp; (xPLReceivedMessage.xPL_SchemaClass == Class_Config))</span>



        }<span class="comment">// Config</span>


} <span class="comment">// SchemaProcessUDPMsg</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_a3baecc6556e5cc7af0d59d0216aa217c_cgraph.svg" width="1558" height="868" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_a3baecc6556e5cc7af0d59d0216aa217c_icgraph.svg" width="872" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a62b4d90791ab073f74677d42bfb64253"></a><!-- doxytag: member="xPL.h::SchemaTasks" ref="a62b4d90791ab073f74677d42bfb64253" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL SchemaTasks </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function SchemaTasks PreCondition: None Side Effects: None Overview: General task manager for any implemented xPL Schema(s)</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>add a timer that prevents the xPL task from blocking access to <a class="el" href="_security_system_8c.html#a3ccbc635f6f7bb31465920840c7db474">IOTasks()</a>;</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if no task has ran </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00591">591</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="_security_system_8c_source.html#l00033">BatteryCheckTimer</a>, <a class="el" href="_battery_8c_source.html#l00144">BatteryTask()</a>, <a class="el" href="x_p_l_8h_source.html#l00006">BOOL</a>, <a class="el" href="_security_system_8c_source.html#l02108">bypassZone()</a>, <a class="el" href="_security_system_8h_source.html#l00273">xPLTaskLists::CurentTask</a>, <a class="el" href="_security_system_8c_source.html#l02226">EnableZone()</a>, <a class="el" href="_security_system_8h_source.html#l00263">xPLTasks::ErrorMessage</a>, <a class="el" href="_security_system_8h_source.html#l00265">xPLTasks::FlaggedAreas</a>, <a class="el" href="_security_system_8h_source.html#l00264">xPLTasks::FlaggedZones</a>, <a class="el" href="_security_system_8h_source.html#l00274">xPLTaskLists::FreePosition</a>, <a class="el" href="_security_system_8h_source.html#l00276">xPLTaskLists::GatewayChangedTimer</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8c_source.html#l00780">IOTasks()</a>, <a class="el" href="_security_system_8h_source.html#l00191">AreaConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8c_source.html#l01995">IsolateZone()</a>, <a class="el" href="_security_system_8h_source.html#l00266">xPLTasks::NewZoneState</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00965">SendACStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00226">SendAlarmingMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00711">SendAreaInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00587">SendAreaList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01084">SendAreaStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00132">SendAreaStateMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">SendArmed()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00929">SendBatteryStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00774">SendConfigList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00504">SendDisarm()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00471">SendError()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00894">SendGatewayChanged()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00306">SendGatewayInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00545">SendZoneList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01180">SendZoneStat()</a>, <a class="el" href="_security_system_8h_source.html#l00290">SMTP_Alarmed</a>, <a class="el" href="_security_system_8h_source.html#l00288">SMTP_Arm</a>, <a class="el" href="_security_system_8h_source.html#l00219">xPLConfigs::SMTP_ArmDisarm</a>, <a class="el" href="_security_system_8h_source.html#l00289">SMTP_Disarm</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00613">SMTPQueueEmail()</a>, <a class="el" href="_security_system_8c_source.html#l01411">StateChangeToArmFailed()</a>, <a class="el" href="_security_system_8h_source.html#l00277">xPLTaskLists::Task</a>, <a class="el" href="_security_system_8h_source.html#l00262">xPLTasks::TaskBuffered</a>, <a class="el" href="_security_system_8h_source.html#l00267">xPLTasks::TaskState</a>, <a class="el" href="_security_system_8h_source.html#l00235">TB_ArmFailed</a>, <a class="el" href="_security_system_8h_source.html#l00245">TB_Bypass</a>, <a class="el" href="_security_system_8h_source.html#l00246">TB_Enable</a>, <a class="el" href="_security_system_8h_source.html#l00244">TB_Isolate</a>, <a class="el" href="_security_system_8h_source.html#l00238">TB_Panic</a>, <a class="el" href="_security_system_8h_source.html#l00256">TB_SendACStat</a>, <a class="el" href="_security_system_8h_source.html#l00243">TB_SendAreaInfo</a>, <a class="el" href="_security_system_8h_source.html#l00241">TB_SendAreaList</a>, <a class="el" href="_security_system_8h_source.html#l00253">TB_SendAreaStat</a>, <a class="el" href="_security_system_8h_source.html#l00247">TB_SendAreaStateMsg</a>, <a class="el" href="_security_system_8h_source.html#l00236">TB_SendArmed</a>, <a class="el" href="_security_system_8h_source.html#l00255">TB_SendBatteryStat</a>, <a class="el" href="_security_system_8h_source.html#l00234">TB_SendConfigList</a>, <a class="el" href="_security_system_8h_source.html#l00237">TB_SendDisarm</a>, <a class="el" href="_security_system_8h_source.html#l00251">TB_SendError</a>, <a class="el" href="_security_system_8h_source.html#l00252">TB_SendGateStat</a>, <a class="el" href="_security_system_8h_source.html#l00250">TB_SendGatewayChanged</a>, <a class="el" href="_security_system_8h_source.html#l00239">TB_SendGatewayInfo</a>, <a class="el" href="_security_system_8h_source.html#l00248">TB_SendInvalidUser</a>, <a class="el" href="_security_system_8h_source.html#l00249">TB_SendInvalidUserTimestamp</a>, <a class="el" href="_security_system_8h_source.html#l00242">TB_SendZoneInfo</a>, <a class="el" href="_security_system_8h_source.html#l00240">TB_SendZoneList</a>, <a class="el" href="_security_system_8h_source.html#l00254">TB_SendZoneStat</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="_security_system_8h_source.html#l00016">XPLBUFFERSIZE</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="x_p_l_8c_source.html#l00263">XPLTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                       {

        <a class="code" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> ReturnResult;
        <span class="keywordtype">int</span> iCounter, DeviceSelected, CurrentTask;

        <span class="comment">// If there are no tasks in queue check to see if the battery state should be checked</span>
        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a15bcecd7cf38b7e1a6da604b9f96893b" title="Task number that is free to create a new task in.">FreePosition</a> == <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#abbf0faf76076ff68cafd60bd0e082055" title="End up being the last task that was processed.">CurentTask</a>) {
                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a291b50190c4eae5d0efd25cafddedc77" title="Timer checking the battery status.">BatteryCheckTimer</a> &lt; TickGet()) {
                        <a class="code" href="_security_system_8c.html#a291b50190c4eae5d0efd25cafddedc77" title="Timer checking the battery status.">BatteryCheckTimer</a> = TickGet() + TICK_SECOND;
                        <a class="code" href="_battery_8c.html#ad7abffae7b40c1538c5411bfd808a68a" title="Task process for managing the battery state.">BatteryTask</a>();
                }
        }


        <span class="comment">// Is there a task to work on?</span>
        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a15bcecd7cf38b7e1a6da604b9f96893b" title="Task number that is free to create a new task in.">FreePosition</a> == <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#abbf0faf76076ff68cafd60bd0e082055" title="End up being the last task that was processed.">CurentTask</a>) {
                <span class="comment">// as there are no messages to be sent, check the IOTasks to see if the state of the zones has changed</span>
                ReturnResult = <a class="code" href="_security_system_8c.html#a3ccbc635f6f7bb31465920840c7db474">IOTasks</a>();
                <span class="keywordflow">return</span> ReturnResult;  <span class="comment">// Returns is a message was sent by the IOTasks</span>
                
                <span class="comment">// todo add a timer that prevents the xPL task from blocking access to IOTasks();</span>
        }

        <span class="comment">// If the current task has not completed make sure it has the chance to run again.</span>
        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#abbf0faf76076ff68cafd60bd0e082055" title="End up being the last task that was processed.">CurentTask</a>].<a class="code" href="structx_p_l_tasks.html#a3de9c2a149eebeb114bb3d7d43d40fff" title="0 means completed, &gt; 0 means more things to do. Value &gt; 0 can be used by task to track state...">TaskState</a> == 0) {
                <span class="comment">// updates the current Task, remember the current task will end up being the last task processed once this has run</span>
                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#abbf0faf76076ff68cafd60bd0e082055" title="End up being the last task that was processed.">CurentTask</a> &lt; (<a class="code" href="_security_system_8h.html#acdb1a1e550f9525246d5f268cd497452" title="the number of xPL messages that can be buffered for transmit">XPLBUFFERSIZE</a>-1))
                        <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#abbf0faf76076ff68cafd60bd0e082055" title="End up being the last task that was processed.">CurentTask</a>++;
                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#abbf0faf76076ff68cafd60bd0e082055" title="End up being the last task that was processed.">CurentTask</a> &gt;= (<a class="code" href="_security_system_8h.html#acdb1a1e550f9525246d5f268cd497452" title="the number of xPL messages that can be buffered for transmit">XPLBUFFERSIZE</a>-1))
                        <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#abbf0faf76076ff68cafd60bd0e082055" title="End up being the last task that was processed.">CurentTask</a> =0;
        }
        CurrentTask = <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#abbf0faf76076ff68cafd60bd0e082055" title="End up being the last task that was processed.">CurentTask</a>;   

        <span class="comment">// populate IsChangeFlagged from the zone array for the task to be processed</span>
        <span class="keywordflow">for</span>(iCounter =0; iCounter &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; iCounter++)
                 <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[iCounter].IsChangeFlagged = <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#abbf0faf76076ff68cafd60bd0e082055" title="End up being the last task that was processed.">CurentTask</a>].<a class="code" href="structx_p_l_tasks.html#adc72959bb001a58e0ac4809643ac4062" title="An array of the Zones that have been flagged for this message.">FlaggedZones</a>[iCounter];

        <span class="comment">// populate IsChangeFlagged from the area array for the task to be processed</span>
                <span class="keywordflow">for</span>(iCounter =0; iCounter &lt;= <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; iCounter++)
                        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[iCounter].<a class="code" href="struct_area_configs.html#a711da45ad4b0c06e1aaee9d2ba6108aa" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#abbf0faf76076ff68cafd60bd0e082055" title="End up being the last task that was processed.">CurentTask</a>].<a class="code" href="structx_p_l_tasks.html#a194342683536b1c2bbe3319655a3fd2c" title="An array of the Areas that have been flagged for this message.">FlaggedAreas</a>[iCounter];

        <span class="keywordflow">switch</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#abbf0faf76076ff68cafd60bd0e082055" title="End up being the last task that was processed.">CurentTask</a>].<a class="code" href="structx_p_l_tasks.html#a2a2ae019d1085568bd2b8c84ae8ec8ce" title="Type of task.">TaskBuffered</a>) {

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba62487ade0039ada8325f00b58a204929">TB_SendConfigList</a>:
                        <a class="code" href="_security_system_8h.html#a07582d84515caf26cd22e534fd29f378">SendConfigList</a>(); <span class="comment">//very simple</span>
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaa94a96105763a0e83f669efef0921ecc">TB_ArmFailed</a>:
                        <a class="code" href="_security_system_8c.html#ab4b79e3122c6964725cec23bf923547a">StateChangeToArmFailed</a>(); <span class="comment">// needs zones or areas populated</span>
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba2f75946b7c4455271e0b1b684fa1fccd">TB_SendArmed</a>:
                        <a class="code" href="_security_system_8h.html#ae049c3724d5bacc955f50f724483ed91">SendArmed</a>(); <span class="comment">// extracts data from the zones &amp; area directly</span>
                        <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a01d912d78612ae09e83da0487f415069" title="Send emails on all arm and disarm events.">SMTP_ArmDisarm</a> == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
                                <a class="code" href="_security_system_8h.html#ae777555850cf9c897f46c8407ce1729f" title="Places a new email in the SMTP queue to be processed (sent)">SMTPQueueEmail</a> (<a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71a621558074564a0ac1ed2b6cbcd0a8fc6">SMTP_Arm</a>); <span class="comment">// queue an email notification</span>
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba5dbdd6a4e8fd4a0d20c276a452fd9eb9">TB_SendDisarm</a>:
                        <a class="code" href="_security_system_8h.html#af1800c287b83d40961f39fcd9a751322">SendDisarm</a>();
                        <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a01d912d78612ae09e83da0487f415069" title="Send emails on all arm and disarm events.">SMTP_ArmDisarm</a> == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
                                <a class="code" href="_security_system_8h.html#ae777555850cf9c897f46c8407ce1729f" title="Places a new email in the SMTP queue to be processed (sent)">SMTPQueueEmail</a> (<a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71a24aa6860db5441d0687ad842d9e4f86f">SMTP_Disarm</a>);
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaec54c751a669111ac9d7ecc2be16f2b0">TB_Panic</a>:
                        <a class="code" href="_security_system_8h.html#ae9e6733b7fed738a76787f01762bb284">SendAlarmingMsg</a>(99);
                        <a class="code" href="_security_system_8h.html#ae777555850cf9c897f46c8407ce1729f" title="Places a new email in the SMTP queue to be processed (sent)">SMTPQueueEmail</a> (<a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71aeefaacd7ffe9237ff8436559742579b7">SMTP_Alarmed</a>);
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba3531a51bf0de6afa086227bd386757da">TB_SendGatewayInfo</a>:
                        <a class="code" href="_security_system_8h.html#a46495fd42c19f6703e4663cb7cf2d1ec">SendGatewayInfo</a>();
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba4958f2b5966c8bd39b22f0059854cd65">TB_SendZoneList</a>:
                        <a class="code" href="_security_system_8h.html#a5583c2b95797b8210dfe1b1a5e516c2d">SendZoneList</a>();
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debadefe2c183f4cb0391d6a20a2a98abeb1">TB_SendAreaList</a>:
                        <a class="code" href="_security_system_8h.html#a43dbd62169c9f83be3663dc435e232c7">SendAreaList</a>();
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba481ff892e48385c5941818d48dfde8bf">TB_SendGateStat</a>:
                        <a class="code" href="_security_system_8h.html#aeb4ee205f02bf767a5d3b93608abc736">SendGateStat</a>();
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba25a621bc1f223ff1e6ef8980a4103932">TB_SendAreaStat</a>:
                        <span class="keywordflow">for</span>(iCounter =0; iCounter &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; iCounter++)
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[CurrentTask].<a class="code" href="structx_p_l_tasks.html#a194342683536b1c2bbe3319655a3fd2c" title="An array of the Areas that have been flagged for this message.">FlaggedAreas</a>[iCounter] == 1)
                                        DeviceSelected = iCounter;
                        <a class="code" href="_security_system_8h.html#a5d91f06e22d49f6ecee37802e866e0e6">SendAreaStat</a> (DeviceSelected);
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debadae4078c6aaf8dab7f05974d72be0b84">TB_SendZoneStat</a>:
                        <span class="keywordflow">for</span>(iCounter =0; iCounter &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; iCounter++)
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[CurrentTask].<a class="code" href="structx_p_l_tasks.html#adc72959bb001a58e0ac4809643ac4062" title="An array of the Zones that have been flagged for this message.">FlaggedZones</a>[iCounter] == 1)
                                        DeviceSelected = iCounter;
                        <a class="code" href="_security_system_8h.html#a7fdbfa1929e90a45cc905c6276ab7cae">SendZoneStat</a> (DeviceSelected);
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaa663ca6dd0a7b91286407c39174ad3c5">TB_SendZoneInfo</a>:
                        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) 
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[CurrentTask].<a class="code" href="structx_p_l_tasks.html#adc72959bb001a58e0ac4809643ac4062" title="An array of the Zones that have been flagged for this message.">FlaggedZones</a>[iCounter] == 1)
                                        DeviceSelected = iCounter;
                        <a class="code" href="_security_system_8h.html#ae149da75e2b494aa56f4976837706565">SendZoneInfo</a>(DeviceSelected);
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaa5ae73dc445f6834a30b88b5ec7741aa">TB_SendAreaInfo</a>:
                        <span class="keywordflow">for</span>(iCounter =0; iCounter &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; iCounter++)
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[CurrentTask].<a class="code" href="structx_p_l_tasks.html#a194342683536b1c2bbe3319655a3fd2c" title="An array of the Areas that have been flagged for this message.">FlaggedAreas</a>[iCounter] == 1)
                                        DeviceSelected = iCounter;
                        <a class="code" href="_security_system_8h.html#acdb6126b5578c4ca8c06d5343a7b37df">SendAreaInfo</a>(DeviceSelected);
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba50a9d18dd2121632a2d41890f9e0dcad">TB_Isolate</a>:
                        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) 
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[CurrentTask].<a class="code" href="structx_p_l_tasks.html#adc72959bb001a58e0ac4809643ac4062" title="An array of the Zones that have been flagged for this message.">FlaggedZones</a>[iCounter] == 1)
                                        DeviceSelected = iCounter;
                        <a class="code" href="_security_system_8c.html#aa58e855f239c14c2cfc32dcfa244d31f">IsolateZone</a>(DeviceSelected);
                        <span class="keywordflow">break</span>;
                        
                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba1a2f5c1ced4a7a6ef76d5a6e0ebf26f1">TB_Bypass</a>:
                        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) 
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[CurrentTask].<a class="code" href="structx_p_l_tasks.html#adc72959bb001a58e0ac4809643ac4062" title="An array of the Zones that have been flagged for this message.">FlaggedZones</a>[iCounter] == 1)
                                        DeviceSelected = iCounter;
                        <a class="code" href="_security_system_8c.html#ab3be31caf1027bb142335a3a3d7d4eb1">bypassZone</a>(DeviceSelected);
                        <span class="keywordflow">break</span>;
                        
                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debae35285ccd71be17edd6c76911642a84f">TB_Enable</a>:
                        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) 
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[CurrentTask].<a class="code" href="structx_p_l_tasks.html#adc72959bb001a58e0ac4809643ac4062" title="An array of the Zones that have been flagged for this message.">FlaggedZones</a>[iCounter] == 1)
                                        DeviceSelected = iCounter;
                        <a class="code" href="_security_system_8c.html#a14eb903eaa706a4874267274a2ffc6fa">EnableZone</a>(DeviceSelected);
                        <span class="keywordflow">break</span>;

        
                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba7b60d1d8fae6193592f42e97a2df8846">TB_SendAreaStateMsg</a>:
                        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) 
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[CurrentTask].<a class="code" href="structx_p_l_tasks.html#adc72959bb001a58e0ac4809643ac4062" title="An array of the Zones that have been flagged for this message.">FlaggedZones</a>[iCounter] == 1)
                                        DeviceSelected = iCounter;
                        <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[CurrentTask].<a class="code" href="structx_p_l_tasks.html#a3de9c2a149eebeb114bb3d7d43d40fff" title="0 means completed, &gt; 0 means more things to do. Value &gt; 0 can be used by task to track state...">TaskState</a> = <a class="code" href="_security_system_8h.html#ae77b19bae92f6c64f9a58f722b4bf193">SendAreaStateMsg</a> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[CurrentTask].<a class="code" href="structx_p_l_tasks.html#a3c4c2e2560efa711fd03282d2eb4e6f1" title="Used by SendAreaStateMsg to know what changes have been made.">NewZoneState</a>, DeviceSelected, <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[CurrentTask].<a class="code" href="structx_p_l_tasks.html#a3de9c2a149eebeb114bb3d7d43d40fff" title="0 means completed, &gt; 0 means more things to do. Value &gt; 0 can be used by task to track state...">TaskState</a>);
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba7cdac24e07915d54c69862bc686dbc3c">TB_SendInvalidUser</a>:
                        <a class="code" href="_security_system_8h.html#ab29cace49ca20af0048aac94e64c10dd">SendError</a>( (ROM <span class="keywordtype">char</span> *)<span class="stringliteral">&quot;user invalid&quot;</span>);
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba151bd1b8f717cac517f3bc2150ef004e">TB_SendInvalidUserTimestamp</a>:
                        <a class="code" href="_security_system_8h.html#ab29cace49ca20af0048aac94e64c10dd">SendError</a>( (ROM <span class="keywordtype">char</span> *)<span class="stringliteral">&quot;Timestamp out of range. Check system time&quot;</span>);
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba355e90cd3537b1c518aa6364d1307617">TB_SendGatewayChanged</a>:
                        <a class="code" href="_security_system_8h.html#a2c31ecf27fafa5085703f0719f6decac">SendGatewayChanged</a>();
                        <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a48445b8ac06ecea79af8a778d3a7f6cc" title="Provides a delay in sending the xPL gateway changed message.">GatewayChangedTimer</a> = 0;
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debade489309cf96b23ec7a59ab75f32e863">TB_SendError</a>:
                        <a class="code" href="_security_system_8h.html#ab29cace49ca20af0048aac94e64c10dd">SendError</a>(<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[CurrentTask].<a class="code" href="structx_p_l_tasks.html#a2c690f89f7d46cffb66d86187f378cb3" title="Error message passed to SendError.">ErrorMessage</a>);
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaf9f0cd38482d4fd02c39cd3890a4f882">TB_SendBatteryStat</a>:
                        <a class="code" href="_security_x_p_l_sender_8c.html#a80218fda4a4753b2d214453e14b400ff">SendBatteryStat</a>();
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debac46bb2c8228114e288eeec66988d0448">TB_SendACStat</a>:
                        <a class="code" href="_security_x_p_l_sender_8c.html#aa79f220fe412930dbbe86acd8e506f48">SendACStat</a>();
                        <span class="keywordflow">break</span>;


        } <span class="comment">// switch</span>


        <span class="keywordflow">return</span> ReturnResult;

} <span class="comment">//SchemaTasks</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_a62b4d90791ab073f74677d42bfb64253_cgraph.svg" width="1574" height="1739" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_a62b4d90791ab073f74677d42bfb64253_icgraph.svg" width="467" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ace930888808081ff410b21e68caa146e"></a><!-- doxytag: member="xPL.h::xPLFindArrayInKVP" ref="ace930888808081ff410b21e68caa146e" args="(rom char **ValidOptions, int ArraySize, int *Result, char *TheValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL xPLFindArrayInKVP </td>
          <td>(</td>
          <td class="paramtype">rom char **&#160;</td>
          <td class="paramname"><em>ValidOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ArraySize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>Result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>TheValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>searches though an array looking for a match to TheValue. When a match is found it will return the position in the array</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rom</td><td>char **ValidOptions, array of posible matches </td></tr>
    <tr><td class="paramname">ArraySize,size</td><td>of ValidOptions </td></tr>
    <tr><td class="paramname">*Result,position</td><td>in array where match was found </td></tr>
    <tr><td class="paramname">char</td><td>* TheValue, text to be searched </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>BOOL, true if processed as expected and match was found </dd></dl>

<p>Definition at line <a class="el" href="x_p_l_8c_source.html#l00938">938</a> of file <a class="el" href="x_p_l_8c_source.html">xPL.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, and <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                             {

        <span class="keywordtype">int</span> CountBufferChars;

        <span class="comment">// cycle thought the array to see if there is a match</span>
        <span class="keywordflow">for</span>(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>=0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; ArraySize; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++)
        {

                CountBufferChars = <span class="keyword">sizeof</span>(ValidOptions[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>]);
                <span class="keywordflow">if</span> (strncmppgm2ram(TheValue, ValidOptions[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>],CountBufferChars) ==0)
                { <span class="comment">// a match was found</span>
                        *Result = <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>;
                        <span class="keywordflow">return</span> <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                }
        }

        <span class="comment">// no match was found</span>
        <span class="keywordflow">return</span> 0;
}
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_ace930888808081ff410b21e68caa146e_icgraph.svg" width="1203" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a091a12042a9d63dc524ce896fbc04b46"></a><!-- doxytag: member="xPL.h::xPLInit" ref="a091a12042a9d63dc524ce896fbc04b46" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL xPLInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>P R O T O T Y P E S</p>
<p>Initiates the xPL stack. This must be called before <a class="el" href="x_p_l_8c.html#a86d914c966f337c4e3a6fda46a945d11">XPLTasks()</a> or things will go wrong </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns true if a socket was selected. </dd></dl>

<p>Definition at line <a class="el" href="x_p_l_8c_source.html#l00109">109</a> of file <a class="el" href="x_p_l_8c_source.html">xPL.c</a>.</p>

<p>References <a class="el" href="x_p_l_8c_source.html#l00023">Default_xPL_My_Instance_ID</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_system_8h_source.html#l00202">xPLConfigs::xPL_Heartbeat_Interval</a>, <a class="el" href="_security_system_8h_source.html#l00203">xPLConfigs::xPL_My_Instance_ID</a>, <a class="el" href="x_p_l_8h_source.html#l00011">XPL_NOTCONFIGUREDHBINTERVAL</a>, <a class="el" href="x_p_l_8h_source.html#l00013">XPL_NOTCONFIGUREDTIMEOUT</a>, <a class="el" href="_security_system_8c_source.html#l00136">xPLConfig</a>, <a class="el" href="x_p_l_8c_source.html#l00074">xPLConfiguerd</a>, <a class="el" href="x_p_l_8c_source.html#l00077">xPLHeartbeatIntervalCount</a>, and <a class="el" href="x_p_l_8c_source.html#l00079">xPLNotConfiguredTimer</a>.</p>

<p>Referenced by <a class="el" href="_main_demo_8c_source.html#l00072">main()</a>.</p>
<div class="fragment"><pre class="fragment">                   {

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;xPLInit called\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="comment">// Load the schema init</span>
        <a class="code" href="x_p_l_8c.html#ae1b47e463d46f60bf5a1b65fd132eb18" title="True if the device has received all needed configuration details from the hub.">xPLConfiguerd</a> = <a class="code" href="_security_system_8c.html#aea89a2e5b007623f49cb6117afc947ec">SchemaInit</a>();

        <span class="comment">// set default values when not configured</span>
        <span class="keywordflow">if</span>(!<a class="code" href="x_p_l_8c.html#ae1b47e463d46f60bf5a1b65fd132eb18" title="True if the device has received all needed configuration details from the hub.">xPLConfiguerd</a>) {
                <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a7111b59426453cce173352e2d7ef9dc3" title="Interval of the xPL heatbeat message in seconds.">xPL_Heartbeat_Interval</a> = <a class="code" href="x_p_l_8h.html#ab1f7fbd37b06dc5c6c44c93ff353ee46">XPL_NOTCONFIGUREDHBINTERVAL</a>;
                <a class="code" href="x_p_l_8c.html#a57f931c642b9abb18f2b6d3441a90a16" title="Time spent in not configured state.">xPLNotConfiguredTimer</a> = TickGet() + (<a class="code" href="x_p_l_8h.html#a0f6c3b736b6ae28f9cb7914ebf5be460">XPL_NOTCONFIGUREDTIMEOUT</a> * TICK_SECOND);
                memset(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a9c46c7c2fe40ff45c5a12adb588bf4d5" title="xPL instance name of this device">xPL_My_Instance_ID</a>,<span class="charliteral">&#39;\0&#39;</span>, 17);
                strcpypgm2ram(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a9c46c7c2fe40ff45c5a12adb588bf4d5" title="xPL instance name of this device">xPL_My_Instance_ID</a>, <a class="code" href="x_p_l_8c.html#acfb9cbdd568e102081516ecd213fda75" title="xPL device name, instance ID">Default_xPL_My_Instance_ID</a>);

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;xPLInit detected device not configured\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }

        <span class="comment">// Log output if device is configured</span>
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <span class="keywordflow">if</span> (<a class="code" href="x_p_l_8c.html#ae1b47e463d46f60bf5a1b65fd132eb18" title="True if the device has received all needed configuration details from the hub.">xPLConfiguerd</a>) <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;xPLInit detected the device is configured\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="comment">// Kick the heart beat timer off</span>
        <a class="code" href="x_p_l_8c.html#ad8f3ec7ac77de10d1b0f6eeff4969996" title="Time since last Heartbeat was sent.">xPLHeartbeatIntervalCount</a> = TickGet() + (<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a7111b59426453cce173352e2d7ef9dc3" title="Interval of the xPL heatbeat message in seconds.">xPL_Heartbeat_Interval</a>*(TICK_SECOND*60));

        <span class="comment">// Return with sucess</span>
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;All init processes completed, ready to go \r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="keywordflow">return</span> 1;

}<span class="comment">//end UserInit</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_a091a12042a9d63dc524ce896fbc04b46_cgraph.svg" width="880" height="259" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_a091a12042a9d63dc524ce896fbc04b46_icgraph.svg" width="222" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a31c1c8faace74e23f37a03b7292f7981"></a><!-- doxytag: member="xPL.h::xPLLoadEEConfig" ref="a31c1c8faace74e23f37a03b7292f7981" args="(void *p, int Start_Address, int Data_Size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL xPLLoadEEConfig </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Start_Address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Data_Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8c_source.html#l00157">157</a> of file <a class="el" href="x_p_l_8c_source.html">xPL.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, and <a class="el" href="_security_system_8h_source.html#l00013">XPLEECONFIGVERSION</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                {

    BYTE c;
    BYTE *dest=(BYTE *)p;

    XEEBeginRead(Start_Address);
    c = XEERead();
    XEEEndRead();
    <span class="keywordflow">if</span>(c == <a class="code" href="_security_system_8h.html#aaad19aa5437f84c85f9e2535098af81c">XPLEECONFIGVERSION</a>)     <span class="comment">// When a record is saved, first byte is written to indicate a valid record was saved.</span>
    {
        <span class="comment">// We have valid config data to load</span>
        XEEBeginRead(Start_Address + 1);
        <span class="keywordflow">for</span> ( c = 0; c &lt; (<span class="keywordtype">unsigned</span> int) Data_Size; c++ )
            *dest++ = XEERead();
        XEEEndRead();
        <span class="keywordflow">return</span> <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
    }
    <span class="keywordflow">else</span>
    {
                <span class="comment">// There is no config data to load</span>
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;The config version did not return correctly. Load failed\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
                <span class="keywordflow">return</span> <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        }

}
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_a31c1c8faace74e23f37a03b7292f7981_icgraph.svg" width="664" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1099a7d6ccfe562deba149fd4acef424"></a><!-- doxytag: member="xPL.h::xPLSaveEEConfig" ref="a1099a7d6ccfe562deba149fd4acef424" args="(void *p, int Start_Address, int Data_Size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xPLSaveEEConfig </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Start_Address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Data_Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8c_source.html#l00194">194</a> of file <a class="el" href="x_p_l_8c_source.html">xPL.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, and <a class="el" href="_security_system_8h_source.html#l00013">XPLEECONFIGVERSION</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l02162">bypassArea()</a>, <a class="el" href="_security_system_8c_source.html#l02108">bypassZone()</a>, <a class="el" href="_security_system_8c_source.html#l02311">EnableArea()</a>, <a class="el" href="_security_system_8c_source.html#l02226">EnableZone()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00228">HTTPPostSMTPConfig()</a>, <a class="el" href="_security_system_8c_source.html#l02048">IsolateArea()</a>, <a class="el" href="_security_system_8c_source.html#l01995">IsolateZone()</a>, and <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                 {

    BYTE c;
    BYTE *src=(BYTE *)p;

    XEEBeginWrite(Start_Address);
    XEEWrite(<a class="code" href="_security_system_8h.html#aaad19aa5437f84c85f9e2535098af81c">XPLEECONFIGVERSION</a>); <span class="comment">// When a record is saved, first byte is written to indicate a valid record was saved.</span>
    XEEEndWrite();
        <span class="keywordflow">while</span>(XEEIsBusy());

        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Saving starting&quot;</span>);

    <span class="keywordflow">for</span>(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 1; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; Data_Size; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                XEEBeginWrite(Start_Address + <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>);
                XEEWrite(*src++);
                <span class="keywordflow">while</span>(XEEIsBusy());
                XEEEndWrite();
                <span class="keywordflow">while</span>(XEEIsBusy());
        }<span class="comment">// iCount</span>

        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;end\r\n&quot;</span>);
}
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_a1099a7d6ccfe562deba149fd4acef424_icgraph.svg" width="1190" height="592" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="abde6ae0f37ef47bee8e881bba8502169"></a><!-- doxytag: member="xPL.h::XPLSendHeader" ref="abde6ae0f37ef47bee8e881bba8502169" args="(xPL_MessageTypes xPL_MSG_Type, BOOL isBroadCast, xPL_SchemaClasss SchemaClass, xPL_SchemaTypess SchemaType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPLSendHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="x_p_l_8h.html#ae920acc0dd05f63aa5435d5ae4066ae1">xPL_MessageTypes</a>&#160;</td>
          <td class="paramname"><em>xPL_MSG_Type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>isBroadCast</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="x_p_l_8h.html#a9393a512bb6ecf7aa03d47d6a1d62e34">xPL_SchemaClasss</a>&#160;</td>
          <td class="paramname"><em>SchemaClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="x_p_l_8h.html#a44c7fcbdaccb766382c5eee977cbce00">xPL_SchemaTypess</a>&#160;</td>
          <td class="paramname"><em>SchemaType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used to create any xPL message. Populates the header then adds class type and opens the body. have a look at <a class="el" href="x_p_l_8c.html#abc8f282f2ce56cb62d7e149120130c72">XPLSendHeartBeat()</a>; to see it in use. Remember the body of the meesage need to be closed with the following:</p>
<p>UDPPutROMString((ROM BYTE*) "\n}\n");</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">xPL_MessageTypes</td><td>xPL_MSG_Type </td></tr>
    <tr><td class="paramname">BOOL</td><td>isBroadCast, if the message is not a broadcast then the target address will be taken from xPLReceivedMessage </td></tr>
    <tr><td class="paramname">xPL_SchemaClasss</td><td>SchemaClass </td></tr>
    <tr><td class="paramname">xPL_SchemaTypess</td><td>SchemaType </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="x_p_l_8c_source.html#l00349">349</a> of file <a class="el" href="x_p_l_8c_source.html">xPL.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="x_p_l_8h_source.html#l00093">xPLReceivedMessages::SourceDeviceID</a>, <a class="el" href="x_p_l_8h_source.html#l00094">xPLReceivedMessages::SourceInstanceID</a>, <a class="el" href="x_p_l_8h_source.html#l00092">xPLReceivedMessages::SourceVendor</a>, <a class="el" href="x_p_l_8c_source.html#l00021">xPL_My_Device_ID</a>, <a class="el" href="_security_system_8h_source.html#l00203">xPLConfigs::xPL_My_Instance_ID</a>, <a class="el" href="x_p_l_8c_source.html#l00019">xPL_My_Vendor_ID</a>, <a class="el" href="x_p_l_8h_source.html#l00010">XPL_UDP_PORT</a>, <a class="el" href="_security_system_8c_source.html#l00136">xPLConfig</a>, <a class="el" href="x_p_l_8c_source.html#l00026">xPLmessageTypeText</a>, <a class="el" href="x_p_l_8c_source.html#l00044">xPLschemaClassText</a>, <a class="el" href="x_p_l_8c_source.html#l00052">xPLschemaTypeText</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l02162">bypassArea()</a>, <a class="el" href="_security_system_8c_source.html#l02108">bypassZone()</a>, <a class="el" href="_security_system_8c_source.html#l02311">EnableArea()</a>, <a class="el" href="_security_system_8c_source.html#l02226">EnableZone()</a>, <a class="el" href="_security_system_8c_source.html#l02048">IsolateArea()</a>, <a class="el" href="_security_system_8c_source.html#l01995">IsolateZone()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00965">SendACStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00226">SendAlarmingMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00711">SendAreaInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00587">SendAreaList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01084">SendAreaStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00132">SendAreaStateMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">SendArmed()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00929">SendBatteryStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00814">SendConfigCurrent()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00774">SendConfigList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00504">SendDisarm()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00471">SendError()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00894">SendGatewayChanged()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00306">SendGatewayInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00360">SendGatewayReady()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00545">SendZoneList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01180">SendZoneStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00075">SendZoneStateMsg()</a>, <a class="el" href="_security_system_8c_source.html#l01411">StateChangeToArmFailed()</a>, <a class="el" href="_security_system_8c_source.html#l00515">xPLFactoryRestart()</a>, and <a class="el" href="x_p_l_8c_source.html#l00300">XPLSendHeartBeat()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                                               {

        <span class="comment">// Clear out the NODE_INFO, when a packet is received the socket is changed to point to the remote node</span>
        UDPSocketInfo[<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>].remoteNode.IPAddr.Val =  0xffffffff;

        UDPSocketInfo[<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>].remoteNode.MACAddr.v[0]   = 0xff;
        UDPSocketInfo[<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>].remoteNode.MACAddr.v[1]   = 0xff;
        UDPSocketInfo[<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>].remoteNode.MACAddr.v[2]   = 0xff;
        UDPSocketInfo[<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>].remoteNode.MACAddr.v[3]   = 0xff;
        UDPSocketInfo[<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>].remoteNode.MACAddr.v[4]   = 0xff;
        UDPSocketInfo[<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>].remoteNode.MACAddr.v[5]   = 0xff;

        UDPSocketInfo[<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>].remotePort = <a class="code" href="x_p_l_8h.html#ab4be00ac06f43fbbaba203f9e2714da8">XPL_UDP_PORT</a>;

        <span class="comment">// Send XPL message type from array</span>
        UDPPutROMArray(<a class="code" href="x_p_l_8c.html#a98630ff8d5b11060cc360fce4b678cf0" title="xPL Message Types">xPLmessageTypeText</a>[xPL_MSG_Type],8);

        <span class="comment">// open the header</span>
        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n{\nhop=1\nsource=&quot;</span>);
        UDPPutROMString((ROM BYTE*) <a class="code" href="x_p_l_8c.html#a1dd6432e80a0807b69740c019706f65a" title="xPL device name, vendor ID">xPL_My_Vendor_ID</a>);
        UDPPut(<span class="charliteral">&#39;-&#39;</span>);
        UDPPutROMString((ROM BYTE*) <a class="code" href="x_p_l_8c.html#ad5d50e36a6ab5a49373f9fa26238f9e5" title="xPL device name, device ID">xPL_My_Device_ID</a>);
        UDPPut(<span class="charliteral">&#39;.&#39;</span>);

        UDPPutArray(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a9c46c7c2fe40ff45c5a12adb588bf4d5" title="xPL instance name of this device">xPL_My_Instance_ID</a>, strlen(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a9c46c7c2fe40ff45c5a12adb588bf4d5" title="xPL instance name of this device">xPL_My_Instance_ID</a>));

        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\ntarget=&quot;</span>);
        <span class="keywordflow">if</span> (isBroadCast)
                UDPPut(<span class="charliteral">&#39;*&#39;</span>);
        <span class="keywordflow">else</span>
        {
                UDPPutROMString((ROM BYTE*) <a class="code" href="x_p_l_8c.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a>.<a class="code" href="structx_p_l_received_messages.html#a57a9d6908f04926f0ed1da650b66f6f3" title="xPL Vendor name of where the message came from (source)">SourceVendor</a>);
                UDPPut(<span class="charliteral">&#39;-&#39;</span>);
                UDPPutROMString((ROM BYTE*) <a class="code" href="x_p_l_8c.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a>.<a class="code" href="structx_p_l_received_messages.html#a0692cf278a31870e2c2a4f5e0440d088" title="xPL Device name from the message source device">SourceDeviceID</a>);
                UDPPut(<span class="charliteral">&#39;.&#39;</span>);
                UDPPutROMString((ROM BYTE*) <a class="code" href="x_p_l_8c.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a>.<a class="code" href="structx_p_l_received_messages.html#ac47f4d73f815a87c1bbd1b6f9734dc9d" title="xPL Instance name from the message source device">SourceInstanceID</a>);
        }
        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n}\n&quot;</span>);

        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; ! <a class="code" href="x_p_l_8c.html#a783f46ab4e10f3c6f9d240cf5f71cb54">xPLschemaClassText</a>[SchemaClass][<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] == <span class="charliteral">&#39;\0&#39;</span>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                UDPPut( <a class="code" href="x_p_l_8c.html#a783f46ab4e10f3c6f9d240cf5f71cb54">xPLschemaClassText</a>[SchemaClass][<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>]);
        }



        <span class="comment">//UDPPutROMArray(xPLschemaClassText[SchemaClass],8);</span>
        UDPPut(<span class="charliteral">&#39;.&#39;</span>);
        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; ! <a class="code" href="x_p_l_8c.html#aecfa57b2c3083178cd21d2ddd4acfb18" title="xPL Schema&#39;s (type) that are supported by this application. The first 6 are mandatory for any xPL dev...">xPLschemaTypeText</a>[SchemaType][<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] == <span class="charliteral">&#39;\0&#39;</span>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                UDPPut( <a class="code" href="x_p_l_8c.html#aecfa57b2c3083178cd21d2ddd4acfb18" title="xPL Schema&#39;s (type) that are supported by this application. The first 6 are mandatory for any xPL dev...">xPLschemaTypeText</a>[SchemaType][<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>]);
        }

        <span class="comment">//UDPPutROMArray(xPLschemaTypeText[SchemaType],8);</span>
        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n{\n&quot;</span>);
}
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_abde6ae0f37ef47bee8e881bba8502169_icgraph.svg" width="1840" height="1691" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a86d914c966f337c4e3a6fda46a945d11"></a><!-- doxytag: member="xPL.h::XPLTasks" ref="a86d914c966f337c4e3a6fda46a945d11" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XPLTasks </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8c_source.html#l00263">263</a> of file <a class="el" href="x_p_l_8c_source.html">xPL.c</a>.</p>

<p>References <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00412">SMTPTaskProcess()</a>, <a class="el" href="x_p_l_8c_source.html#l00224">XPLHeartBeatTiming()</a>, <a class="el" href="x_p_l_8c_source.html#l00415">XPLProcessUDPMsg()</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>

<p>Referenced by <a class="el" href="_main_demo_8c_source.html#l00072">main()</a>.</p>
<div class="fragment"><pre class="fragment">                    {

        <span class="comment">/* There are 3 tasks here that need to run in this order</span>
<span class="comment">         1 SchemaTasks</span>
<span class="comment">         2 UDP input buffer</span>
<span class="comment">         3 xPL heart beat message</span>
<span class="comment">         Only one can run per task run! Remember the StackTask() needs to be called to flush the transmit buffer</span>
<span class="comment"></span>
<span class="comment">        */</span>

        <span class="keywordflow">if</span>(UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a62b4d90791ab073f74677d42bfb64253">SchemaTasks</a>()) {  <span class="comment">// True if no task has ran</span>
                        <span class="comment">// Process heart beat</span>
                        <span class="keywordflow">if</span>(UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>))
                                <a class="code" href="x_p_l_8c.html#a07f019fb7de86ef4bfe4cab422be0969">XPLHeartBeatTiming</a>();
                        <span class="comment">// Process email messages</span>
                        <span class="keywordflow">if</span>(UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>))
                                <a class="code" href="_security_system_8h.html#aa3464edbc8a2b00d44aff04588ed10ef" title="Managers the scheduled sending of emails.">SMTPTaskProcess</a>();
                }
        }

        <span class="comment">// Is data waiting for us to read?</span>
        <span class="keywordflow">if</span> (UDPIsGetReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n######################\r\nUDP xPL socket contains data\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                <a class="code" href="x_p_l_8c.html#a41c59f641ff95b999e66c0d45117b73d">XPLProcessUDPMsg</a>();
        }

} <span class="comment">// XPLTasks</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_a86d914c966f337c4e3a6fda46a945d11_cgraph.svg" width="1851" height="2267" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="x_p_l_8h_a86d914c966f337c4e3a6fda46a945d11_icgraph.svg" width="246" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a67540808395519081be1333c4e9aa1f8"></a><!-- doxytag: member="xPL.h::AppConfig" ref="a67540808395519081be1333c4e9aa1f8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">APP_CONFIG <a class="el" href="x_p_l_8h.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_main_demo_8c_source.html#l00030">30</a> of file <a class="el" href="_main_demo_8c_source.html">MainDemo.c</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00628">HTTPPostConfig()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00147">HTTPPrint_config_dns1()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00155">HTTPPrint_config_dns2()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00131">HTTPPrint_config_gw()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00088">HTTPPrint_config_hostname()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00123">HTTPPrint_config_ip()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00163">HTTPPrint_config_mac()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00139">HTTPPrint_config_subnet()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>, and <a class="el" href="_security_x_p_l_sender_8c_source.html#l00814">SendConfigCurrent()</a>.</p>

</div>
</div>
<a class="anchor" id="acfb9cbdd568e102081516ecd213fda75"></a><!-- doxytag: member="xPL.h::Default_xPL_My_Instance_ID" ref="acfb9cbdd568e102081516ecd213fda75" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rom char <a class="el" href="x_p_l_8h.html#acfb9cbdd568e102081516ecd213fda75">Default_xPL_My_Instance_ID</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>xPL device name, instance ID </p>

<p>Definition at line <a class="el" href="x_p_l_8c_source.html#l00023">23</a> of file <a class="el" href="x_p_l_8c_source.html">xPL.c</a>.</p>

<p>Referenced by <a class="el" href="x_p_l_8c_source.html#l00109">xPLInit()</a>.</p>

</div>
</div>
<a class="anchor" id="a90692899949ba355c16139fe1ae9639c"></a><!-- doxytag: member="xPL.h::xPLBroadcast" ref="a90692899949ba355c16139fe1ae9639c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NODE_INFO <a class="el" href="x_p_l_8h.html#a90692899949ba355c16139fe1ae9639c">xPLBroadcast</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab1bd647d7b5e8841a1378eedabb62c2e"></a><!-- doxytag: member="xPL.h::xPLMsgKey" ref="ab1bd647d7b5e8841a1378eedabb62c2e" args="[xPLMSGKEYLENGTH]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="x_p_l_8h.html#ab1bd647d7b5e8841a1378eedabb62c2e">xPLMsgKey</a>[xPLMSGKEYLENGTH]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Security, were most of it is at. </p>
<p>Microchip TCIP stack xPL general stuff****************************************************************************** D E C L A R A T I O N S ****************************************************************************** Used as a temp storage for processing messages, holds the key of a key value pair </p>

<p>Definition at line <a class="el" href="x_p_l_8c_source.html#l00014">14</a> of file <a class="el" href="x_p_l_8c_source.html">xPL.c</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l02108">bypassZone()</a>, <a class="el" href="_security_system_8c_source.html#l02226">EnableZone()</a>, <a class="el" href="_security_system_8c_source.html#l01995">IsolateZone()</a>, <a class="el" href="_e_o_l_8c_source.html#l00154">IsZoneTriggered()</a>, <a class="el" href="_authenticate_8c_source.html#l00333">LoadUserPasswordEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00487">ModifyUser()</a>, <a class="el" href="_authenticate_8c_source.html#l00447">SaveUserNameEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00403">SaveUserPasswordEEdata()</a>, <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00226">SendAlarmingMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00711">SendAreaInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01084">SendAreaStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00814">SendConfigCurrent()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00306">SendGatewayInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00545">SendZoneList()</a>, <a class="el" href="_security_system_8c_source.html#l01411">StateChangeToArmFailed()</a>, <a class="el" href="x_p_l_8c_source.html#l00496">XPLProcessUDPMsgHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00300">XPLSendHeartBeat()</a>.</p>

</div>
</div>
<a class="anchor" id="a65d6c76d15acf1f33b1d8778f79881db"></a><!-- doxytag: member="xPL.h::xPLMsgValue" ref="a65d6c76d15acf1f33b1d8778f79881db" args="[xPLMSGVALUELENGTH]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="x_p_l_8h.html#a65d6c76d15acf1f33b1d8778f79881db">xPLMsgValue</a>[xPLMSGVALUELENGTH]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used as a temp storage for processing messages, holds the value of a key value pair. </p>

<p>Definition at line <a class="el" href="x_p_l_8c_source.html#l00016">16</a> of file <a class="el" href="x_p_l_8c_source.html">xPL.c</a>.</p>

<p>Referenced by <a class="el" href="_authenticate_8c_source.html#l00658">HTTPPrint_PrintEEProm()</a>, <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>, and <a class="el" href="x_p_l_8c_source.html#l00829">xPLProcess_MsgField()</a>.</p>

</div>
</div>
<a class="anchor" id="a57f931c642b9abb18f2b6d3441a90a16"></a><!-- doxytag: member="xPL.h::xPLNotConfiguredTimer" ref="a57f931c642b9abb18f2b6d3441a90a16" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TICK <a class="el" href="x_p_l_8h.html#a57f931c642b9abb18f2b6d3441a90a16">xPLNotConfiguredTimer</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Time spent in not configured state. </p>

<p>Definition at line <a class="el" href="x_p_l_8c_source.html#l00079">79</a> of file <a class="el" href="x_p_l_8c_source.html">xPL.c</a>.</p>

<p>Referenced by <a class="el" href="x_p_l_8c_source.html#l00224">XPLHeartBeatTiming()</a>, <a class="el" href="x_p_l_8c_source.html#l00109">xPLInit()</a>, and <a class="el" href="x_p_l_8c_source.html#l00415">XPLProcessUDPMsg()</a>.</p>

</div>
</div>
<a class="anchor" id="ab69d5f7e4e3491e1e18b41e2670ea7fe"></a><!-- doxytag: member="xPL.h::xPLReceivedMessage" ref="ab69d5f7e4e3491e1e18b41e2670ea7fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structx_p_l_received_messages.html">xPLReceivedMessages</a> <a class="el" href="x_p_l_8h.html#ab69d5f7e4e3491e1e18b41e2670ea7fe">xPLReceivedMessage</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="x_p_l_8c_source.html#l00083">83</a> of file <a class="el" href="x_p_l_8c_source.html">xPL.c</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a7b0f54b3a08b018c41f0355a79e659"></a><!-- doxytag: member="xPL.h::XPLSocket" ref="a8a7b0f54b3a08b018c41f0355a79e659" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UDP_SOCKET <a class="el" href="x_p_l_8h.html#a8a7b0f54b3a08b018c41f0355a79e659">XPLSocket</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declares the Microchip IP socket that will be used for processing xPL messages. </p>

<p>Definition at line <a class="el" href="x_p_l_8c_source.html#l00081">81</a> of file <a class="el" href="x_p_l_8c_source.html">xPL.c</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l02162">bypassArea()</a>, <a class="el" href="_security_system_8c_source.html#l02108">bypassZone()</a>, <a class="el" href="_security_system_8c_source.html#l02311">EnableArea()</a>, <a class="el" href="_security_system_8c_source.html#l02226">EnableZone()</a>, <a class="el" href="_security_system_8c_source.html#l02048">IsolateArea()</a>, <a class="el" href="_security_system_8c_source.html#l01995">IsolateZone()</a>, <a class="el" href="_main_demo_8c_source.html#l00072">main()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00965">SendACStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00226">SendAlarmingMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00711">SendAreaInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00587">SendAreaList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01084">SendAreaStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00132">SendAreaStateMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">SendArmed()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00929">SendBatteryStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00814">SendConfigCurrent()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00774">SendConfigList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00504">SendDisarm()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00471">SendError()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00894">SendGatewayChanged()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00306">SendGatewayInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00360">SendGatewayReady()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00545">SendZoneList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01180">SendZoneStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00075">SendZoneStateMsg()</a>, <a class="el" href="_security_system_8c_source.html#l01411">StateChangeToArmFailed()</a>, <a class="el" href="_security_system_8c_source.html#l00515">xPLFactoryRestart()</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00300">XPLSendHeartBeat()</a>, and <a class="el" href="x_p_l_8c_source.html#l00263">XPLTasks()</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Apr 25 2011 23:31:11 for Alarm Cabinent by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
