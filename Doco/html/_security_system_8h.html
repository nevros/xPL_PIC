<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Alarm Cabinent: PIC Code/SecuritySystem.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Alarm Cabinent</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">PIC Code/SecuritySystem.h File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h__dep__incl.svg" width="3176" height="150" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="_security_system_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_zone_configs.html">ZoneConfigs</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores all of the configuration for ech of the zones.  <a href="struct_zone_configs.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_area_configs.html">AreaConfigs</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores each Area configuration information.  <a href="struct_area_configs.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structx_p_l_configs.html">xPLConfigs</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">General system Configuration entries.  <a href="structx_p_l_configs.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structx_p_l_tasks.html">xPLTasks</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines a task in the xPL messages to be transmitted task buffer.  <a href="structx_p_l_tasks.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structx_p_l_task_lists.html">xPLTaskLists</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Task buffer for sending xPL messages.  <a href="structx_p_l_task_lists.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_m_t_p_task_stack.html">SMTPTaskStack</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Task buffer for queuing up emails to be sent.  <a href="struct_s_m_t_p_task_stack.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_m_t_p_task_lists.html">SMTPTaskLists</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Overall Task buffer, mostly accessed to create a new tasks.  <a href="struct_s_m_t_p_task_lists.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>&#160;&#160;&#160;24</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>&#160;&#160;&#160;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ab2d5f95a4974c4f332df9f6a41022219">USERNAMELENGTH</a>&#160;&#160;&#160;10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#abbe086a1e768641e6894ec5116a52ae9">USERPASSLENGTH</a>&#160;&#160;&#160;40</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a330ed48a0698997047c61969a5245074">USERCOUNT</a>&#160;&#160;&#160;5</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a61145d9f711460b73af75ef123fc76f6">DEVICEDESCLENGTH</a>&#160;&#160;&#160;10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#aaad19aa5437f84c85f9e2535098af81c">XPLEECONFIGVERSION</a>&#160;&#160;&#160;0x60u</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#acdb1a1e550f9525246d5f268cd497452">XPLBUFFERSIZE</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the number of xPL messages that can be buffered for transmit  <a href="#acdb1a1e550f9525246d5f268cd497452"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a72e4cc77a027d4405fa74b0fba8780b6">EOLNORMAL</a>&#160;&#160;&#160;960</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a3197ce6034da227567571e818243e9b9">EOLTRIGGER</a>&#160;&#160;&#160;1024</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#af93892cc29e5727963f805814c86c5cf">EOLTOLERANCE</a>&#160;&#160;&#160;50</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a9b32c7d5cb308c3ace4284cd5b01d43c">EEDATASIZE_USER</a>&#160;&#160;&#160;250</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ae602f88c53afad0d7be5a93e0425c1b6">EEDATASIZE_DEVICEDESC</a>&#160;&#160;&#160;320</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a91b87b60e38a5f2cad2d0725a1ae6306">EEDATASTART_CONFIG</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ae33a92f4e46c1d70d59e71bd1eecc209">EEDATASTART_XPL</a>&#160;&#160;&#160;53</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a84d6a5346b04effd1160f34d13abd01c">EEDATASTART_ZONE</a>&#160;&#160;&#160;282</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a61748f301d79db0c4ecb09432705d105">EEDATASTART_AREA</a>&#160;&#160;&#160;379</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a1d0791661020cc7057f1ed794a848f20">EEDATASTART_USER</a>&#160;&#160;&#160;395</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#aa099c08420f2e838607142a7edaa8aa8">EEDATASTART_DEVICEDESC</a>&#160;&#160;&#160;645</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a2ca5533dbf2ad86bca9710ea55ff6177">EEDATASTART_MPFS</a>&#160;&#160;&#160;964</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#acb2785015a18eb21dd25b93b9b565f5f">HTTP_AUTH_ADMIN</a>&#160;&#160;&#160;(0x00)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#aeb3aff1f96e2e5351d1c4c31ef870696">HTTP_AUTH_OTHER</a>&#160;&#160;&#160;(0x01)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a3fe1201d0cccf4ea56b38090af1cd28a">BATTERY_DISCONNECTED</a>&#160;&#160;&#160;6</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#afd318e2ebde322f320606bb98b7b7ba1">BATTERY_LOW</a>&#160;&#160;&#160;12</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a4abfbdf2d01de8b44897b9992a885914">GATEWAYCHANGEDDELAY</a>&#160;&#160;&#160;20</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a3d9716c1403629a6282a6ad8a7300326">SMTPSMSIZE</a>&#160;&#160;&#160;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ab642958e77b4ce6fd3119a6a028e29e3">SMTP_TEST_WAITING</a>&#160;&#160;&#160;(0x8002u)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a9b173d9d938f8987dbfbcbc284e1f3d1">SMTP_TEST_DONE</a>&#160;&#160;&#160;(0x8003u)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a2ea42e00e0151b35178b5ddac534e048">NTP_TEST_DONE</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#afbb75fe1a85f4ed679e2b28609e528db">NTP_TEST_PROGRESS</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a7adf00b67146dabd255490b21da8c1ff">NTP_TEST_COMPLETED</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ac64f79def39bca28f829bccccb2582d5">NTP_TEST_DNSERROR</a>&#160;&#160;&#160;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#af741b7e79e90c1eff3853206abd0ca60">NTP_TEST_ARPERROR</a>&#160;&#160;&#160;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a635a61ffac11392ce261a74a5a1e48d9">NTP_TEST_TIMEOUT</a>&#160;&#160;&#160;5</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23">_BatteryStates</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a387b82967b2a5e7058fa8fa19c98c5aa">BatteryStates</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Refelcts the possible states of the backup battery.  <a href="#a387b82967b2a5e7058fa8fa19c98c5aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acf">_Alarm_States</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a8e5064a1f89199b73b816c1be8190bff">Alarm_States</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="_security_system_8h.html#a0981dfebddc4a4cce1d1c3a1472d064d">_ZoneTypes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ac7af29191b861df4dfafda7874128558">ZoneTypes</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Different zone types supported by xPL.  <a href="#ac7af29191b861df4dfafda7874128558"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8">_AlarmTypes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a9652006e0fd871cfba692c4ef327b611">AlarmTypes</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Different Alarm types that are using in xPL, used in zones and areas.  <a href="#a9652006e0fd871cfba692c4ef327b611"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbf">_Zone_States</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#abdc99e93ae47c7d6cb907274a3018ff4">Zone_States</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">When checking the zone state in EOL, these are the possible results.  <a href="#abdc99e93ae47c7d6cb907274a3018ff4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deb">_TaskBuffers</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a91316bbcd27d874bc6aa4afca917a4dd">TaskBuffers</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of task that has been buffered for processing.  <a href="#a91316bbcd27d874bc6aa4afca917a4dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71">_SMTP_SendTypes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ac565b3414da111ba78aef21e6e4ccc6e">SMTP_SendTypes</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of email message to be sent.  <a href="#ac565b3414da111ba78aef21e6e4ccc6e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3b">_SMTP_States</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a75e211de53c9a3a54ad93f59d0509c8c">SMTP_States</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">State of the email stack.  <a href="#a75e211de53c9a3a54ad93f59d0509c8c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23">_BatteryStates</a> { <a class="el" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23acb436c94851aca2c06d4934c15ff3217">Battery_Disconnected</a> =  0, 
<a class="el" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23ace98754d685608f660982557f94b5f00">Battery_Charging</a>, 
<a class="el" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23ac21f6c8ec50900b24300824ff13f7a14">Battery_Charged</a>, 
<a class="el" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23a11cc1f448ca555568d3c5e4f649c76d9">Battery_InUse</a>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Refelcts the possible states of the backup battery.  <a href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acf">_Alarm_States</a> { <br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfacf99f746f17e92913d15be9fc92d708c">Disarmed</a> =  0, 
<a class="el" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfaa92b7a267bbc04bd0510d28db78210ed">Alarming</a>, 
<a class="el" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfafb244666073c44c1f7554cdde4b17205">Alarming24</a>, 
<a class="el" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfa2160e3873e093db1b62cd10e5b6a27a3">Alarmed</a>, 
<br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfada3b192c1ac5ea06b25fb09a1b514567">Alarmed24</a>, 
<a class="el" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfa8bb76e1105100766672990f93e063c3c">Armed_LatchKey</a>, 
<a class="el" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfa0943115c51834114c13d76fb189f56d0">Armed</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a0981dfebddc4a4cce1d1c3a1472d064d">_ZoneTypes</a> { <a class="el" href="_security_system_8h.html#a0981dfebddc4a4cce1d1c3a1472d064da21fb74cd54ac804149445eff273c1daa">Perimiter</a> =  0, 
<a class="el" href="_security_system_8h.html#a0981dfebddc4a4cce1d1c3a1472d064da5bc0fbf26c5c8866833eb36caa382b7a">Interior</a>, 
<a class="el" href="_security_system_8h.html#a0981dfebddc4a4cce1d1c3a1472d064dad9414e63b65f1805cdd3ec2e6b74c4af">TwentyFourHour</a>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Different zone types supported by xPL.  <a href="_security_system_8h.html#a0981dfebddc4a4cce1d1c3a1472d064d">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8">_AlarmTypes</a> { <br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8a120398c58be584a75a04b4782660418c">Buglary</a> = 0, 
<a class="el" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8a1a68377b1e1396c49f254e18bf1f8a1c">Fire</a>, 
<a class="el" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8ac9d078348adc8f3d8ab161966b2bc183">Flood</a>, 
<a class="el" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8a92d18a66bfea6730875d3e711e43f81e">Gas</a>, 
<br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8a4b74c73f94da1d893710f28ecc1b689d">Silent</a>, 
<a class="el" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8a485eb687f01d5ed1de395323814f15c2">Duress</a>, 
<a class="el" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8ab41fe07a134a62397420ef854d35c7b1">Other</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Different Alarm types that are using in xPL, used in zones and areas.  <a href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbf">_Zone_States</a> { <br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff0f80ff8f066737372b052c2160509a">StateNothing</a> =  0, 
<a class="el" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875">StateNormal</a>, 
<a class="el" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f">StateTrigger</a>, 
<a class="el" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaef85932220f85c5f09ff9f3999755180">StateTamper</a>, 
<br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfad448fd95291fde3598bc0eafba11e4d4">StateBypass</a>, 
<a class="el" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa54990cdd4c65b38f8e38cc32b050056d">StateIsolate</a>, 
<a class="el" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa298ce309b93140eb01ed6204d58c1ecf">StateAlarm</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">When checking the zone state in EOL, these are the possible results.  <a href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbf">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deb">_TaskBuffers</a> { <br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debad4f3dc80b5c89702639a3b938b39c045">TB_Empty</a> =  0, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debad4750e901f520114b30dc39d8d70a0a0">TB_SendConfigCurrent</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba62487ade0039ada8325f00b58a204929">TB_SendConfigList</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaa94a96105763a0e83f669efef0921ecc">TB_ArmFailed</a>, 
<br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba2f75946b7c4455271e0b1b684fa1fccd">TB_SendArmed</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba5dbdd6a4e8fd4a0d20c276a452fd9eb9">TB_SendDisarm</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaec54c751a669111ac9d7ecc2be16f2b0">TB_Panic</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba3531a51bf0de6afa086227bd386757da">TB_SendGatewayInfo</a>, 
<br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba4958f2b5966c8bd39b22f0059854cd65">TB_SendZoneList</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debadefe2c183f4cb0391d6a20a2a98abeb1">TB_SendAreaList</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaa663ca6dd0a7b91286407c39174ad3c5">TB_SendZoneInfo</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaa5ae73dc445f6834a30b88b5ec7741aa">TB_SendAreaInfo</a>, 
<br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba50a9d18dd2121632a2d41890f9e0dcad">TB_Isolate</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba1a2f5c1ced4a7a6ef76d5a6e0ebf26f1">TB_Bypass</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debae35285ccd71be17edd6c76911642a84f">TB_Enable</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba7b60d1d8fae6193592f42e97a2df8846">TB_SendAreaStateMsg</a>, 
<br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba7cdac24e07915d54c69862bc686dbc3c">TB_SendInvalidUser</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba151bd1b8f717cac517f3bc2150ef004e">TB_SendInvalidUserTimestamp</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba355e90cd3537b1c518aa6364d1307617">TB_SendGatewayChanged</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debade489309cf96b23ec7a59ab75f32e863">TB_SendError</a>, 
<br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba481ff892e48385c5941818d48dfde8bf">TB_SendGateStat</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba25a621bc1f223ff1e6ef8980a4103932">TB_SendAreaStat</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debadae4078c6aaf8dab7f05974d72be0b84">TB_SendZoneStat</a>, 
<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaf9f0cd38482d4fd02c39cd3890a4f882">TB_SendBatteryStat</a>, 
<br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debac46bb2c8228114e288eeec66988d0448">TB_SendACStat</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of task that has been buffered for processing.  <a href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deb">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71">_SMTP_SendTypes</a> { <br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71ab3c9d4bf0dca93207eab351655af17df">SMTP_Test</a> = 0, 
<a class="el" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71a621558074564a0ac1ed2b6cbcd0a8fc6">SMTP_Arm</a>, 
<a class="el" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71a24aa6860db5441d0687ad842d9e4f86f">SMTP_Disarm</a>, 
<a class="el" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71aeefaacd7ffe9237ff8436559742579b7">SMTP_Alarmed</a>, 
<br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71aee6aa005c1fc5d9f46f5aca5dd3660bc">SMTP_Reset</a>, 
<a class="el" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71ac80b1dbf6a5e492ce85ff9440d60c0ac">SMTP_InternetRestored</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of email message to be sent.  <a href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3b">_SMTP_States</a> { <a class="el" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3ba51e3f81d22665d7ef84b971a484335bf">SMTP_SM_InQ</a> = 0, 
<a class="el" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3bab4dd2e486984f59e46471623da30664b">SMTP_SM_Working</a>, 
<a class="el" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3ba3da8cf88892b271e88d8defa9dff74c1">SMTP_SM_Done</a>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">State of the email stack.  <a href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3b">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99">SNTPStates</a> { <br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99aea7247ebfc50d7f911c172da37f49e23">SM_HOME</a> =  0, 
<a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a1f6f83753731af083a737fba12f962dd">SM_NAME_RESOLVE</a>, 
<a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a4246a915d3fac96d3b99ea2f7f0b75e4">SM_ARP_START_RESOLVE</a>, 
<a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a4b1f504478c3adb46b8bddd341cf431e">SM_ARP_RESOLVE</a>, 
<br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99ae577e7e208397623d1cfd9c2708f6ae7">SM_ARP_START_RESOLVE2</a>, 
<a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99afd4aea26a60199760d9258c41915fabb">SM_ARP_RESOLVE2</a>, 
<a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a6ce6bcc9ff6b9526a8a290e92c660372">SM_ARP_START_RESOLVE3</a>, 
<a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a19aa474b1a067f0f328e4e7626dadb87">SM_ARP_RESOLVE3</a>, 
<br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99abc595e4a4c3d4088da4edff772442822">SM_ARP_RESOLVE_FAIL</a>, 
<a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a8f906883b6328da991d03aa022af415d">SM_UDP_SEND</a>, 
<a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99af63ee3ca9b5cb06f91cd51344ef58084">SM_UDP_RECV</a>, 
<a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a2c17b68ae4178611296803bc0788eb07">SM_SHORT_WAIT</a>, 
<br/>
&#160;&#160;<a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a030e7676ddc0611f9db274ad2c0e1bad">SM_WAIT</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">state machine for NTP process, see SNTP Customised.c  <a href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a05993d6944a2de72b8463a2ca719d3f1">xPLFactoryRestart</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a491f8822a8274ca5244c41d226e7136e">ClearArmingFlags</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ad005bf137d94f0f8658203f58f89fffb">SetArming</a> (char *TheValue, BOOL IsZone)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a3ca20943ab34a0d560cd22d88c0ba324">Disarm</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#aa58e855f239c14c2cfc32dcfa244d31f">IsolateZone</a> (int TheZone)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a3e1f7b8c937f29b73398bb3ad54743c4">IsolateArea</a> (int TheArea)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ab3be31caf1027bb142335a3a3d7d4eb1">bypassZone</a> (int TheZone)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a6ff589f01cb93ce6c97ab0af6405d0df">bypassArea</a> (int TheArea)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a14eb903eaa706a4874267274a2ffc6fa">EnableZone</a> (int TheZone)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a4c1402940dc136f20f757edb09c73e28">EnableArea</a> (int TheArea)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a723bf79e9ca7924d850e5c2be4029b1c">Arm</a> (int short TimeDelay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#afba09fe6505822eb03078088f14ef89b">ArmHome</a> (int short TimeDelay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#af7b9ebfe6bb90725304e83cadb4cced8">ArmAway</a> (int short TimeDelay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#aad7b06369f4a1f3b427e137a9f84a5c0">ArmLatchkey</a> (int short TimeDelay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a1e04428a714d6c8c97cb8685f96933ee">Panic</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a0b01977d95904c38e9744db6ec788c00">isZoneMemberOfArea</a> (int ZoneID, int AreaID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a73d4e378556fa6a028b9460759871f2c">ModifyUser</a> (BYTE *ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#accacf14baedf98bbdcea140a8f3cd3eb">Authenticate</a> (char *Password)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a6e8f2eab6326e5e8d0884ac0f3329628">DecodeIntFromGET</a> (BYTE *GETptr, rom char *DebugMesg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes and int value from a HTTP buffer (GET)  <a href="#a6e8f2eab6326e5e8d0884ac0f3329628"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="el" href="_security_system_8h.html#a91316bbcd27d874bc6aa4afca917a4dd">TaskBuffers</a> TaskBuffered)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#acdb6126b5578c4ca8c06d5343a7b37df">SendAreaInfo</a> (int TheArea)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ae149da75e2b494aa56f4976837706565">SendZoneInfo</a> (int TheZone)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a43dbd62169c9f83be3663dc435e232c7">SendAreaList</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a5583c2b95797b8210dfe1b1a5e516c2d">SendZoneList</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#af1800c287b83d40961f39fcd9a751322">SendDisarm</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ab29cace49ca20af0048aac94e64c10dd">SendError</a> (rom char *ErrorMessage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ae049c3724d5bacc955f50f724483ed91">SendArmed</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a46495fd42c19f6703e4663cb7cf2d1ec">SendGatewayInfo</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ae9e6733b7fed738a76787f01762bb284">SendAlarmingMsg</a> (int TheZone)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ae77b19bae92f6c64f9a58f722b4bf193">SendAreaStateMsg</a> (<a class="el" href="_security_system_8h.html#abdc99e93ae47c7d6cb907274a3018ff4">Zone_States</a> CurrentZoneState, int TheZone, int StartPoint)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ab01e7f6872c9f26dd9f91bc24f43f4b6">SendZoneStateMsg</a> (<a class="el" href="_security_system_8h.html#abdc99e93ae47c7d6cb907274a3018ff4">Zone_States</a> MessageType, int TheZone)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a07582d84515caf26cd22e534fd29f378">SendConfigList</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a729b2eb0275e2affcdf87121b20125fc">SendConfigCurrent</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a0a59aa6a73171b98b88cf2f9070ceac4">SendIPValue</a> (IP_ADDR IPVal)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a2c31ecf27fafa5085703f0719f6decac">SendGatewayChanged</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#aeb4ee205f02bf767a5d3b93608abc736">SendGateStat</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a7fdbfa1929e90a45cc905c6276ab7cae">SendZoneStat</a> (int TheZone)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a5d91f06e22d49f6ecee37802e866e0e6">SendAreaStat</a> (int TheArea)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HTTP_IO_RESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a9c160f75487ab4757ce5a93145379327">HTTPPostEmail</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HTTP_IO_RESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a9684d57d301c8de28dba3a1dc22d4708">HTTPPostSMTPConfig</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads an input parameter from the POSTed data, and writes that string to the configuration values for SMTP.  <a href="#a9684d57d301c8de28dba3a1dc22d4708"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#aa3464edbc8a2b00d44aff04588ed10ef">SMTPTaskProcess</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Managers the scheduled sending of emails.  <a href="#aa3464edbc8a2b00d44aff04588ed10ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ae777555850cf9c897f46c8407ce1729f">SMTPQueueEmail</a> (<a class="el" href="_security_system_8h.html#ac565b3414da111ba78aef21e6e4ccc6e">SMTP_SendTypes</a> Email_Type)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Places a new email in the SMTP queue to be processed (sent)  <a href="#ae777555850cf9c897f46c8407ce1729f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ad7abffae7b40c1538c5411bfd808a68a">BatteryTask</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Task process for managing the battery state.  <a href="#ad7abffae7b40c1538c5411bfd808a68a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_security_system_8h.html#abdc99e93ae47c7d6cb907274a3018ff4">Zone_States</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a44f4ef2b28f2d65b626e1ec4e5885934">IsZoneTriggered</a> (int ZoneID)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_security_system_8h.html#a8e5064a1f89199b73b816c1be8190bff">Alarm_States</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a016286d63fa2bb14fec565ed023b35cf">AlarmState</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reflects the state of the alarm.  <a href="#a016286d63fa2bb14fec565ed023b35cf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ROM char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#aa5d4120799cb431593bcf942bea5e521">ZoneTypesText</a> []</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">determines the text outputed in the xpl message for each of the zone types  <a href="#aa5d4120799cb431593bcf942bea5e521"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ROM char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a0667a8b5a54137909bfaa3f775b48293">AlarmStatesText</a> []</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Text used for the current state of the alarm.  <a href="#a0667a8b5a54137909bfaa3f775b48293"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ROM char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a8cba7131f5350817bd065e867459fa69">AlarmTypesText</a> []</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">determines the text outputed in the xPL message for each of the alarm types  <a href="#a8cba7131f5350817bd065e867459fa69"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#af1c18f7532835833de15218c3aa5d146">UserID</a> [USERNAMELENGTH]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of user.  <a href="#af1c18f7532835833de15218c3aa5d146"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a45c8f1ff198e164451795c949f64747a">iCount</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Counters that are used in a number of places, centraly defined to reduce memory use.  <a href="#a45c8f1ff198e164451795c949f64747a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a3b83b71efc87ba66b8d8311363b4296e">RejectedPassword</a> [USERPASSLENGTH]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Tracks that last password that was rejected, useful when adding RFID tags.  <a href="#a3b83b71efc87ba66b8d8311363b4296e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ab4811cda05bf084486e0e786e68498ea">LastZoneAlarmed</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The last zone to change to alarmed state. used in <a class="el" href="_s_m_t_p_8c.html" title="All things Email.">SMTP.c</a>.  <a href="#ab4811cda05bf084486e0e786e68498ea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_security_system_8h.html#a387b82967b2a5e7058fa8fa19c98c5aa">BatteryStates</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a35b967426a12072affebab82da722ef3">BatteryState</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Keeps track of the battery state.  <a href="#a35b967426a12072affebab82da722ef3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#abc18e4dde03a4d8707108764cf095185">VoltageBattery</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Battery voltage.  <a href="#abc18e4dde03a4d8707108764cf095185"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#aa01e43930ba742d30175efb597a2e4c0">VoltageSupply</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">12v supply voltage  <a href="#aa01e43930ba742d30175efb597a2e4c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_zone_configs.html">ZoneConfigs</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#af027bc313be80301e927d4717cb0dc90">ZoneConfig</a> [ZONECOUNT]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores each Zones configuration information.  <a href="#af027bc313be80301e927d4717cb0dc90"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_area_configs.html">AreaConfigs</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a6d79e0918c6b94528f6283856d663a9b">AreaConfig</a> [AREACOUNT]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores each Area configuration information.  <a href="#a6d79e0918c6b94528f6283856d663a9b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structx_p_l_configs.html">xPLConfigs</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#adaa5e54872217e9a75a2bfdadf293d12">xPLConfig</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration entries.  <a href="#adaa5e54872217e9a75a2bfdadf293d12"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structx_p_l_task_lists.html">xPLTaskLists</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a129e6683e32d77565169cb282dc552c2">xPLTaskList</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The Task buffer for sending xPL messages.  <a href="#a129e6683e32d77565169cb282dc552c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s_m_t_p_task_lists.html">SMTPTaskLists</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b">SMTPTaskList</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">State machine for sending out emails.  <a href="#a4a27286a5cf26257930ac713fbd78b3b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a9cbd255a539aaee43372b00cbc47498e">SMPTTestResult</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">used for testing email  <a href="#a9cbd255a539aaee43372b00cbc47498e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99">SNTPStates</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#ac6e22465161b7de2caf5f35cea78318e">SNTPState</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_security_system_8h.html#a6fec3fdfff459a953822db2e8ff9b462">NTPTestResponse</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">stores the response from a SNTP test  <a href="#a6fec3fdfff459a953822db2e8ff9b462"></a><br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="af9feef5e257517789486c320b17e82bd"></a><!-- doxytag: member="SecuritySystem.h::AREACOUNT" ref="af9feef5e257517789486c320b17e82bd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AREACOUNT&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00008">8</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_security_x_p_l_sender_8c_source.html#l00017">addxPLMessage()</a>, <a class="el" href="_security_system_8c_source.html#l01122">Arm()</a>, <a class="el" href="_security_system_8c_source.html#l01091">ClearArmingFlags()</a>, <a class="el" href="_security_system_8c_source.html#l01938">Disarm()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00627">HTTPPrint_AreaCount()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00746">HTTPPrint_AreasAlarmed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00771">HTTPPrint_AreasAlarmType()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00719">HTTPPrint_AreasArmed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00638">HTTPPrint_AreasBypassed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00664">HTTPPrint_AreasIsolated()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00693">HTTPPrint_AreasTriggered()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00823">HTTPPrint_AreaTampered()</a>, <a class="el" href="_e_o_l_8c_source.html#l00154">IsZoneTriggered()</a>, <a class="el" href="_security_system_8c_source.html#l00433">LoadDefaultConfig()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00226">SendAlarmingMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00587">SendAreaList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00132">SendAreaStateMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">SendArmed()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00306">SendGatewayInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>, <a class="el" href="_security_system_8c_source.html#l01537">SetArming()</a>, <a class="el" href="_security_system_8c_source.html#l00916">StateChangeToAlarming()</a>, and <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>.</p>

</div>
</div>
<a class="anchor" id="a3fe1201d0cccf4ea56b38090af1cd28a"></a><!-- doxytag: member="SecuritySystem.h::BATTERY_DISCONNECTED" ref="a3fe1201d0cccf4ea56b38090af1cd28a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BATTERY_DISCONNECTED&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00052">52</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_battery_8c_source.html#l00144">BatteryTask()</a>.</p>

</div>
</div>
<a class="anchor" id="afd318e2ebde322f320606bb98b7b7ba1"></a><!-- doxytag: member="SecuritySystem.h::BATTERY_LOW" ref="afd318e2ebde322f320606bb98b7b7ba1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BATTERY_LOW&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00053">53</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_battery_8c_source.html#l00144">BatteryTask()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00929">SendBatteryStat()</a>, and <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>.</p>

</div>
</div>
<a class="anchor" id="a61145d9f711460b73af75ef123fc76f6"></a><!-- doxytag: member="SecuritySystem.h::DEVICEDESCLENGTH" ref="a61145d9f711460b73af75ef123fc76f6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICEDESCLENGTH&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00012">12</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00796">HTTPPrint_AreaDesc()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00570">HTTPPrint_ZoneDesc()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00526">SaveDeviceDescription()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00711">SendAreaInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>, and <a class="el" href="_s_m_t_p_8c_source.html#l00412">SMTPTaskProcess()</a>.</p>

</div>
</div>
<a class="anchor" id="ae602f88c53afad0d7be5a93e0425c1b6"></a><!-- doxytag: member="SecuritySystem.h::EEDATASIZE_DEVICEDESC" ref="ae602f88c53afad0d7be5a93e0425c1b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEDATASIZE_DEVICEDESC&#160;&#160;&#160;320</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00037">37</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9b32c7d5cb308c3ace4284cd5b01d43c"></a><!-- doxytag: member="SecuritySystem.h::EEDATASIZE_USER" ref="a9b32c7d5cb308c3ace4284cd5b01d43c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEDATASIZE_USER&#160;&#160;&#160;250</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00036">36</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

</div>
</div>
<a class="anchor" id="a61748f301d79db0c4ecb09432705d105"></a><!-- doxytag: member="SecuritySystem.h::EEDATASTART_AREA" ref="a61748f301d79db0c4ecb09432705d105" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEDATASTART_AREA&#160;&#160;&#160;379</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00042">42</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l02162">bypassArea()</a>, <a class="el" href="_security_system_8c_source.html#l02311">EnableArea()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_security_system_8c_source.html#l02048">IsolateArea()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, and <a class="el" href="_security_system_8c_source.html#l00515">xPLFactoryRestart()</a>.</p>

</div>
</div>
<a class="anchor" id="a91b87b60e38a5f2cad2d0725a1ae6306"></a><!-- doxytag: member="SecuritySystem.h::EEDATASTART_CONFIG" ref="a91b87b60e38a5f2cad2d0725a1ae6306" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEDATASTART_CONFIG&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00039">39</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa099c08420f2e838607142a7edaa8aa8"></a><!-- doxytag: member="SecuritySystem.h::EEDATASTART_DEVICEDESC" ref="aa099c08420f2e838607142a7edaa8aa8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEDATASTART_DEVICEDESC&#160;&#160;&#160;645</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00044">44</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00796">HTTPPrint_AreaDesc()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00570">HTTPPrint_ZoneDesc()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00711">SendAreaInfo()</a>, and <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>.</p>

</div>
</div>
<a class="anchor" id="a2ca5533dbf2ad86bca9710ea55ff6177"></a><!-- doxytag: member="SecuritySystem.h::EEDATASTART_MPFS" ref="a2ca5533dbf2ad86bca9710ea55ff6177" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEDATASTART_MPFS&#160;&#160;&#160;964</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00045">45</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d0791661020cc7057f1ed794a848f20"></a><!-- doxytag: member="SecuritySystem.h::EEDATASTART_USER" ref="a1d0791661020cc7057f1ed794a848f20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEDATASTART_USER&#160;&#160;&#160;395</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00043">43</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_authenticate_8c_source.html#l00369">LoadUserNameEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00333">LoadUserPasswordEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00447">SaveUserNameEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00403">SaveUserPasswordEEdata()</a>, and <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ae33a92f4e46c1d70d59e71bd1eecc209"></a><!-- doxytag: member="SecuritySystem.h::EEDATASTART_XPL" ref="ae33a92f4e46c1d70d59e71bd1eecc209" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEDATASTART_XPL&#160;&#160;&#160;53</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00040">40</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00228">HTTPPostSMTPConfig()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>, and <a class="el" href="_security_system_8c_source.html#l00515">xPLFactoryRestart()</a>.</p>

</div>
</div>
<a class="anchor" id="a84d6a5346b04effd1160f34d13abd01c"></a><!-- doxytag: member="SecuritySystem.h::EEDATASTART_ZONE" ref="a84d6a5346b04effd1160f34d13abd01c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEDATASTART_ZONE&#160;&#160;&#160;282</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00041">41</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l02162">bypassArea()</a>, <a class="el" href="_security_system_8c_source.html#l02108">bypassZone()</a>, <a class="el" href="_security_system_8c_source.html#l02311">EnableArea()</a>, <a class="el" href="_security_system_8c_source.html#l02226">EnableZone()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_security_system_8c_source.html#l02048">IsolateArea()</a>, <a class="el" href="_security_system_8c_source.html#l01995">IsolateZone()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, and <a class="el" href="_security_system_8c_source.html#l00515">xPLFactoryRestart()</a>.</p>

</div>
</div>
<a class="anchor" id="a72e4cc77a027d4405fa74b0fba8780b6"></a><!-- doxytag: member="SecuritySystem.h::EOLNORMAL" ref="a72e4cc77a027d4405fa74b0fba8780b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EOLNORMAL&#160;&#160;&#160;960</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00019">19</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_e_o_l_8c_source.html#l00023">CheckEOL()</a>.</p>

</div>
</div>
<a class="anchor" id="af93892cc29e5727963f805814c86c5cf"></a><!-- doxytag: member="SecuritySystem.h::EOLTOLERANCE" ref="af93892cc29e5727963f805814c86c5cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EOLTOLERANCE&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00021">21</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_e_o_l_8c_source.html#l00023">CheckEOL()</a>.</p>

</div>
</div>
<a class="anchor" id="a3197ce6034da227567571e818243e9b9"></a><!-- doxytag: member="SecuritySystem.h::EOLTRIGGER" ref="a3197ce6034da227567571e818243e9b9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EOLTRIGGER&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00020">20</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_e_o_l_8c_source.html#l00023">CheckEOL()</a>.</p>

</div>
</div>
<a class="anchor" id="a4abfbdf2d01de8b44897b9992a885914"></a><!-- doxytag: member="SecuritySystem.h::GATEWAYCHANGEDDELAY" ref="a4abfbdf2d01de8b44897b9992a885914" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GATEWAYCHANGEDDELAY&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00056">56</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>.</p>

</div>
</div>
<a class="anchor" id="acb2785015a18eb21dd25b93b9b565f5f"></a><!-- doxytag: member="SecuritySystem.h::HTTP_AUTH_ADMIN" ref="acb2785015a18eb21dd25b93b9b565f5f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_AUTH_ADMIN&#160;&#160;&#160;(0x00)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00048">48</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_authenticate_8c_source.html#l00592">HTTPCheckAuth()</a>, and <a class="el" href="_authenticate_8c_source.html#l00556">HTTPNeedsAuth()</a>.</p>

</div>
</div>
<a class="anchor" id="aeb3aff1f96e2e5351d1c4c31ef870696"></a><!-- doxytag: member="SecuritySystem.h::HTTP_AUTH_OTHER" ref="aeb3aff1f96e2e5351d1c4c31ef870696" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_AUTH_OTHER&#160;&#160;&#160;(0x01)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00049">49</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_authenticate_8c_source.html#l00556">HTTPNeedsAuth()</a>.</p>

</div>
</div>
<a class="anchor" id="af741b7e79e90c1eff3853206abd0ca60"></a><!-- doxytag: member="SecuritySystem.h::NTP_TEST_ARPERROR" ref="af741b7e79e90c1eff3853206abd0ca60" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NTP_TEST_ARPERROR&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00066">66</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_custom_s_n_t_p_8c_source.html#l00186">HTTPPrint_SNTPTestOutput()</a>, and <a class="el" href="_custom_s_n_t_p_8c_source.html#l00237">SNTPClient()</a>.</p>

</div>
</div>
<a class="anchor" id="a7adf00b67146dabd255490b21da8c1ff"></a><!-- doxytag: member="SecuritySystem.h::NTP_TEST_COMPLETED" ref="a7adf00b67146dabd255490b21da8c1ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NTP_TEST_COMPLETED&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00064">64</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_custom_s_n_t_p_8c_source.html#l00186">HTTPPrint_SNTPTestOutput()</a>, and <a class="el" href="_custom_s_n_t_p_8c_source.html#l00237">SNTPClient()</a>.</p>

</div>
</div>
<a class="anchor" id="ac64f79def39bca28f829bccccb2582d5"></a><!-- doxytag: member="SecuritySystem.h::NTP_TEST_DNSERROR" ref="ac64f79def39bca28f829bccccb2582d5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NTP_TEST_DNSERROR&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00065">65</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_custom_s_n_t_p_8c_source.html#l00186">HTTPPrint_SNTPTestOutput()</a>, and <a class="el" href="_custom_s_n_t_p_8c_source.html#l00237">SNTPClient()</a>.</p>

</div>
</div>
<a class="anchor" id="a2ea42e00e0151b35178b5ddac534e048"></a><!-- doxytag: member="SecuritySystem.h::NTP_TEST_DONE" ref="a2ea42e00e0151b35178b5ddac534e048" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NTP_TEST_DONE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00062">62</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_custom_s_n_t_p_8c_source.html#l00186">HTTPPrint_SNTPTestOutput()</a>, and <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>.</p>

</div>
</div>
<a class="anchor" id="afbb75fe1a85f4ed679e2b28609e528db"></a><!-- doxytag: member="SecuritySystem.h::NTP_TEST_PROGRESS" ref="afbb75fe1a85f4ed679e2b28609e528db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NTP_TEST_PROGRESS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00063">63</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>.</p>

</div>
</div>
<a class="anchor" id="a635a61ffac11392ce261a74a5a1e48d9"></a><!-- doxytag: member="SecuritySystem.h::NTP_TEST_TIMEOUT" ref="a635a61ffac11392ce261a74a5a1e48d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NTP_TEST_TIMEOUT&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00067">67</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_custom_s_n_t_p_8c_source.html#l00186">HTTPPrint_SNTPTestOutput()</a>, and <a class="el" href="_custom_s_n_t_p_8c_source.html#l00237">SNTPClient()</a>.</p>

</div>
</div>
<a class="anchor" id="a9b173d9d938f8987dbfbcbc284e1f3d1"></a><!-- doxytag: member="SecuritySystem.h::SMTP_TEST_DONE" ref="a9b173d9d938f8987dbfbcbc284e1f3d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMTP_TEST_DONE&#160;&#160;&#160;(0x8003u)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00060">60</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00170">HTTPPrint_SMTPTestOutput()</a>, and <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ab642958e77b4ce6fd3119a6a028e29e3"></a><!-- doxytag: member="SecuritySystem.h::SMTP_TEST_WAITING" ref="ab642958e77b4ce6fd3119a6a028e29e3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMTP_TEST_WAITING&#160;&#160;&#160;(0x8002u)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00059">59</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>.</p>

</div>
</div>
<a class="anchor" id="a3d9716c1403629a6282a6ad8a7300326"></a><!-- doxytag: member="SecuritySystem.h::SMTPSMSIZE" ref="a3d9716c1403629a6282a6ad8a7300326" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMTPSMSIZE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00057">57</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00613">SMTPQueueEmail()</a>, and <a class="el" href="_s_m_t_p_8c_source.html#l00412">SMTPTaskProcess()</a>.</p>

</div>
</div>
<a class="anchor" id="a330ed48a0698997047c61969a5245074"></a><!-- doxytag: member="SecuritySystem.h::USERCOUNT" ref="a330ed48a0698997047c61969a5245074" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USERCOUNT&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00011">11</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_authenticate_8c_source.html#l00188">Authenticate()</a>, <a class="el" href="_authenticate_8c_source.html#l00592">HTTPCheckAuth()</a>, <a class="el" href="_authenticate_8c_source.html#l00369">LoadUserNameEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00333">LoadUserPasswordEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00447">SaveUserNameEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00403">SaveUserPasswordEEdata()</a>, and <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2d5f95a4974c4f332df9f6a41022219"></a><!-- doxytag: member="SecuritySystem.h::USERNAMELENGTH" ref="ab2d5f95a4974c4f332df9f6a41022219" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USERNAMELENGTH&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00009">9</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_authenticate_8c_source.html#l00188">Authenticate()</a>, <a class="el" href="_authenticate_8c_source.html#l00271">HTTPPrint_UserName()</a>, <a class="el" href="_authenticate_8c_source.html#l00369">LoadUserNameEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00333">LoadUserPasswordEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00487">ModifyUser()</a>, <a class="el" href="_authenticate_8c_source.html#l00447">SaveUserNameEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00403">SaveUserPasswordEEdata()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">SendArmed()</a>, and <a class="el" href="_security_x_p_l_sender_8c_source.html#l00504">SendDisarm()</a>.</p>

</div>
</div>
<a class="anchor" id="abbe086a1e768641e6894ec5116a52ae9"></a><!-- doxytag: member="SecuritySystem.h::USERPASSLENGTH" ref="abbe086a1e768641e6894ec5116a52ae9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USERPASSLENGTH&#160;&#160;&#160;40</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00010">10</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_authenticate_8c_source.html#l00188">Authenticate()</a>, <a class="el" href="_authenticate_8c_source.html#l00592">HTTPCheckAuth()</a>, <a class="el" href="_authenticate_8c_source.html#l00246">HTTPPrint_RejectPassword()</a>, <a class="el" href="_authenticate_8c_source.html#l00300">HTTPPrint_UserPassword()</a>, <a class="el" href="_authenticate_8c_source.html#l00369">LoadUserNameEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00333">LoadUserPasswordEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00487">ModifyUser()</a>, <a class="el" href="_authenticate_8c_source.html#l00447">SaveUserNameEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00403">SaveUserPasswordEEdata()</a>, and <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>.</p>

</div>
</div>
<a class="anchor" id="acdb1a1e550f9525246d5f268cd497452"></a><!-- doxytag: member="SecuritySystem.h::XPLBUFFERSIZE" ref="acdb1a1e550f9525246d5f268cd497452" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XPLBUFFERSIZE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the number of xPL messages that can be buffered for transmit </p>

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00016">16</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_security_x_p_l_sender_8c_source.html#l00017">addxPLMessage()</a>, and <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>

</div>
</div>
<a class="anchor" id="aaad19aa5437f84c85f9e2535098af81c"></a><!-- doxytag: member="SecuritySystem.h::XPLEECONFIGVERSION" ref="aaad19aa5437f84c85f9e2535098af81c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XPLEECONFIGVERSION&#160;&#160;&#160;0x60u</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00013">13</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00628">HTTPPostConfig()</a>, <a class="el" href="x_p_l_8c_source.html#l00157">xPLLoadEEConfig()</a>, and <a class="el" href="x_p_l_8c_source.html#l00194">xPLSaveEEConfig()</a>.</p>

</div>
</div>
<a class="anchor" id="a36673b0aa547051d1b4ee6516939b83b"></a><!-- doxytag: member="SecuritySystem.h::ZONECOUNT" ref="a36673b0aa547051d1b4ee6516939b83b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZONECOUNT&#160;&#160;&#160;24</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00007">7</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>

<p>Referenced by <a class="el" href="_security_x_p_l_sender_8c_source.html#l00017">addxPLMessage()</a>, <a class="el" href="_security_system_8c_source.html#l01122">Arm()</a>, <a class="el" href="_security_system_8c_source.html#l01192">ArmAway()</a>, <a class="el" href="_security_system_8c_source.html#l01162">ArmHome()</a>, <a class="el" href="_security_system_8c_source.html#l01220">ArmLatchkey()</a>, <a class="el" href="_security_system_8c_source.html#l02162">bypassArea()</a>, <a class="el" href="_security_system_8c_source.html#l01091">ClearArmingFlags()</a>, <a class="el" href="_security_system_8c_source.html#l01938">Disarm()</a>, <a class="el" href="_security_system_8c_source.html#l02311">EnableArea()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00796">HTTPPrint_AreaDesc()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00311">HTTPPrint_ZoneCount()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00418">HTTPPrint_ZonesAlarmed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00521">HTTPPrint_ZonesAlarmType()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00546">HTTPPrint_ZonesAreaList()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00394">HTTPPrint_ZonesArmed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00320">HTTPPrint_ZonesBypassed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00443">HTTPPrint_ZonesEntry()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00345">HTTPPrint_ZonesIsolated()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00468">HTTPPrint_ZonesNO()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00596">HTTPPrint_ZonesTampered()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00370">HTTPPrint_ZonesTriggered()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00494">HTTPPrint_ZonesType()</a>, <a class="el" href="_security_system_8c_source.html#l00780">IOTasks()</a>, <a class="el" href="_security_system_8c_source.html#l02048">IsolateArea()</a>, <a class="el" href="_e_o_l_8c_source.html#l00154">IsZoneTriggered()</a>, <a class="el" href="_security_system_8c_source.html#l00433">LoadDefaultConfig()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00711">SendAreaInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01084">SendAreaStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">SendArmed()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00306">SendGatewayInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00545">SendZoneList()</a>, <a class="el" href="_security_system_8c_source.html#l01537">SetArming()</a>, <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>, and <a class="el" href="_security_system_8c_source.html#l01411">StateChangeToArmFailed()</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a8e5064a1f89199b73b816c1be8190bff"></a><!-- doxytag: member="SecuritySystem.h::Alarm_States" ref="a8e5064a1f89199b73b816c1be8190bff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acf">_Alarm_States</a>  <a class="el" href="_security_system_8h.html#a8e5064a1f89199b73b816c1be8190bff">Alarm_States</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Alarm states, check SendGateStat before changing </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>is Alarming still needed? </dd></dl>

</div>
</div>
<a class="anchor" id="a9652006e0fd871cfba692c4ef327b611"></a><!-- doxytag: member="SecuritySystem.h::AlarmTypes" ref="a9652006e0fd871cfba692c4ef327b611" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8">_AlarmTypes</a>  <a class="el" href="_security_system_8h.html#a9652006e0fd871cfba692c4ef327b611">AlarmTypes</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Different Alarm types that are using in xPL, used in zones and areas. </p>

</div>
</div>
<a class="anchor" id="a387b82967b2a5e7058fa8fa19c98c5aa"></a><!-- doxytag: member="SecuritySystem.h::BatteryStates" ref="a387b82967b2a5e7058fa8fa19c98c5aa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23">_BatteryStates</a>  <a class="el" href="_security_system_8h.html#a387b82967b2a5e7058fa8fa19c98c5aa">BatteryStates</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Refelcts the possible states of the backup battery. </p>
<p>Check the TCP/IP stack is configured D E C L A R A T I O N S </p>

</div>
</div>
<a class="anchor" id="ac565b3414da111ba78aef21e6e4ccc6e"></a><!-- doxytag: member="SecuritySystem.h::SMTP_SendTypes" ref="ac565b3414da111ba78aef21e6e4ccc6e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71">_SMTP_SendTypes</a>  <a class="el" href="_security_system_8h.html#ac565b3414da111ba78aef21e6e4ccc6e">SMTP_SendTypes</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type of email message to be sent. </p>

</div>
</div>
<a class="anchor" id="a75e211de53c9a3a54ad93f59d0509c8c"></a><!-- doxytag: member="SecuritySystem.h::SMTP_States" ref="a75e211de53c9a3a54ad93f59d0509c8c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3b">_SMTP_States</a>  <a class="el" href="_security_system_8h.html#a75e211de53c9a3a54ad93f59d0509c8c">SMTP_States</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>State of the email stack. </p>

</div>
</div>
<a class="anchor" id="a91316bbcd27d874bc6aa4afca917a4dd"></a><!-- doxytag: member="SecuritySystem.h::TaskBuffers" ref="a91316bbcd27d874bc6aa4afca917a4dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deb">_TaskBuffers</a>  <a class="el" href="_security_system_8h.html#a91316bbcd27d874bc6aa4afca917a4dd">TaskBuffers</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The type of task that has been buffered for processing. </p>

</div>
</div>
<a class="anchor" id="abdc99e93ae47c7d6cb907274a3018ff4"></a><!-- doxytag: member="SecuritySystem.h::Zone_States" ref="abdc99e93ae47c7d6cb907274a3018ff4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbf">_Zone_States</a>  <a class="el" href="_security_system_8h.html#abdc99e93ae47c7d6cb907274a3018ff4">Zone_States</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>When checking the zone state in EOL, these are the possible results. </p>

</div>
</div>
<a class="anchor" id="ac7af29191b861df4dfafda7874128558"></a><!-- doxytag: member="SecuritySystem.h::ZoneTypes" ref="ac7af29191b861df4dfafda7874128558" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="_security_system_8h.html#a0981dfebddc4a4cce1d1c3a1472d064d">_ZoneTypes</a>  <a class="el" href="_security_system_8h.html#ac7af29191b861df4dfafda7874128558">ZoneTypes</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Different zone types supported by xPL. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a2c35ecf033af7102413d9338fc1e9acf"></a><!-- doxytag: member="SecuritySystem.h::_Alarm_States" ref="a2c35ecf033af7102413d9338fc1e9acf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acf">_Alarm_States</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Alarm states, check SendGateStat before changing </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>is Alarming still needed? </dd></dl>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a2c35ecf033af7102413d9338fc1e9acfacf99f746f17e92913d15be9fc92d708c"></a><!-- doxytag: member="Disarmed" ref="a2c35ecf033af7102413d9338fc1e9acfacf99f746f17e92913d15be9fc92d708c" args="" -->Disarmed</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2c35ecf033af7102413d9338fc1e9acfaa92b7a267bbc04bd0510d28db78210ed"></a><!-- doxytag: member="Alarming" ref="a2c35ecf033af7102413d9338fc1e9acfaa92b7a267bbc04bd0510d28db78210ed" args="" -->Alarming</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2c35ecf033af7102413d9338fc1e9acfafb244666073c44c1f7554cdde4b17205"></a><!-- doxytag: member="Alarming24" ref="a2c35ecf033af7102413d9338fc1e9acfafb244666073c44c1f7554cdde4b17205" args="" -->Alarming24</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2c35ecf033af7102413d9338fc1e9acfa2160e3873e093db1b62cd10e5b6a27a3"></a><!-- doxytag: member="Alarmed" ref="a2c35ecf033af7102413d9338fc1e9acfa2160e3873e093db1b62cd10e5b6a27a3" args="" -->Alarmed</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2c35ecf033af7102413d9338fc1e9acfada3b192c1ac5ea06b25fb09a1b514567"></a><!-- doxytag: member="Alarmed24" ref="a2c35ecf033af7102413d9338fc1e9acfada3b192c1ac5ea06b25fb09a1b514567" args="" -->Alarmed24</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2c35ecf033af7102413d9338fc1e9acfa8bb76e1105100766672990f93e063c3c"></a><!-- doxytag: member="Armed_LatchKey" ref="a2c35ecf033af7102413d9338fc1e9acfa8bb76e1105100766672990f93e063c3c" args="" -->Armed_LatchKey</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a2c35ecf033af7102413d9338fc1e9acfa0943115c51834114c13d76fb189f56d0"></a><!-- doxytag: member="Armed" ref="a2c35ecf033af7102413d9338fc1e9acfa0943115c51834114c13d76fb189f56d0" args="" -->Armed</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00109">109</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>
<div class="fragment"><pre class="fragment">                           {
        <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfacf99f746f17e92913d15be9fc92d708c">Disarmed</a> = 0,
        <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfaa92b7a267bbc04bd0510d28db78210ed">Alarming</a>, <span class="comment">// TODO, is this state still needed?</span>
        <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfafb244666073c44c1f7554cdde4b17205">Alarming24</a>,
        <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfa2160e3873e093db1b62cd10e5b6a27a3">Alarmed</a>,
        <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfada3b192c1ac5ea06b25fb09a1b514567">Alarmed24</a>,
        <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfa8bb76e1105100766672990f93e063c3c">Armed_LatchKey</a>,
        <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfa0943115c51834114c13d76fb189f56d0">Armed</a>
} <a class="code" href="_security_system_8h.html#a8e5064a1f89199b73b816c1be8190bff">Alarm_States</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="a785e9cb9358ef02350c5dbe8feacdce8"></a><!-- doxytag: member="SecuritySystem.h::_AlarmTypes" ref="a785e9cb9358ef02350c5dbe8feacdce8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8">_AlarmTypes</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Different Alarm types that are using in xPL, used in zones and areas. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a785e9cb9358ef02350c5dbe8feacdce8a120398c58be584a75a04b4782660418c"></a><!-- doxytag: member="Buglary" ref="a785e9cb9358ef02350c5dbe8feacdce8a120398c58be584a75a04b4782660418c" args="" -->Buglary</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a785e9cb9358ef02350c5dbe8feacdce8a1a68377b1e1396c49f254e18bf1f8a1c"></a><!-- doxytag: member="Fire" ref="a785e9cb9358ef02350c5dbe8feacdce8a1a68377b1e1396c49f254e18bf1f8a1c" args="" -->Fire</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a785e9cb9358ef02350c5dbe8feacdce8ac9d078348adc8f3d8ab161966b2bc183"></a><!-- doxytag: member="Flood" ref="a785e9cb9358ef02350c5dbe8feacdce8ac9d078348adc8f3d8ab161966b2bc183" args="" -->Flood</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a785e9cb9358ef02350c5dbe8feacdce8a92d18a66bfea6730875d3e711e43f81e"></a><!-- doxytag: member="Gas" ref="a785e9cb9358ef02350c5dbe8feacdce8a92d18a66bfea6730875d3e711e43f81e" args="" -->Gas</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a785e9cb9358ef02350c5dbe8feacdce8a4b74c73f94da1d893710f28ecc1b689d"></a><!-- doxytag: member="Silent" ref="a785e9cb9358ef02350c5dbe8feacdce8a4b74c73f94da1d893710f28ecc1b689d" args="" -->Silent</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a785e9cb9358ef02350c5dbe8feacdce8a485eb687f01d5ed1de395323814f15c2"></a><!-- doxytag: member="Duress" ref="a785e9cb9358ef02350c5dbe8feacdce8a485eb687f01d5ed1de395323814f15c2" args="" -->Duress</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a785e9cb9358ef02350c5dbe8feacdce8ab41fe07a134a62397420ef854d35c7b1"></a><!-- doxytag: member="Other" ref="a785e9cb9358ef02350c5dbe8feacdce8ab41fe07a134a62397420ef854d35c7b1" args="" -->Other</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00131">131</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>
<div class="fragment"><pre class="fragment">                         {
        <a class="code" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8a120398c58be584a75a04b4782660418c">Buglary</a> =0,
        <a class="code" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8a1a68377b1e1396c49f254e18bf1f8a1c">Fire</a>,
        <a class="code" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8ac9d078348adc8f3d8ab161966b2bc183">Flood</a>,
        <a class="code" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8a92d18a66bfea6730875d3e711e43f81e">Gas</a>,
        <a class="code" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8a4b74c73f94da1d893710f28ecc1b689d">Silent</a>,
        <a class="code" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8a485eb687f01d5ed1de395323814f15c2">Duress</a>,
        <a class="code" href="_security_system_8h.html#a785e9cb9358ef02350c5dbe8feacdce8ab41fe07a134a62397420ef854d35c7b1">Other</a>
} <a class="code" href="_security_system_8h.html#a9652006e0fd871cfba692c4ef327b611" title="Different Alarm types that are using in xPL, used in zones and areas.">AlarmTypes</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="a462bad824ca26348ba295528d4a61f23"></a><!-- doxytag: member="SecuritySystem.h::_BatteryStates" ref="a462bad824ca26348ba295528d4a61f23" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23">_BatteryStates</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Refelcts the possible states of the backup battery. </p>
<p>Check the TCP/IP stack is configured D E C L A R A T I O N S </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a462bad824ca26348ba295528d4a61f23acb436c94851aca2c06d4934c15ff3217"></a><!-- doxytag: member="Battery_Disconnected" ref="a462bad824ca26348ba295528d4a61f23acb436c94851aca2c06d4934c15ff3217" args="" -->Battery_Disconnected</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a462bad824ca26348ba295528d4a61f23ace98754d685608f660982557f94b5f00"></a><!-- doxytag: member="Battery_Charging" ref="a462bad824ca26348ba295528d4a61f23ace98754d685608f660982557f94b5f00" args="" -->Battery_Charging</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a462bad824ca26348ba295528d4a61f23ac21f6c8ec50900b24300824ff13f7a14"></a><!-- doxytag: member="Battery_Charged" ref="a462bad824ca26348ba295528d4a61f23ac21f6c8ec50900b24300824ff13f7a14" args="" -->Battery_Charged</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a462bad824ca26348ba295528d4a61f23a11cc1f448ca555568d3c5e4f649c76d9"></a><!-- doxytag: member="Battery_InUse" ref="a462bad824ca26348ba295528d4a61f23a11cc1f448ca555568d3c5e4f649c76d9" args="" -->Battery_InUse</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00099">99</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>
<div class="fragment"><pre class="fragment">                            {
        <a class="code" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23acb436c94851aca2c06d4934c15ff3217">Battery_Disconnected</a> = 0,
        <a class="code" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23ace98754d685608f660982557f94b5f00">Battery_Charging</a>,
        <a class="code" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23ac21f6c8ec50900b24300824ff13f7a14">Battery_Charged</a>,
        <a class="code" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23a11cc1f448ca555568d3c5e4f649c76d9">Battery_InUse</a>
} <a class="code" href="_security_system_8h.html#a387b82967b2a5e7058fa8fa19c98c5aa" title="Refelcts the possible states of the backup battery.">BatteryStates</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="adf08ba7d4e8e4395881e05cb2fabde71"></a><!-- doxytag: member="SecuritySystem.h::_SMTP_SendTypes" ref="adf08ba7d4e8e4395881e05cb2fabde71" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71">_SMTP_SendTypes</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type of email message to be sent. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="adf08ba7d4e8e4395881e05cb2fabde71ab3c9d4bf0dca93207eab351655af17df"></a><!-- doxytag: member="SMTP_Test" ref="adf08ba7d4e8e4395881e05cb2fabde71ab3c9d4bf0dca93207eab351655af17df" args="" -->SMTP_Test</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adf08ba7d4e8e4395881e05cb2fabde71a621558074564a0ac1ed2b6cbcd0a8fc6"></a><!-- doxytag: member="SMTP_Arm" ref="adf08ba7d4e8e4395881e05cb2fabde71a621558074564a0ac1ed2b6cbcd0a8fc6" args="" -->SMTP_Arm</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adf08ba7d4e8e4395881e05cb2fabde71a24aa6860db5441d0687ad842d9e4f86f"></a><!-- doxytag: member="SMTP_Disarm" ref="adf08ba7d4e8e4395881e05cb2fabde71a24aa6860db5441d0687ad842d9e4f86f" args="" -->SMTP_Disarm</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adf08ba7d4e8e4395881e05cb2fabde71aeefaacd7ffe9237ff8436559742579b7"></a><!-- doxytag: member="SMTP_Alarmed" ref="adf08ba7d4e8e4395881e05cb2fabde71aeefaacd7ffe9237ff8436559742579b7" args="" -->SMTP_Alarmed</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adf08ba7d4e8e4395881e05cb2fabde71aee6aa005c1fc5d9f46f5aca5dd3660bc"></a><!-- doxytag: member="SMTP_Reset" ref="adf08ba7d4e8e4395881e05cb2fabde71aee6aa005c1fc5d9f46f5aca5dd3660bc" args="" -->SMTP_Reset</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="adf08ba7d4e8e4395881e05cb2fabde71ac80b1dbf6a5e492ce85ff9440d60c0ac"></a><!-- doxytag: member="SMTP_InternetRestored" ref="adf08ba7d4e8e4395881e05cb2fabde71ac80b1dbf6a5e492ce85ff9440d60c0ac" args="" -->SMTP_InternetRestored</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00286">286</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>
<div class="fragment"><pre class="fragment">                             {
        <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71ab3c9d4bf0dca93207eab351655af17df">SMTP_Test</a> =0,
        <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71a621558074564a0ac1ed2b6cbcd0a8fc6">SMTP_Arm</a>,
        <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71a24aa6860db5441d0687ad842d9e4f86f">SMTP_Disarm</a>,
        <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71aeefaacd7ffe9237ff8436559742579b7">SMTP_Alarmed</a>,
        <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71aee6aa005c1fc5d9f46f5aca5dd3660bc">SMTP_Reset</a>,
        <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71ac80b1dbf6a5e492ce85ff9440d60c0ac">SMTP_InternetRestored</a>
} <a class="code" href="_security_system_8h.html#ac565b3414da111ba78aef21e6e4ccc6e" title="Type of email message to be sent.">SMTP_SendTypes</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="abb997235328abd40ef9f7185debb4e3b"></a><!-- doxytag: member="SecuritySystem.h::_SMTP_States" ref="abb997235328abd40ef9f7185debb4e3b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3b">_SMTP_States</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>State of the email stack. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="abb997235328abd40ef9f7185debb4e3ba51e3f81d22665d7ef84b971a484335bf"></a><!-- doxytag: member="SMTP_SM_InQ" ref="abb997235328abd40ef9f7185debb4e3ba51e3f81d22665d7ef84b971a484335bf" args="" -->SMTP_SM_InQ</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="abb997235328abd40ef9f7185debb4e3bab4dd2e486984f59e46471623da30664b"></a><!-- doxytag: member="SMTP_SM_Working" ref="abb997235328abd40ef9f7185debb4e3bab4dd2e486984f59e46471623da30664b" args="" -->SMTP_SM_Working</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="abb997235328abd40ef9f7185debb4e3ba3da8cf88892b271e88d8defa9dff74c1"></a><!-- doxytag: member="SMTP_SM_Done" ref="abb997235328abd40ef9f7185debb4e3ba3da8cf88892b271e88d8defa9dff74c1" args="" -->SMTP_SM_Done</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00296">296</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>
<div class="fragment"><pre class="fragment">                          {
        <a class="code" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3ba51e3f81d22665d7ef84b971a484335bf">SMTP_SM_InQ</a> =0,
        <a class="code" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3bab4dd2e486984f59e46471623da30664b">SMTP_SM_Working</a>,
        <a class="code" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3ba3da8cf88892b271e88d8defa9dff74c1">SMTP_SM_Done</a>
} <a class="code" href="_security_system_8h.html#a75e211de53c9a3a54ad93f59d0509c8c" title="State of the email stack.">SMTP_States</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deb"></a><!-- doxytag: member="SecuritySystem.h::_TaskBuffers" ref="a0a181dc5b89b91c60e4db10971c38deb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deb">_TaskBuffers</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The type of task that has been buffered for processing. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38debad4f3dc80b5c89702639a3b938b39c045"></a><!-- doxytag: member="TB_Empty" ref="a0a181dc5b89b91c60e4db10971c38debad4f3dc80b5c89702639a3b938b39c045" args="" -->TB_Empty</em>&nbsp;</td><td>
<p>Task is empty. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38debad4750e901f520114b30dc39d8d70a0a0"></a><!-- doxytag: member="TB_SendConfigCurrent" ref="a0a181dc5b89b91c60e4db10971c38debad4750e901f520114b30dc39d8d70a0a0" args="" -->TB_SendConfigCurrent</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deba62487ade0039ada8325f00b58a204929"></a><!-- doxytag: member="TB_SendConfigList" ref="a0a181dc5b89b91c60e4db10971c38deba62487ade0039ada8325f00b58a204929" args="" -->TB_SendConfigList</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38debaa94a96105763a0e83f669efef0921ecc"></a><!-- doxytag: member="TB_ArmFailed" ref="a0a181dc5b89b91c60e4db10971c38debaa94a96105763a0e83f669efef0921ecc" args="" -->TB_ArmFailed</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deba2f75946b7c4455271e0b1b684fa1fccd"></a><!-- doxytag: member="TB_SendArmed" ref="a0a181dc5b89b91c60e4db10971c38deba2f75946b7c4455271e0b1b684fa1fccd" args="" -->TB_SendArmed</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deba5dbdd6a4e8fd4a0d20c276a452fd9eb9"></a><!-- doxytag: member="TB_SendDisarm" ref="a0a181dc5b89b91c60e4db10971c38deba5dbdd6a4e8fd4a0d20c276a452fd9eb9" args="" -->TB_SendDisarm</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38debaec54c751a669111ac9d7ecc2be16f2b0"></a><!-- doxytag: member="TB_Panic" ref="a0a181dc5b89b91c60e4db10971c38debaec54c751a669111ac9d7ecc2be16f2b0" args="" -->TB_Panic</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deba3531a51bf0de6afa086227bd386757da"></a><!-- doxytag: member="TB_SendGatewayInfo" ref="a0a181dc5b89b91c60e4db10971c38deba3531a51bf0de6afa086227bd386757da" args="" -->TB_SendGatewayInfo</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deba4958f2b5966c8bd39b22f0059854cd65"></a><!-- doxytag: member="TB_SendZoneList" ref="a0a181dc5b89b91c60e4db10971c38deba4958f2b5966c8bd39b22f0059854cd65" args="" -->TB_SendZoneList</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38debadefe2c183f4cb0391d6a20a2a98abeb1"></a><!-- doxytag: member="TB_SendAreaList" ref="a0a181dc5b89b91c60e4db10971c38debadefe2c183f4cb0391d6a20a2a98abeb1" args="" -->TB_SendAreaList</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38debaa663ca6dd0a7b91286407c39174ad3c5"></a><!-- doxytag: member="TB_SendZoneInfo" ref="a0a181dc5b89b91c60e4db10971c38debaa663ca6dd0a7b91286407c39174ad3c5" args="" -->TB_SendZoneInfo</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38debaa5ae73dc445f6834a30b88b5ec7741aa"></a><!-- doxytag: member="TB_SendAreaInfo" ref="a0a181dc5b89b91c60e4db10971c38debaa5ae73dc445f6834a30b88b5ec7741aa" args="" -->TB_SendAreaInfo</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deba50a9d18dd2121632a2d41890f9e0dcad"></a><!-- doxytag: member="TB_Isolate" ref="a0a181dc5b89b91c60e4db10971c38deba50a9d18dd2121632a2d41890f9e0dcad" args="" -->TB_Isolate</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deba1a2f5c1ced4a7a6ef76d5a6e0ebf26f1"></a><!-- doxytag: member="TB_Bypass" ref="a0a181dc5b89b91c60e4db10971c38deba1a2f5c1ced4a7a6ef76d5a6e0ebf26f1" args="" -->TB_Bypass</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38debae35285ccd71be17edd6c76911642a84f"></a><!-- doxytag: member="TB_Enable" ref="a0a181dc5b89b91c60e4db10971c38debae35285ccd71be17edd6c76911642a84f" args="" -->TB_Enable</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deba7b60d1d8fae6193592f42e97a2df8846"></a><!-- doxytag: member="TB_SendAreaStateMsg" ref="a0a181dc5b89b91c60e4db10971c38deba7b60d1d8fae6193592f42e97a2df8846" args="" -->TB_SendAreaStateMsg</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deba7cdac24e07915d54c69862bc686dbc3c"></a><!-- doxytag: member="TB_SendInvalidUser" ref="a0a181dc5b89b91c60e4db10971c38deba7cdac24e07915d54c69862bc686dbc3c" args="" -->TB_SendInvalidUser</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deba151bd1b8f717cac517f3bc2150ef004e"></a><!-- doxytag: member="TB_SendInvalidUserTimestamp" ref="a0a181dc5b89b91c60e4db10971c38deba151bd1b8f717cac517f3bc2150ef004e" args="" -->TB_SendInvalidUserTimestamp</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deba355e90cd3537b1c518aa6364d1307617"></a><!-- doxytag: member="TB_SendGatewayChanged" ref="a0a181dc5b89b91c60e4db10971c38deba355e90cd3537b1c518aa6364d1307617" args="" -->TB_SendGatewayChanged</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38debade489309cf96b23ec7a59ab75f32e863"></a><!-- doxytag: member="TB_SendError" ref="a0a181dc5b89b91c60e4db10971c38debade489309cf96b23ec7a59ab75f32e863" args="" -->TB_SendError</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deba481ff892e48385c5941818d48dfde8bf"></a><!-- doxytag: member="TB_SendGateStat" ref="a0a181dc5b89b91c60e4db10971c38deba481ff892e48385c5941818d48dfde8bf" args="" -->TB_SendGateStat</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38deba25a621bc1f223ff1e6ef8980a4103932"></a><!-- doxytag: member="TB_SendAreaStat" ref="a0a181dc5b89b91c60e4db10971c38deba25a621bc1f223ff1e6ef8980a4103932" args="" -->TB_SendAreaStat</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38debadae4078c6aaf8dab7f05974d72be0b84"></a><!-- doxytag: member="TB_SendZoneStat" ref="a0a181dc5b89b91c60e4db10971c38debadae4078c6aaf8dab7f05974d72be0b84" args="" -->TB_SendZoneStat</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38debaf9f0cd38482d4fd02c39cd3890a4f882"></a><!-- doxytag: member="TB_SendBatteryStat" ref="a0a181dc5b89b91c60e4db10971c38debaf9f0cd38482d4fd02c39cd3890a4f882" args="" -->TB_SendBatteryStat</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0a181dc5b89b91c60e4db10971c38debac46bb2c8228114e288eeec66988d0448"></a><!-- doxytag: member="TB_SendACStat" ref="a0a181dc5b89b91c60e4db10971c38debac46bb2c8228114e288eeec66988d0448" args="" -->TB_SendACStat</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00231">231</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>
<div class="fragment"><pre class="fragment">                          {
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debad4f3dc80b5c89702639a3b938b39c045" title="Task is empty.">TB_Empty</a> = 0,                                   <span class="comment">///&lt; Task is empty</span>
<span class="comment"></span>        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debad4750e901f520114b30dc39d8d70a0a0">TB_SendConfigCurrent</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba62487ade0039ada8325f00b58a204929">TB_SendConfigList</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaa94a96105763a0e83f669efef0921ecc">TB_ArmFailed</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba2f75946b7c4455271e0b1b684fa1fccd">TB_SendArmed</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba5dbdd6a4e8fd4a0d20c276a452fd9eb9">TB_SendDisarm</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaec54c751a669111ac9d7ecc2be16f2b0">TB_Panic</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba3531a51bf0de6afa086227bd386757da">TB_SendGatewayInfo</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba4958f2b5966c8bd39b22f0059854cd65">TB_SendZoneList</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debadefe2c183f4cb0391d6a20a2a98abeb1">TB_SendAreaList</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaa663ca6dd0a7b91286407c39174ad3c5">TB_SendZoneInfo</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaa5ae73dc445f6834a30b88b5ec7741aa">TB_SendAreaInfo</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba50a9d18dd2121632a2d41890f9e0dcad">TB_Isolate</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba1a2f5c1ced4a7a6ef76d5a6e0ebf26f1">TB_Bypass</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debae35285ccd71be17edd6c76911642a84f">TB_Enable</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba7b60d1d8fae6193592f42e97a2df8846">TB_SendAreaStateMsg</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba7cdac24e07915d54c69862bc686dbc3c">TB_SendInvalidUser</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba151bd1b8f717cac517f3bc2150ef004e">TB_SendInvalidUserTimestamp</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba355e90cd3537b1c518aa6364d1307617">TB_SendGatewayChanged</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debade489309cf96b23ec7a59ab75f32e863">TB_SendError</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba481ff892e48385c5941818d48dfde8bf">TB_SendGateStat</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba25a621bc1f223ff1e6ef8980a4103932">TB_SendAreaStat</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debadae4078c6aaf8dab7f05974d72be0b84">TB_SendZoneStat</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaf9f0cd38482d4fd02c39cd3890a4f882">TB_SendBatteryStat</a>,
        <a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debac46bb2c8228114e288eeec66988d0448">TB_SendACStat</a>
} <a class="code" href="_security_system_8h.html#a91316bbcd27d874bc6aa4afca917a4dd" title="The type of task that has been buffered for processing.">TaskBuffers</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="aa6c45927fecfdf58fd988dacbeca2fbf"></a><!-- doxytag: member="SecuritySystem.h::_Zone_States" ref="aa6c45927fecfdf58fd988dacbeca2fbf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbf">_Zone_States</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>When checking the zone state in EOL, these are the possible results. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aa6c45927fecfdf58fd988dacbeca2fbfaff0f80ff8f066737372b052c2160509a"></a><!-- doxytag: member="StateNothing" ref="aa6c45927fecfdf58fd988dacbeca2fbfaff0f80ff8f066737372b052c2160509a" args="" -->StateNothing</em>&nbsp;</td><td>
<p>Nothing has changed since the last check. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875"></a><!-- doxytag: member="StateNormal" ref="aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875" args="" -->StateNormal</em>&nbsp;</td><td>
<p>Since last check the zone has changed to normal. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f"></a><!-- doxytag: member="StateTrigger" ref="aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f" args="" -->StateTrigger</em>&nbsp;</td><td>
<p>Since last check the zone has changes to Triggered. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa6c45927fecfdf58fd988dacbeca2fbfaef85932220f85c5f09ff9f3999755180"></a><!-- doxytag: member="StateTamper" ref="aa6c45927fecfdf58fd988dacbeca2fbfaef85932220f85c5f09ff9f3999755180" args="" -->StateTamper</em>&nbsp;</td><td>
<p>Since last check the zone has changes to Tampered. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa6c45927fecfdf58fd988dacbeca2fbfad448fd95291fde3598bc0eafba11e4d4"></a><!-- doxytag: member="StateBypass" ref="aa6c45927fecfdf58fd988dacbeca2fbfad448fd95291fde3598bc0eafba11e4d4" args="" -->StateBypass</em>&nbsp;</td><td>
<p>In bypassed state. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa6c45927fecfdf58fd988dacbeca2fbfa54990cdd4c65b38f8e38cc32b050056d"></a><!-- doxytag: member="StateIsolate" ref="aa6c45927fecfdf58fd988dacbeca2fbfa54990cdd4c65b38f8e38cc32b050056d" args="" -->StateIsolate</em>&nbsp;</td><td>
<p>In Isolated state. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa6c45927fecfdf58fd988dacbeca2fbfa298ce309b93140eb01ed6204d58c1ecf"></a><!-- doxytag: member="StateAlarm" ref="aa6c45927fecfdf58fd988dacbeca2fbfa298ce309b93140eb01ed6204d58c1ecf" args="" -->StateAlarm</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00153">153</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>
<div class="fragment"><pre class="fragment">                          {
        <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff0f80ff8f066737372b052c2160509a" title="Nothing has changed since the last check.">StateNothing</a> = 0,               <span class="comment">///&lt; Nothing has changed since the last check</span>
<span class="comment"></span>        <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875" title="Since last check the zone has changed to normal.">StateNormal</a>,                    <span class="comment">///&lt; Since last check the zone has changed to normal</span>
<span class="comment"></span>        <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f" title="Since last check the zone has changes to Triggered.">StateTrigger</a>,                   <span class="comment">///&lt; Since last check the zone has changes to Triggered</span>
<span class="comment"></span>        <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaef85932220f85c5f09ff9f3999755180" title="Since last check the zone has changes to Tampered.">StateTamper</a>,                    <span class="comment">///&lt; Since last check the zone has changes to Tampered</span>
<span class="comment"></span>        <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfad448fd95291fde3598bc0eafba11e4d4" title="In bypassed state.">StateBypass</a>,                    <span class="comment">///&lt; In bypassed state</span>
<span class="comment"></span>        <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa54990cdd4c65b38f8e38cc32b050056d" title="In Isolated state.">StateIsolate</a>,                   <span class="comment">///&lt; In Isolated state</span>
<span class="comment"></span>        <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa298ce309b93140eb01ed6204d58c1ecf">StateAlarm</a>
} <a class="code" href="_security_system_8h.html#abdc99e93ae47c7d6cb907274a3018ff4" title="When checking the zone state in EOL, these are the possible results.">Zone_States</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="a0981dfebddc4a4cce1d1c3a1472d064d"></a><!-- doxytag: member="SecuritySystem.h::_ZoneTypes" ref="a0981dfebddc4a4cce1d1c3a1472d064d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_security_system_8h.html#a0981dfebddc4a4cce1d1c3a1472d064d">_ZoneTypes</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Different zone types supported by xPL. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a0981dfebddc4a4cce1d1c3a1472d064da21fb74cd54ac804149445eff273c1daa"></a><!-- doxytag: member="Perimiter" ref="a0981dfebddc4a4cce1d1c3a1472d064da21fb74cd54ac804149445eff273c1daa" args="" -->Perimiter</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0981dfebddc4a4cce1d1c3a1472d064da5bc0fbf26c5c8866833eb36caa382b7a"></a><!-- doxytag: member="Interior" ref="a0981dfebddc4a4cce1d1c3a1472d064da5bc0fbf26c5c8866833eb36caa382b7a" args="" -->Interior</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a0981dfebddc4a4cce1d1c3a1472d064dad9414e63b65f1805cdd3ec2e6b74c4af"></a><!-- doxytag: member="TwentyFourHour" ref="a0981dfebddc4a4cce1d1c3a1472d064dad9414e63b65f1805cdd3ec2e6b74c4af" args="" -->TwentyFourHour</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00122">122</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>
<div class="fragment"><pre class="fragment">                        {
        <a class="code" href="_security_system_8h.html#a0981dfebddc4a4cce1d1c3a1472d064da21fb74cd54ac804149445eff273c1daa">Perimiter</a> = 0,
        <a class="code" href="_security_system_8h.html#a0981dfebddc4a4cce1d1c3a1472d064da5bc0fbf26c5c8866833eb36caa382b7a">Interior</a>,
        <a class="code" href="_security_system_8h.html#a0981dfebddc4a4cce1d1c3a1472d064dad9414e63b65f1805cdd3ec2e6b74c4af">TwentyFourHour</a>
} <a class="code" href="_security_system_8h.html#ac7af29191b861df4dfafda7874128558" title="Different zone types supported by xPL.">ZoneTypes</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99"></a><!-- doxytag: member="SecuritySystem.h::SNTPStates" ref="a3e4d7c3657d49c0a82757c17fb3e4a99" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99">SNTPStates</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>state machine for NTP process, see SNTP Customised.c </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99aea7247ebfc50d7f911c172da37f49e23"></a><!-- doxytag: member="SM_HOME" ref="a3e4d7c3657d49c0a82757c17fb3e4a99aea7247ebfc50d7f911c172da37f49e23" args="" -->SM_HOME</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99a1f6f83753731af083a737fba12f962dd"></a><!-- doxytag: member="SM_NAME_RESOLVE" ref="a3e4d7c3657d49c0a82757c17fb3e4a99a1f6f83753731af083a737fba12f962dd" args="" -->SM_NAME_RESOLVE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99a4246a915d3fac96d3b99ea2f7f0b75e4"></a><!-- doxytag: member="SM_ARP_START_RESOLVE" ref="a3e4d7c3657d49c0a82757c17fb3e4a99a4246a915d3fac96d3b99ea2f7f0b75e4" args="" -->SM_ARP_START_RESOLVE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99a4b1f504478c3adb46b8bddd341cf431e"></a><!-- doxytag: member="SM_ARP_RESOLVE" ref="a3e4d7c3657d49c0a82757c17fb3e4a99a4b1f504478c3adb46b8bddd341cf431e" args="" -->SM_ARP_RESOLVE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99ae577e7e208397623d1cfd9c2708f6ae7"></a><!-- doxytag: member="SM_ARP_START_RESOLVE2" ref="a3e4d7c3657d49c0a82757c17fb3e4a99ae577e7e208397623d1cfd9c2708f6ae7" args="" -->SM_ARP_START_RESOLVE2</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99afd4aea26a60199760d9258c41915fabb"></a><!-- doxytag: member="SM_ARP_RESOLVE2" ref="a3e4d7c3657d49c0a82757c17fb3e4a99afd4aea26a60199760d9258c41915fabb" args="" -->SM_ARP_RESOLVE2</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99a6ce6bcc9ff6b9526a8a290e92c660372"></a><!-- doxytag: member="SM_ARP_START_RESOLVE3" ref="a3e4d7c3657d49c0a82757c17fb3e4a99a6ce6bcc9ff6b9526a8a290e92c660372" args="" -->SM_ARP_START_RESOLVE3</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99a19aa474b1a067f0f328e4e7626dadb87"></a><!-- doxytag: member="SM_ARP_RESOLVE3" ref="a3e4d7c3657d49c0a82757c17fb3e4a99a19aa474b1a067f0f328e4e7626dadb87" args="" -->SM_ARP_RESOLVE3</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99abc595e4a4c3d4088da4edff772442822"></a><!-- doxytag: member="SM_ARP_RESOLVE_FAIL" ref="a3e4d7c3657d49c0a82757c17fb3e4a99abc595e4a4c3d4088da4edff772442822" args="" -->SM_ARP_RESOLVE_FAIL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99a8f906883b6328da991d03aa022af415d"></a><!-- doxytag: member="SM_UDP_SEND" ref="a3e4d7c3657d49c0a82757c17fb3e4a99a8f906883b6328da991d03aa022af415d" args="" -->SM_UDP_SEND</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99af63ee3ca9b5cb06f91cd51344ef58084"></a><!-- doxytag: member="SM_UDP_RECV" ref="a3e4d7c3657d49c0a82757c17fb3e4a99af63ee3ca9b5cb06f91cd51344ef58084" args="" -->SM_UDP_RECV</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99a2c17b68ae4178611296803bc0788eb07"></a><!-- doxytag: member="SM_SHORT_WAIT" ref="a3e4d7c3657d49c0a82757c17fb3e4a99a2c17b68ae4178611296803bc0788eb07" args="" -->SM_SHORT_WAIT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a3e4d7c3657d49c0a82757c17fb3e4a99a030e7676ddc0611f9db274ad2c0e1bad"></a><!-- doxytag: member="SM_WAIT" ref="a3e4d7c3657d49c0a82757c17fb3e4a99a030e7676ddc0611f9db274ad2c0e1bad" args="" -->SM_WAIT</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_security_system_8h_source.html#l00320">320</a> of file <a class="el" href="_security_system_8h_source.html">SecuritySystem.h</a>.</p>
<div class="fragment"><pre class="fragment">             {
        <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99aea7247ebfc50d7f911c172da37f49e23">SM_HOME</a> = 0,
        <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a1f6f83753731af083a737fba12f962dd">SM_NAME_RESOLVE</a>,
        <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a4246a915d3fac96d3b99ea2f7f0b75e4">SM_ARP_START_RESOLVE</a>,
        <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a4b1f504478c3adb46b8bddd341cf431e">SM_ARP_RESOLVE</a>,
        <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99ae577e7e208397623d1cfd9c2708f6ae7">SM_ARP_START_RESOLVE2</a>,
        <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99afd4aea26a60199760d9258c41915fabb">SM_ARP_RESOLVE2</a>,
        <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a6ce6bcc9ff6b9526a8a290e92c660372">SM_ARP_START_RESOLVE3</a>,
        <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a19aa474b1a067f0f328e4e7626dadb87">SM_ARP_RESOLVE3</a>,
        <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99abc595e4a4c3d4088da4edff772442822">SM_ARP_RESOLVE_FAIL</a>,
        <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a8f906883b6328da991d03aa022af415d">SM_UDP_SEND</a>,
        <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99af63ee3ca9b5cb06f91cd51344ef58084">SM_UDP_RECV</a>,
        <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a2c17b68ae4178611296803bc0788eb07">SM_SHORT_WAIT</a>,
        <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99a030e7676ddc0611f9db274ad2c0e1bad">SM_WAIT</a>
} <a class="code" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99" title="state machine for NTP process, see SNTP Customised.c">SNTPStates</a>;
</pre></div>
</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a30c3c9cdda2491c17d5d6d5cc6426b31"></a><!-- doxytag: member="SecuritySystem.h::addxPLMessage" ref="a30c3c9cdda2491c17d5d6d5cc6426b31" args="(TaskBuffers TaskBuffered)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int addxPLMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_security_system_8h.html#a91316bbcd27d874bc6aa4afca917a4dd">TaskBuffers</a>&#160;</td>
          <td class="paramname"><em>TaskBuffered</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a new xPL message into the queue for transmittion. Caller populates IsChangeFlagged flag on the zone and area that should be applied. Note: Additional values should be populated manually</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">TaskBuffered,type</td><td>of xPL message that will be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>returns the task number used to populate additional task info </dd></dl>

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00017">17</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00149">AreaConfig</a>, <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="_security_system_8c_source.html#l01091">ClearArmingFlags()</a>, <a class="el" href="_security_system_8h_source.html#l00265">xPLTasks::FlaggedAreas</a>, <a class="el" href="_security_system_8h_source.html#l00264">xPLTasks::FlaggedZones</a>, <a class="el" href="_security_system_8h_source.html#l00274">xPLTaskLists::FreePosition</a>, <a class="el" href="_security_system_8h_source.html#l00191">AreaConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00173">ZoneConfigs::IsChangeFlagged</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00201">putsUART</a>, <a class="el" href="_security_system_8h_source.html#l00277">xPLTaskLists::Task</a>, <a class="el" href="_security_system_8h_source.html#l00262">xPLTasks::TaskBuffered</a>, <a class="el" href="_security_system_8h_source.html#l00267">xPLTasks::TaskState</a>, <a class="el" href="_security_system_8h_source.html#l00016">XPLBUFFERSIZE</a>, <a class="el" href="_security_system_8c_source.html#l00128">xPLTaskList</a>, <a class="el" href="_security_system_8c_source.html#l00143">ZoneConfig</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l01122">Arm()</a>, <a class="el" href="_battery_8c_source.html#l00144">BatteryTask()</a>, <a class="el" href="_security_system_8c_source.html#l01938">Disarm()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_security_system_8c_source.html#l00780">IOTasks()</a>, <a class="el" href="_security_system_8c_source.html#l01249">Panic()</a>, <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>, <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>, and <a class="el" href="_authenticate_8c_source.html#l00039">xPLAuthenticate()</a>.</p>
<div class="fragment"><pre class="fragment">                                             {

        <span class="keywordtype">int</span> iCounter, Result;

<span class="preprocessor">        #if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <span class="keywordtype">char</span> TempString[3]; <span class="comment">// used for debug only</span>
                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;xPL message placed in queue \r\n  - task position&quot;</span>);
                uitoa(<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a15bcecd7cf38b7e1a6da604b9f96893b" title="Task number that is free to create a new task in.">FreePosition</a>,  TempString);
                <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempString);
                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);
<span class="preprocessor">        #endif</span>
<span class="preprocessor"></span>
        <span class="comment">// set new properties of the task</span>
        <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a15bcecd7cf38b7e1a6da604b9f96893b" title="Task number that is free to create a new task in.">FreePosition</a>].<a class="code" href="structx_p_l_tasks.html#a2a2ae019d1085568bd2b8c84ae8ec8ce" title="Type of task.">TaskBuffered</a> = TaskBuffered;
        Result = <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a15bcecd7cf38b7e1a6da604b9f96893b" title="Task number that is free to create a new task in.">FreePosition</a>;
        <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[Result].<a class="code" href="structx_p_l_tasks.html#a3de9c2a149eebeb114bb3d7d43d40fff" title="0 means completed, &gt; 0 means more things to do. Value &gt; 0 can be used by task to track state...">TaskState</a> = 0;

        <span class="comment">// populate zone array from the current IsChangeFlagged values</span>
        <span class="keywordflow">for</span>(iCounter =0; iCounter &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; iCounter++)
                 <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a15bcecd7cf38b7e1a6da604b9f96893b" title="Task number that is free to create a new task in.">FreePosition</a>].<a class="code" href="structx_p_l_tasks.html#adc72959bb001a58e0ac4809643ac4062" title="An array of the Zones that have been flagged for this message.">FlaggedZones</a>[iCounter] = <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[iCounter].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a>;

        <span class="comment">// populate area array from the current IsChangeFlagged values</span>
        <span class="keywordflow">for</span>(iCounter =0; iCounter &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; iCounter++)
                 <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a15bcecd7cf38b7e1a6da604b9f96893b" title="Task number that is free to create a new task in.">FreePosition</a>].<a class="code" href="structx_p_l_tasks.html#a194342683536b1c2bbe3319655a3fd2c" title="An array of the Areas that have been flagged for this message.">FlaggedAreas</a>[iCounter] = <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[iCounter].<a class="code" href="struct_area_configs.html#a711da45ad4b0c06e1aaee9d2ba6108aa" title="Used for state changes.">IsChangeFlagged</a>;

        <a class="code" href="_security_system_8c.html#a491f8822a8274ca5244c41d226e7136e">ClearArmingFlags</a>();

        <span class="comment">// Increaments the Free position, ready for the next task.</span>
        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a15bcecd7cf38b7e1a6da604b9f96893b" title="Task number that is free to create a new task in.">FreePosition</a> &lt; (<a class="code" href="_security_system_8h.html#acdb1a1e550f9525246d5f268cd497452" title="the number of xPL messages that can be buffered for transmit">XPLBUFFERSIZE</a>-1))
                <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a15bcecd7cf38b7e1a6da604b9f96893b" title="Task number that is free to create a new task in.">FreePosition</a>++;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a15bcecd7cf38b7e1a6da604b9f96893b" title="Task number that is free to create a new task in.">FreePosition</a> &gt;= (<a class="code" href="_security_system_8h.html#acdb1a1e550f9525246d5f268cd497452" title="the number of xPL messages that can be buffered for transmit">XPLBUFFERSIZE</a>-1))
                <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#a15bcecd7cf38b7e1a6da604b9f96893b" title="Task number that is free to create a new task in.">FreePosition</a> =0;
                
<span class="keywordflow">return</span> Result;
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a30c3c9cdda2491c17d5d6d5cc6426b31_cgraph.svg" width="451" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a30c3c9cdda2491c17d5d6d5cc6426b31_icgraph.svg" width="1715" height="695" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a723bf79e9ca7924d850e5c2be4029b1c"></a><!-- doxytag: member="SecuritySystem.h::Arm" ref="a723bf79e9ca7924d850e5c2be4029b1c" args="(int short TimeDelay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Arm </td>
          <td>(</td>
          <td class="paramtype">int short&#160;</td>
          <td class="paramname"><em>TimeDelay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function Arm PreCondition: Arming flags must be set Side Effects: Arm device Overview: Changes that alarm state to Arm based on the arming flags</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">exit</td><td>delay </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l01122">1122</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_x_p_l_sender_8c_source.html#l00017">addxPLMessage()</a>, <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="_security_system_8h_source.html#l00263">xPLTasks::ErrorMessage</a>, <a class="el" href="_security_system_8c_source.html#l00025">ExitTimer</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">i2Count</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>, <a class="el" href="_security_system_8h_source.html#l00277">xPLTaskLists::Task</a>, <a class="el" href="_security_system_8h_source.html#l00251">TB_SendError</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>.</p>
<div class="fragment"><pre class="fragment">                               {
        <span class="keywordtype">int</span> Counter;

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Arm\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="comment">// Check for a zone list or area list, if missing send error with description of fault</span>
        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0, <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].IsChangeFlagged == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
                        <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>++;
        } <span class="comment">//for</span>

        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].IsChangeFlagged == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
                        <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>++;
        } <span class="comment">//for</span>

        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> == 0) {
                <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> = <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debade489309cf96b23ec7a59ab75f32e863">TB_SendError</a>);
                <a class="code" href="_security_system_8c.html#a129e6683e32d77565169cb282dc552c2" title="The Task buffer for sending xPL messages.">xPLTaskList</a>.<a class="code" href="structx_p_l_task_lists.html#ab4210652df016dc56664218dda31be3b" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>].<a class="code" href="structx_p_l_tasks.html#a2c690f89f7d46cffb66d86187f378cb3" title="Error message passed to SendError.">ErrorMessage</a> = <span class="stringliteral">&quot;Nothing selected to arm&quot;</span>;
        }
        <span class="keywordflow">else</span>
                <a class="code" href="_security_system_8c.html#a8434e29b41874d33c95b3f339bd2bcdf" title="Exit timer - 0 means off.">ExitTimer</a> = TickGet() + (TimeDelay * TICK_SECOND);
        <a class="code" href="_security_system_8c.html#ad2cdbcce787b8a3c88addf52f996805f">StateChangeToArm</a> (<a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);

} <span class="comment">// Arm</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a723bf79e9ca7924d850e5c2be4029b1c_cgraph.svg" width="992" height="192" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a723bf79e9ca7924d850e5c2be4029b1c_icgraph.svg" width="1080" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="af7b9ebfe6bb90725304e83cadb4cced8"></a><!-- doxytag: member="SecuritySystem.h::ArmAway" ref="af7b9ebfe6bb90725304e83cadb4cced8" args="(int short TimeDelay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmAway </td>
          <td>(</td>
          <td class="paramtype">int short&#160;</td>
          <td class="paramname"><em>TimeDelay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function ArmAway PreCondition: None Side Effects: Arm device Overview: Changes that alarm state to Arm Away </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">exit</td><td>delay </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l01192">1192</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00025">ExitTimer</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8h_source.html#l00173">ZoneConfigs::IsChangeFlagged</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, and <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>.</p>
<div class="fragment"><pre class="fragment">                                   {

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;ArmAway\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="comment">// Set arming flags on all zones</span>
        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
        }

        <a class="code" href="_security_system_8c.html#a8434e29b41874d33c95b3f339bd2bcdf" title="Exit timer - 0 means off.">ExitTimer</a> = TickGet() + (TimeDelay * TICK_SECOND);
        <a class="code" href="_security_system_8c.html#ad2cdbcce787b8a3c88addf52f996805f">StateChangeToArm</a> (<a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);

} <span class="comment">//ArmAway</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_af7b9ebfe6bb90725304e83cadb4cced8_cgraph.svg" width="1038" height="192" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_af7b9ebfe6bb90725304e83cadb4cced8_icgraph.svg" width="1126" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="afba09fe6505822eb03078088f14ef89b"></a><!-- doxytag: member="SecuritySystem.h::ArmHome" ref="afba09fe6505822eb03078088f14ef89b" args="(int short TimeDelay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmHome </td>
          <td>(</td>
          <td class="paramtype">int short&#160;</td>
          <td class="paramname"><em>TimeDelay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function ArmHome PreCondition: None Side Effects: Arm device Overview: Changes that alarm state to Arm Home </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">exit</td><td>delay </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l01162">1162</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00025">ExitTimer</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8h_source.html#l00124">Interior</a>, <a class="el" href="_security_system_8h_source.html#l00173">ZoneConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00123">Perimiter</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, and <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>.</p>
<div class="fragment"><pre class="fragment">                                   {

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;ArmHome\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="comment">// Set arming flags on all zones of type perimeter</span>
        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].ZoneType == <a class="code" href="_security_system_8h.html#a0981dfebddc4a4cce1d1c3a1472d064da21fb74cd54ac804149445eff273c1daa">Perimiter</a>) <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].ZoneType == <a class="code" href="_security_system_8h.html#a0981dfebddc4a4cce1d1c3a1472d064da5bc0fbf26c5c8866833eb36caa382b7a">Interior</a>) <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        }

        <a class="code" href="_security_system_8c.html#a8434e29b41874d33c95b3f339bd2bcdf" title="Exit timer - 0 means off.">ExitTimer</a> = TickGet() + (TimeDelay * TICK_SECOND);
        <a class="code" href="_security_system_8c.html#ad2cdbcce787b8a3c88addf52f996805f">StateChangeToArm</a>(<a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);

} <span class="comment">// ArmHome</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_afba09fe6505822eb03078088f14ef89b_cgraph.svg" width="1040" height="192" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_afba09fe6505822eb03078088f14ef89b_icgraph.svg" width="1128" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aad7b06369f4a1f3b427e137a9f84a5c0"></a><!-- doxytag: member="SecuritySystem.h::ArmLatchkey" ref="aad7b06369f4a1f3b427e137a9f84a5c0" args="(int short TimeDelay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArmLatchkey </td>
          <td>(</td>
          <td class="paramtype">int short&#160;</td>
          <td class="paramname"><em>TimeDelay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function ArmLatchkey PreCondition: None Side Effects: Arm device Overview: Changes that alarm state to latch Key </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">exit</td><td>delay </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l01220">1220</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00025">ExitTimer</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8h_source.html#l00173">ZoneConfigs::IsChangeFlagged</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, and <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>.</p>
<div class="fragment"><pre class="fragment">                                       {

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;ArmLatchkey\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

        <span class="comment">// Set arming flags on all zones</span>
        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
        }

        <a class="code" href="_security_system_8c.html#a8434e29b41874d33c95b3f339bd2bcdf" title="Exit timer - 0 means off.">ExitTimer</a> = TickGet() + (TimeDelay * TICK_SECOND);
        <a class="code" href="_security_system_8c.html#ad2cdbcce787b8a3c88addf52f996805f">StateChangeToArm</a> (<a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);

} <span class="comment">// ArmLatchkey</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_aad7b06369f4a1f3b427e137a9f84a5c0_cgraph.svg" width="1070" height="192" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_aad7b06369f4a1f3b427e137a9f84a5c0_icgraph.svg" width="1158" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="accacf14baedf98bbdcea140a8f3cd3eb"></a><!-- doxytag: member="SecuritySystem.h::Authenticate" ref="accacf14baedf98bbdcea140a8f3cd3eb" args="(char *Password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL Authenticate </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>Password</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Authenticates the user by checking the password. Populates the users name into UserID. Return TRUE if the user was found. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>add config option to reject users from different subnet </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Password</td><td>char </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>BOOL if authentication worked. global of UserID is also updated in the process </dd></dl>

<p>Definition at line <a class="el" href="_authenticate_8c_source.html#l00188">188</a> of file <a class="el" href="_authenticate_8c_source.html">Authenticate.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_authenticate_8c_source.html#l00369">LoadUserNameEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00333">LoadUserPasswordEEdata()</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00201">putsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="_security_system_8h_source.html#l00011">USERCOUNT</a>, <a class="el" href="_security_system_8c_source.html#l00037">UserID</a>, <a class="el" href="_security_system_8h_source.html#l00009">USERNAMELENGTH</a>, and <a class="el" href="_security_system_8h_source.html#l00010">USERPASSLENGTH</a>.</p>

<p>Referenced by <a class="el" href="_authenticate_8c_source.html#l00039">xPLAuthenticate()</a>.</p>
<div class="fragment"><pre class="fragment">                                    {
        
    <span class="keywordtype">char</span> UserPassword[<a class="code" href="_security_system_8h.html#abbe086a1e768641e6894ec5116a52ae9">USERPASSLENGTH</a>+1];        
        memset(<a class="code" href="_security_system_8c.html#af1c18f7532835833de15218c3aa5d146" title="Name of user.">UserID</a>, <span class="charliteral">&#39;\0&#39;</span>,<a class="code" href="_security_system_8h.html#ab2d5f95a4974c4f332df9f6a41022219">USERNAMELENGTH</a>);
        
        <span class="comment">// ensure we have something in the password to check.</span>
        <span class="keywordflow">if</span> (*Password == <span class="charliteral">&#39;\0&#39;</span>) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; INVALID, FAILED authentication\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                <span class="keywordflow">return</span> <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        }
        
        
        <span class="comment">// Override password</span>
        <span class="keywordflow">if</span> (!strcmppgm2ram((<span class="keywordtype">char</span>*)Password, (ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;boo&quot;</span>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Override password used\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                strcpypgm2ram((<span class="keywordtype">char</span>*)<a class="code" href="_security_system_8c.html#af1c18f7532835833de15218c3aa5d146" title="Name of user.">UserID</a>, (ROM <span class="keywordtype">void</span>*)<span class="stringliteral">&quot;Boo&quot;</span>);
                <span class="keywordflow">return</span> <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
        }       
        
        
        
        <span class="keywordflow">for</span>(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a330ed48a0698997047c61969a5245074">USERCOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
            <span class="comment">// cycle through all of the passwords until we find it</span>
            <a class="code" href="_authenticate_8c.html#ae2103408fea706307404b433f103eb56">LoadUserPasswordEEdata</a> ((BYTE *) UserPassword, <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, <a class="code" href="_security_system_8h.html#abbe086a1e768641e6894ec5116a52ae9">USERPASSLENGTH</a>, 0);
            <span class="keywordflow">if</span> (!strcmp((<span class="keywordtype">char</span>*)Password, UserPassword)) {
                    <a class="code" href="_authenticate_8c.html#ad9ccab53e1332706a0181ea3d79c6ee6">LoadUserNameEEdata</a> (<a class="code" href="_security_system_8c.html#af1c18f7532835833de15218c3aa5d146" title="Name of user.">UserID</a>, <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>);
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; User:&quot;</span>);
                        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(<a class="code" href="_security_system_8c.html#af1c18f7532835833de15218c3aa5d146" title="Name of user.">UserID</a>);
                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; has passed authentication\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                    <span class="keywordflow">return</span> <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                        <span class="keywordflow">break</span>;
                }<span class="comment">// UserName</span>
        }<span class="comment">// iCount</span>
        
        
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; User:&quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(Password);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; has FAILED authentication\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        
        
        <span class="keywordflow">return</span> <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        
}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_accacf14baedf98bbdcea140a8f3cd3eb_cgraph.svg" width="536" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_accacf14baedf98bbdcea140a8f3cd3eb_icgraph.svg" width="1419" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad7abffae7b40c1538c5411bfd808a68a"></a><!-- doxytag: member="SecuritySystem.h::BatteryTask" ref="ad7abffae7b40c1538c5411bfd808a68a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BatteryTask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Task process for managing the battery state. </p>

<p>Definition at line <a class="el" href="_battery_8c_source.html#l00144">144</a> of file <a class="el" href="_battery_8c_source.html">Battery.c</a>.</p>

<p>References <a class="el" href="_battery_8c_source.html#l00009">ADC_Battery</a>, <a class="el" href="_battery_8c_source.html#l00010">ADC_Supply</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00017">addxPLMessage()</a>, <a class="el" href="_security_system_8h_source.html#l00102">Battery_Charged</a>, <a class="el" href="_security_system_8h_source.html#l00101">Battery_Charging</a>, <a class="el" href="_security_system_8h_source.html#l00100">Battery_Disconnected</a>, <a class="el" href="_security_system_8h_source.html#l00052">BATTERY_DISCONNECTED</a>, <a class="el" href="_security_system_8h_source.html#l00103">Battery_InUse</a>, <a class="el" href="_security_system_8h_source.html#l00053">BATTERY_LOW</a>, <a class="el" href="_battery_8c_source.html#l00026">BatteryState</a>, <a class="el" href="_battery_8c_source.html#l00085">FetchADC()</a>, <a class="el" href="_hardware_profile_8h_source.html#l00076">SLA_CHARGER_IO</a>, <a class="el" href="_hardware_profile_8h_source.html#l00117">SUPPLY_ACTIVE_IO</a>, <a class="el" href="_security_system_8h_source.html#l00256">TB_SendACStat</a>, <a class="el" href="_security_system_8h_source.html#l00255">TB_SendBatteryStat</a>, <a class="el" href="_battery_8c_source.html#l00027">VoltageBattery</a>, and <a class="el" href="_battery_8c_source.html#l00028">VoltageSupply</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                       {

<a class="code" href="_security_system_8h.html#a387b82967b2a5e7058fa8fa19c98c5aa" title="Refelcts the possible states of the backup battery.">BatteryStates</a> PreviousState;

<span class="comment">// Chech the voltages</span>
<a class="code" href="_hardware_profile_8h.html#a6aea9cfdc4ca8f236fb56fdd5107e740">SLA_CHARGER_IO</a> = 0;
<a class="code" href="_battery_8c.html#abc18e4dde03a4d8707108764cf095185" title="Battery voltage.">VoltageBattery</a> = <a class="code" href="_battery_8c.html#a35ba3e06ddabc0ec9b6167696f49ec58">FetchADC</a>(<a class="code" href="_battery_8c.html#a4dbcbc4fa7ad7075f8fba6590874e836" title="ADC port for the battey voltage sensor.">ADC_Battery</a>);
<a class="code" href="_battery_8c.html#aa01e43930ba742d30175efb597a2e4c0" title="12v supply voltage">VoltageSupply</a> = <a class="code" href="_battery_8c.html#a35ba3e06ddabc0ec9b6167696f49ec58">FetchADC</a>(<a class="code" href="_battery_8c.html#a5868479fa2a151b74bdb133acf5a87d5" title="ADC port for the supply voltage sensor.">ADC_Supply</a>);

PreviousState = <a class="code" href="_battery_8c.html#a35b967426a12072affebab82da722ef3" title="Keeps track of the battery state.">BatteryState</a>;

<span class="comment">// Check to see if we are running from battery</span>
<span class="keywordflow">if</span> (<a class="code" href="_hardware_profile_8h.html#abda51a4006687e4338302a7c5125431f">SUPPLY_ACTIVE_IO</a> == 0) {
        <a class="code" href="_hardware_profile_8h.html#a6aea9cfdc4ca8f236fb56fdd5107e740">SLA_CHARGER_IO</a> = 0; <span class="comment">// make sure battery charger is off</span>
        <a class="code" href="_battery_8c.html#a35b967426a12072affebab82da722ef3" title="Keeps track of the battery state.">BatteryState</a> = <a class="code" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23a11cc1f448ca555568d3c5e4f649c76d9">Battery_InUse</a>;
        <span class="keywordflow">if</span> (PreviousState != <a class="code" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23a11cc1f448ca555568d3c5e4f649c76d9">Battery_InUse</a>)
                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debac46bb2c8228114e288eeec66988d0448">TB_SendACStat</a>);
        <span class="keywordflow">return</span>;
}


<span class="keywordflow">if</span> (<a class="code" href="_battery_8c.html#abc18e4dde03a4d8707108764cf095185" title="Battery voltage.">VoltageBattery</a> &lt;= <a class="code" href="_security_system_8h.html#a3fe1201d0cccf4ea56b38090af1cd28a">BATTERY_DISCONNECTED</a>) <a class="code" href="_battery_8c.html#a35b967426a12072affebab82da722ef3" title="Keeps track of the battery state.">BatteryState</a> = <a class="code" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23acb436c94851aca2c06d4934c15ff3217">Battery_Disconnected</a>;
<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_battery_8c.html#abc18e4dde03a4d8707108764cf095185" title="Battery voltage.">VoltageBattery</a> &gt;= <a class="code" href="_security_system_8h.html#afd318e2ebde322f320606bb98b7b7ba1">BATTERY_LOW</a>) <a class="code" href="_battery_8c.html#a35b967426a12072affebab82da722ef3" title="Keeps track of the battery state.">BatteryState</a> = <a class="code" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23ac21f6c8ec50900b24300824ff13f7a14">Battery_Charged</a>;
<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_battery_8c.html#abc18e4dde03a4d8707108764cf095185" title="Battery voltage.">VoltageBattery</a> &lt;  <a class="code" href="_security_system_8h.html#afd318e2ebde322f320606bb98b7b7ba1">BATTERY_LOW</a>) {
        <a class="code" href="_hardware_profile_8h.html#a6aea9cfdc4ca8f236fb56fdd5107e740">SLA_CHARGER_IO</a> = 1;
        <a class="code" href="_battery_8c.html#a35b967426a12072affebab82da722ef3" title="Keeps track of the battery state.">BatteryState</a> = <a class="code" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23ace98754d685608f660982557f94b5f00">Battery_Charging</a>;
}

<span class="comment">// Send a state change message</span>
<span class="keywordflow">if</span> (PreviousState != <a class="code" href="_battery_8c.html#a35b967426a12072affebab82da722ef3" title="Keeps track of the battery state.">BatteryState</a>) {
        <span class="keywordflow">if</span> (PreviousState==<a class="code" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23a11cc1f448ca555568d3c5e4f649c76d9">Battery_InUse</a>)
                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debac46bb2c8228114e288eeec66988d0448">TB_SendACStat</a>);
        <span class="keywordflow">else</span>
                <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaf9f0cd38482d4fd02c39cd3890a4f882">TB_SendBatteryStat</a>);
}

} <span class="comment">//BatteryTask</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ad7abffae7b40c1538c5411bfd808a68a_cgraph.svg" width="691" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ad7abffae7b40c1538c5411bfd808a68a_icgraph.svg" width="688" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6ff589f01cb93ce6c97ab0af6405d0df"></a><!-- doxytag: member="SecuritySystem.h::bypassArea" ref="a6ff589f01cb93ce6c97ab0af6405d0df" args="(int TheArea)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bypassArea </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheArea</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function bypassArea PreCondition: None Side Effects: bypass flag Overview: will set the bypass flag for the area provided also sets the flag for any zones that are related </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Area</td><td>ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l02162">2162</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="_security_system_8h_source.html#l00042">EEDATASTART_AREA</a>, <a class="el" href="_security_system_8h_source.html#l00041">EEDATASTART_ZONE</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8h_source.html#l00190">AreaConfigs::IsAlarmed</a>, <a class="el" href="_security_system_8h_source.html#l00170">ZoneConfigs::IsBypassed</a>, <a class="el" href="_security_system_8h_source.html#l00188">AreaConfigs::IsBypassed</a>, <a class="el" href="_security_system_8h_source.html#l00191">AreaConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00192">AreaConfigs::IsTampered</a>, <a class="el" href="_security_system_8h_source.html#l00186">AreaConfigs::IsTriggered</a>, <a class="el" href="_security_system_8c_source.html#l01467">isZoneMemberOfArea()</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00065">Type_Zone</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00194">xPLSaveEEConfig()</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>
<div class="fragment"><pre class="fragment">                              {

        <span class="keywordtype">int</span> <span class="keywordtype">short</span> <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>;

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Bypass Area\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

        <span class="comment">//Set the area&#39;s bypass flag to true</span>
        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].<a class="code" href="struct_area_configs.html#a71343dad9e06632166c020a154ed7044" title="Is area Bypassed.">IsBypassed</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].<a class="code" href="struct_area_configs.html#a711da45ad4b0c06e1aaee9d2ba6108aa" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;


        <span class="comment">// clear out the status flags</span>
        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].<a class="code" href="struct_area_configs.html#ad6fce28b6a7036035b3a51d4d25df694" title="Has a zone in this area been tampered.">IsTampered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].<a class="code" href="struct_area_configs.html#a4b3904923f06e20608888f1d3ad4ac08" title="Is the Area triggered.">IsTriggered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].<a class="code" href="struct_area_configs.html#a8caed50b4c827a114fceba5e95d4a377" title="Did a zone in this area cause the alarm to go off.">IsAlarmed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;


        <span class="comment">//Send message</span>

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# bypassZone, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {

                <span class="comment">// Generate xPL head with type security.zone</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a898c235db41f75422dc1b6870ab35fa9" title="Part of the security schema.">Type_Zone</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;area=&quot;</span>);
                UDPPut(<span class="charliteral">&#39;0&#39;</span>+TheArea);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nbypassed=true\n}\n&quot;</span>);
                UDPFlush();
        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

        <span class="comment">//cycle through all zones and set their bypass flag to true if they are a member</span>
        <span class="keywordflow">for</span> (iCount = 0; iCount &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; iCount++) {
                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(iCount, TheArea) == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
                        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#ad96e4f5f48901f709f94e84cee5021d2" title="Is zone Bypassed.">IsBypassed</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                }<span class="comment">// ZoneConfig</span>
        }<span class="comment">// for iCount</span>

        <span class="comment">//now save the changes</span>
        <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>, <a class="code" href="_security_system_8h.html#a84d6a5346b04effd1160f34d13abd01c">EEDATASTART_ZONE</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>));
        <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>, <a class="code" href="_security_system_8h.html#a61748f301d79db0c4ecb09432705d105">EEDATASTART_AREA</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>));


} <span class="comment">// bypassArea</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a6ff589f01cb93ce6c97ab0af6405d0df_cgraph.svg" width="470" height="192" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab3be31caf1027bb142335a3a3d7d4eb1"></a><!-- doxytag: member="SecuritySystem.h::bypassZone" ref="ab3be31caf1027bb142335a3a3d7d4eb1" args="(int TheZone)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bypassZone </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheZone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function bypassZone PreCondition: None Side Effects: bypass flag Overview: will set the bypass flag for the zone provided </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Zone</td><td>ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l02108">2108</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_system_8h_source.html#l00179">ZoneConfigs::BounceDelay</a>, <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="_security_system_8h_source.html#l00041">EEDATASTART_ZONE</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8h_source.html#l00172">ZoneConfigs::IsAlarmed</a>, <a class="el" href="_security_system_8h_source.html#l00170">ZoneConfigs::IsBypassed</a>, <a class="el" href="_security_system_8h_source.html#l00173">ZoneConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00174">ZoneConfigs::IsTampered</a>, <a class="el" href="_security_system_8h_source.html#l00166">ZoneConfigs::IsTriggered</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00065">Type_Zone</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>, <a class="el" href="x_p_l_8c_source.html#l00194">xPLSaveEEConfig()</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                              {
        <span class="comment">// say hello</span>
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Bypass Zone\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

        <span class="comment">//Set the zone&#39;s bypass flag to true</span>
        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#ad96e4f5f48901f709f94e84cee5021d2" title="Is zone Bypassed.">IsBypassed</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

        <span class="comment">// clear out the status flags</span>
        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a71861cd65add7649dffdc7f99c57595c" title="Is the zone in a tampered state.">IsTampered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a9dca0cb314a3d8a1cb83a2b474296cce" title="If the zone in a triggered state.">IsTriggered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#ad96ab4189da090b75417a4705b3c092b" title="Timer for reducing impact of a bouncing IO lines.">BounceDelay</a> = 0;
        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a1053e4f4ba65f6a78cfd3b179c46eaaa" title="Did the zone cause the alarm to go off.">IsAlarmed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;


        <span class="comment">//Send message</span>

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# bypassZone, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {

                <span class="comment">// Generate xPL head with type security.zone</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a898c235db41f75422dc1b6870ab35fa9" title="Part of the security schema.">Type_Zone</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=bypassed\nzone=&quot;</span>);
                itoa(TheZone, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                UDPPutArray(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,strlen(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>));
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nstate=true\n}\n&quot;</span>);
                UDPFlush();
        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

        <span class="comment">//now save the changes</span>
        <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>, <a class="code" href="_security_system_8h.html#a84d6a5346b04effd1160f34d13abd01c">EEDATASTART_ZONE</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>));

} <span class="comment">// bypassZone</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ab3be31caf1027bb142335a3a3d7d4eb1_cgraph.svg" width="427" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ab3be31caf1027bb142335a3a3d7d4eb1_icgraph.svg" width="686" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a491f8822a8274ca5244c41d226e7136e"></a><!-- doxytag: member="SecuritySystem.h::ClearArmingFlags" ref="a491f8822a8274ca5244c41d226e7136e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ClearArmingFlags </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function ClearArmingFlags PreCondition: None Side Effects: Arming flags Overview: utility used to remove all of the arming flags </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l01091">1091</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8h_source.html#l00191">AreaConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00173">ZoneConfigs::IsChangeFlagged</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_security_x_p_l_sender_8c_source.html#l00017">addxPLMessage()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, and <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>.</p>
<div class="fragment"><pre class="fragment">                             {

        <span class="comment">//Cycle through all zones and clear arming flags</span>
        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> =0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &gt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

        }


        <span class="comment">//Cycle through all areas and clear arming flags</span>
        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> =0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a711da45ad4b0c06e1aaee9d2ba6108aa" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

        }


}
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a491f8822a8274ca5244c41d226e7136e_icgraph.svg" width="1998" height="746" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6e8f2eab6326e5e8d0884ac0f3329628"></a><!-- doxytag: member="SecuritySystem.h::DecodeIntFromGET" ref="a6e8f2eab6326e5e8d0884ac0f3329628" args="(BYTE *GETptr, rom char *DebugMesg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DecodeIntFromGET </td>
          <td>(</td>
          <td class="paramtype">BYTE *&#160;</td>
          <td class="paramname"><em>GETptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rom char *&#160;</td>
          <td class="paramname"><em>DebugMesg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decodes and int value from a HTTP buffer (GET) </p>

<p>Definition at line <a class="el" href="_h_t_t_p_forms_8c_source.html#l00542">542</a> of file <a class="el" href="_h_t_t_p_forms_8c_source.html">HTTPForms.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00201">putsUART</a>, and <a class="el" href="_h_t_t_p_variables_8c_source.html#l00031">Tempdigits</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, and <a class="el" href="_authenticate_8c_source.html#l00487">ModifyUser()</a>.</p>
<div class="fragment"><pre class="fragment">                                                         {

        <span class="keywordtype">char</span> <a class="code" href="_h_t_t_p_variables_8c.html#a4a12a73a2ac88a3f8232f8fd13a932b4" title="used for int conversions">Tempdigits</a>[4];

        memset(Tempdigits,<span class="charliteral">&#39;\0&#39;</span>,<span class="keyword">sizeof</span>(Tempdigits));

        <span class="keywordflow">for</span>(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0;(*GETptr != <span class="charliteral">&#39;\0&#39;</span>) &amp;&amp; (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <span class="keyword">sizeof</span>(Tempdigits) -1); <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <span class="keywordflow">if</span>((*GETptr &lt; <span class="charliteral">&#39;0&#39;</span>) || (*GETptr &gt; <span class="charliteral">&#39;9&#39;</span>)) *GETptr = <span class="charliteral">&#39;0&#39;</span>; <span class="comment">// only accept 0 - 9</span>
                Tempdigits[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] = *GETptr;
                GETptr++;
        }<span class="comment">// for</span>

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>(DebugMesg);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; = &quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(Tempdigits);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*) <span class="stringliteral">&quot;\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="keywordflow">if</span> (atoi(Tempdigits) &gt;= 1) <span class="keywordflow">return</span> atoi(Tempdigits);
        <span class="keywordflow">return</span> 0;
}
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a6e8f2eab6326e5e8d0884ac0f3329628_icgraph.svg" width="683" height="110" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3ca20943ab34a0d560cd22d88c0ba324"></a><!-- doxytag: member="SecuritySystem.h::Disarm" ref="a3ca20943ab34a0d560cd22d88c0ba324" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Disarm </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function Disarm PreCondition: UserID must be populated first from <a class="el" href="_authenticate_8c.html" title="Authenication, xPL and web.">Authenticate.c</a> Side Effects: armed flags, state and IO Overview: Disarm the alarm. Uses the UserID to determine who the user was </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l01938">1938</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_x_p_l_sender_8c_source.html#l00017">addxPLMessage()</a>, <a class="el" href="_security_system_8c_source.html#l00017">AlarmState</a>, <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="_security_system_8h_source.html#l00110">Disarmed</a>, <a class="el" href="_security_system_8c_source.html#l00021">EntryTimer</a>, <a class="el" href="_security_system_8c_source.html#l00025">ExitTimer</a>, <a class="el" href="_hardware_profile_8h_source.html#l00072">EXT_SIREN_IO</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_hardware_profile_8h_source.html#l00070">INT_SIREN_IO</a>, <a class="el" href="_security_system_8h_source.html#l00190">AreaConfigs::IsAlarmed</a>, <a class="el" href="_security_system_8h_source.html#l00172">ZoneConfigs::IsAlarmed</a>, <a class="el" href="_security_system_8h_source.html#l00189">AreaConfigs::IsArmed</a>, <a class="el" href="_security_system_8h_source.html#l00171">ZoneConfigs::IsArmed</a>, <a class="el" href="_security_system_8h_source.html#l00191">AreaConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00173">ZoneConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00187">AreaConfigs::IsIsolated</a>, <a class="el" href="_security_system_8h_source.html#l00169">ZoneConfigs::IsIsolated</a>, <a class="el" href="_security_system_8c_source.html#l00019">PreviousAlarmState</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00074">STROBE_IO</a>, <a class="el" href="_security_system_8h_source.html#l00237">TB_SendDisarm</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, and <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>.</p>
<div class="fragment"><pre class="fragment">                   {


        <span class="comment">//Ensure entry and exit timers are cleared</span>
        <a class="code" href="_security_system_8c.html#afdcc9abdceb871043a45617d58de2057" title="Zone Entery timer.">EntryTimer</a> = 0;
        <a class="code" href="_security_system_8c.html#a8434e29b41874d33c95b3f339bd2bcdf" title="Exit timer - 0 means off.">ExitTimer</a> = 0;

        <span class="comment">//Change any of the IO lines for sirens and strobe</span>
        <a class="code" href="_hardware_profile_8h.html#a5721d9a420c592eb0b6d9e334eb84767">STROBE_IO</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#a3d6972b809d9a8aa775020159fa48094">INT_SIREN_IO</a> = 0;
        <a class="code" href="_hardware_profile_8h.html#a753ae1d13e216a920d733f2f842b5509">EXT_SIREN_IO</a> = 0;

        <span class="comment">//Change the state to disarmed</span>
        <a class="code" href="_security_system_8c.html#a47fd0ffa1fbd1faa655f15085dc0d801" title="The previous state of the alarm system, used when state change fails.">PreviousAlarmState</a> = <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfacf99f746f17e92913d15be9fc92d708c">Disarmed</a>;

        <span class="comment">//set the previous state to disarmed as well</span>
        <a class="code" href="_security_system_8c.html#a016286d63fa2bb14fec565ed023b35cf" title="Reflects the state of the alarm.">AlarmState</a> = <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfacf99f746f17e92913d15be9fc92d708c">Disarmed</a>;

        <span class="comment">//Cycle though all of the zones clear any  Armed, Alarmed, Arming, isolated flags</span>
        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a0fcb99621e1f25f5b6c07b71ab6a4266" title="Is zone isolated.">IsIsolated</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#abd82b1c153a91f2827b0bec6eee7ad7b" title="Is Zone Armed.">IsArmed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a1053e4f4ba65f6a78cfd3b179c46eaaa" title="Did the zone cause the alarm to go off.">IsAlarmed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        }<span class="comment">// for iCount</span>


        <span class="comment">//cycle thought all areas clear any Armed, Alarmed, isolated flags</span>
        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a89339700ce4076bbf66e8efd9803c393" title="Is area isolated.">IsIsolated</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a87176e7c401e0d23559f04abab98a3fc" title="Is area Armed.">IsArmed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a8caed50b4c827a114fceba5e95d4a377" title="Did a zone in this area cause the alarm to go off.">IsAlarmed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a711da45ad4b0c06e1aaee9d2ba6108aa" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        }<span class="comment">// for iCount</span>


        <span class="comment">//Send disarmed message</span>
        <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a> (<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38deba5dbdd6a4e8fd4a0d20c276a452fd9eb9">TB_SendDisarm</a>);

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;State change to disarm\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

} <span class="comment">// Disarm</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a3ca20943ab34a0d560cd22d88c0ba324_cgraph.svg" width="648" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a3ca20943ab34a0d560cd22d88c0ba324_icgraph.svg" width="1104" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4c1402940dc136f20f757edb09c73e28"></a><!-- doxytag: member="SecuritySystem.h::EnableArea" ref="a4c1402940dc136f20f757edb09c73e28" args="(int TheArea)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EnableArea </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheArea</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function EnableArea PreCondition: None Side Effects: bypass, isolated flag Overview: will set the bypass flag for the area provided also sets the flag for any zones that are related </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Area</td><td>ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l02311">2311</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="_security_system_8h_source.html#l00042">EEDATASTART_AREA</a>, <a class="el" href="_security_system_8h_source.html#l00041">EEDATASTART_ZONE</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8h_source.html#l00170">ZoneConfigs::IsBypassed</a>, <a class="el" href="_security_system_8h_source.html#l00188">AreaConfigs::IsBypassed</a>, <a class="el" href="_security_system_8h_source.html#l00191">AreaConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00169">ZoneConfigs::IsIsolated</a>, <a class="el" href="_security_system_8h_source.html#l00187">AreaConfigs::IsIsolated</a>, <a class="el" href="_security_system_8c_source.html#l01467">isZoneMemberOfArea()</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00064">Type_Area</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00194">xPLSaveEEConfig()</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>
<div class="fragment"><pre class="fragment">                              {


        <span class="comment">// It can be isolated and bypassed at the same time.</span>

        <span class="comment">// If the area is bypassed send</span>
        <span class="comment">// security.area</span>
        <span class="comment">// { event=bypassed</span>
        <span class="comment">// area=id</span>
        <span class="comment">// state=false }</span>
        <span class="comment">// clear the bypassed flag</span>

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Enable Area\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].<a class="code" href="struct_area_configs.html#a711da45ad4b0c06e1aaee9d2ba6108aa" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].IsBypassed) {

                <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
                <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# EnableArea, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                }
                <span class="keywordflow">else</span> {

                        <span class="comment">// Generate xPL head with type security.zone</span>
                        <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aa8061dadd063bb50c19c744609e3178f" title="Part of the security schema.">Type_Area</a>);
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;area=&quot;</span>);
                        UDPPut(<span class="charliteral">&#39;0&#39;</span>+ TheArea);
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nbypassed=false\n}\n&quot;</span>);
                        UDPFlush();
                }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].<a class="code" href="struct_area_configs.html#a71343dad9e06632166c020a154ed7044" title="Is area Bypassed.">IsBypassed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

                <span class="comment">// cycle through all zones and set their flags to true clear if they are a member of this area</span>
                <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, TheArea)) {
                                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#ad96e4f5f48901f709f94e84cee5021d2" title="Is zone Bypassed.">IsBypassed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                        }<span class="comment">// ZoneConfig</span>
                }<span class="comment">// for iCount</span>

        } <span class="comment">// IsBypassed</span>


        <span class="comment">// if area is isolated then send</span>
        <span class="comment">// security.area</span>
        <span class="comment">// { event=isolated</span>
        <span class="comment">// area=id</span>
        <span class="comment">// state=false }</span>
        <span class="comment">// clear the isolated flag</span>


        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].IsIsolated) {

                <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
                <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# EnableArea, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                }
                <span class="keywordflow">else</span> {

                        <span class="comment">// Generate xPL head with type security.zone</span>
                        <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aa8061dadd063bb50c19c744609e3178f" title="Part of the security schema.">Type_Area</a>);
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;area=&quot;</span>);
                        UDPPut(<span class="charliteral">&#39;0&#39;</span>+TheArea);
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nisolated=false\n}\n&quot;</span>);
                        UDPFlush();
                }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].<a class="code" href="struct_area_configs.html#a89339700ce4076bbf66e8efd9803c393" title="Is area isolated.">IsIsolated</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

                <span class="comment">// cycle through all zones and set their flags to true clear if they are a member of this area</span>
                <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, TheArea) == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
                                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a0fcb99621e1f25f5b6c07b71ab6a4266" title="Is zone isolated.">IsIsolated</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                        }<span class="comment">// ZoneConfig</span>
                }<span class="comment">// for iCount</span>

        } <span class="comment">// IsIsolated</span>

        <span class="comment">//now save the changes</span>
        <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>, <a class="code" href="_security_system_8h.html#a84d6a5346b04effd1160f34d13abd01c">EEDATASTART_ZONE</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>));
        <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>, <a class="code" href="_security_system_8h.html#a61748f301d79db0c4ecb09432705d105">EEDATASTART_AREA</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>));

}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a4c1402940dc136f20f757edb09c73e28_cgraph.svg" width="464" height="192" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a14eb903eaa706a4874267274a2ffc6fa"></a><!-- doxytag: member="SecuritySystem.h::EnableZone" ref="a14eb903eaa706a4874267274a2ffc6fa" args="(int TheZone)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EnableZone </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheZone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function EnableZone PreCondition: None Side Effects: bypass, isolated and arming flags Overview: will clear the bypass, isolated and arming flag for the zone provided Should only be called as a task. Can take 2 runs to complete task </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Zone</td><td>ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l02226">2226</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="_security_system_8h_source.html#l00041">EEDATASTART_ZONE</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8h_source.html#l00170">ZoneConfigs::IsBypassed</a>, <a class="el" href="_security_system_8h_source.html#l00173">ZoneConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00169">ZoneConfigs::IsIsolated</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00065">Type_Zone</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>, <a class="el" href="x_p_l_8c_source.html#l00194">xPLSaveEEConfig()</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                              {

        <span class="comment">// It can be isolated and bypassed at the same time.</span>

        <span class="comment">// If the zone is bypassed send</span>
        <span class="comment">// security.zone</span>
        <span class="comment">//  event=bypassed</span>
        <span class="comment">// area=id</span>
        <span class="comment">// state=false</span>
        <span class="comment">// clear the bypassed flag</span>

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Enabling Zone\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>


        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].IsBypassed) {

                <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
                <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# EnableZone, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                }
                <span class="keywordflow">else</span> {

                        <span class="comment">// Generate xPL head with type security.zone</span>
                        <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a898c235db41f75422dc1b6870ab35fa9" title="Part of the security schema.">Type_Zone</a>);
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=bypassed\nzone=&quot;</span>);
                        itoa(TheZone, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                        UDPPutArray(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,strlen(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>));
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nstate=false\n}\n&quot;</span>);
                        UDPFlush();
                }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#ad96e4f5f48901f709f94e84cee5021d2" title="Is zone Bypassed.">IsBypassed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

                <span class="comment">// return back after a TCIP stack task run has occured to complete the Isolated message</span>
                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].IsIsolated == <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>) <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

        } <span class="comment">// IsBypassed</span>

        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].IsIsolated) {

                <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
                <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# EnableZone, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                }
                <span class="keywordflow">else</span> {

                        <span class="comment">// Generate xPL head with type security.zone</span>
                        <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a898c235db41f75422dc1b6870ab35fa9" title="Part of the security schema.">Type_Zone</a>);
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=isolated\nzone=&quot;</span>);
                        uitoa(TheZone, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                        UDPPutArray(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,strlen(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>));
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nstate=false\n}\n&quot;</span>);
                        UDPFlush();
                }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a0fcb99621e1f25f5b6c07b71ab6a4266" title="Is zone isolated.">IsIsolated</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

                <span class="comment">//now save the changes</span>
                <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>, <a class="code" href="_security_system_8h.html#a84d6a5346b04effd1160f34d13abd01c">EEDATASTART_ZONE</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>));

        } <span class="comment">// IsIsolated</span>
} <span class="comment">//EnableZone</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a14eb903eaa706a4874267274a2ffc6fa_cgraph.svg" width="424" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a14eb903eaa706a4874267274a2ffc6fa_icgraph.svg" width="683" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9c160f75487ab4757ce5a93145379327"></a><!-- doxytag: member="SecuritySystem.h::HTTPPostEmail" ref="a9c160f75487ab4757ce5a93145379327" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HTTP_IO_RESULT HTTPPostEmail </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9684d57d301c8de28dba3a1dc22d4708"></a><!-- doxytag: member="SecuritySystem.h::HTTPPostSMTPConfig" ref="a9684d57d301c8de28dba3a1dc22d4708" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HTTP_IO_RESULT HTTPPostSMTPConfig </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function reads an input parameter from the POSTed data, and writes that string to the configuration values for SMTP. </p>

<p>Definition at line <a class="el" href="_s_m_t_p_8c_source.html#l00228">228</a> of file <a class="el" href="_s_m_t_p_8c_source.html">SMTP.c</a>.</p>

<p>References <a class="el" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>, <a class="el" href="_security_system_8h_source.html#l00040">EEDATASTART_XPL</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00201">putsUART</a>, <a class="el" href="_s_m_t_p_8c.html#a3746f2a3dca6ddc436e7f0d61e13d0bd">SM_SMTP_ACTIVE</a>, <a class="el" href="_s_m_t_p_8c.html#a8f57b6bd4f0751253b6d81eee85679aa">SM_SMTP_ARMDISARM</a>, <a class="el" href="_s_m_t_p_8c.html#a3224932b10e5b3c3366b86d2439b263b">SM_SMTP_INITALALARM</a>, <a class="el" href="_s_m_t_p_8c.html#a84785a9f08d4feeee843cfdb93393a81">SM_SMTP_PASSWORD</a>, <a class="el" href="_s_m_t_p_8c.html#ad4c5f8e2818f01110acef98ea0f53edf">SM_SMTP_PORT</a>, <a class="el" href="_s_m_t_p_8c.html#ab02bdbb35616062c8a6b8ceacda13dd2">SM_SMTP_SERVER</a>, <a class="el" href="_s_m_t_p_8c.html#afdedda48f45b7c31a1d3731c9b90ed48">SM_SMTP_SSL</a>, <a class="el" href="_s_m_t_p_8c.html#abc843aa264bd8fe2da2104d2bb0e6b90">SM_SMTP_START</a>, <a class="el" href="_s_m_t_p_8c.html#a79b7297fb197e1d1fa57757d2b176b31">SM_SMTP_SUCCESS</a>, <a class="el" href="_s_m_t_p_8c.html#a145891d81ef63bc56f0b9fdf88fa9af4">SM_SMTP_TO</a>, <a class="el" href="_s_m_t_p_8c.html#a4296ece9f5a368f1de465786c198ab35">SM_SMTP_USER</a>, <a class="el" href="_security_system_8h_source.html#l00217">xPLConfigs::SMTP_Active</a>, <a class="el" href="_security_system_8h_source.html#l00219">xPLConfigs::SMTP_ArmDisarm</a>, <a class="el" href="_security_system_8h_source.html#l00218">xPLConfigs::SMTP_OnlyInitalAlarm</a>, <a class="el" href="_security_system_8h_source.html#l00213">xPLConfigs::SMTP_Password</a>, <a class="el" href="_security_system_8h_source.html#l00214">xPLConfigs::SMTP_Port</a>, <a class="el" href="_security_system_8h_source.html#l00211">xPLConfigs::SMTP_Server</a>, <a class="el" href="_security_system_8h_source.html#l00210">xPLConfigs::SMTP_To</a>, <a class="el" href="_security_system_8h_source.html#l00212">xPLConfigs::SMTP_User</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="_security_system_8c_source.html#l00136">xPLConfig</a>, and <a class="el" href="x_p_l_8c_source.html#l00194">xPLSaveEEConfig()</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00573">HTTPExecutePost()</a>.</p>
<div class="fragment"><pre class="fragment">                                        {

    BYTE temp[16];
    BYTE *ptr;

    <span class="comment">// Define state machine values</span>
<span class="preprocessor">    #define SM_SMTP_START                       (0u)</span>
<span class="preprocessor"></span><span class="preprocessor">    #define SM_SMTP_TO                          (1u)</span>
<span class="preprocessor"></span><span class="preprocessor">    #define SM_SMTP_SERVER                      (2u)</span>
<span class="preprocessor"></span><span class="preprocessor">    #define SM_SMTP_USER                        (3u)</span>
<span class="preprocessor"></span><span class="preprocessor">    #define SM_SMTP_PASSWORD            (4u)</span>
<span class="preprocessor"></span><span class="preprocessor">    #define SM_SMTP_PORT                        (5u)</span>
<span class="preprocessor"></span><span class="preprocessor">    #define SM_SMTP_SSL                         (6u)</span>
<span class="preprocessor"></span><span class="preprocessor">    #define SM_SMTP_ACTIVE                      (7u)</span>
<span class="preprocessor"></span><span class="preprocessor">    #define SM_SMTP_INITALALARM         (8u)</span>
<span class="preprocessor"></span><span class="preprocessor">    #define SM_SMTP_ARMDISARM           (9u)</span>
<span class="preprocessor"></span><span class="preprocessor">    #define SM_SMTP_SUCCESS                     (10u)</span>
<span class="preprocessor"></span>
    <span class="keywordflow">switch</span>(<a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost)
    {
        <span class="keywordflow">case</span> <a class="code" href="_s_m_t_p_8c.html#abc843aa264bd8fe2da2104d2bb0e6b90">SM_SMTP_START</a>:
            <span class="comment">// Read the next variable name.  If a complete name is</span>
            <span class="comment">// not found, request more data.  This function will</span>
            <span class="comment">// automatically truncate invalid data to prevent</span>
            <span class="comment">// buffer overflows.</span>

            <span class="keywordflow">if</span>(<a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.byteCount == 0) {
                                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#a79b7297fb197e1d1fa57757d2b176b31">SM_SMTP_SUCCESS</a>;
                                <span class="keywordflow">break</span>;
                        }

            <span class="keywordflow">if</span>(HTTPReadPostName(temp,16) == HTTP_READ_INCOMPLETE)
                <span class="keywordflow">return</span> HTTP_IO_NEED_DATA;

            <span class="keywordflow">if</span>(!strcmppgm2ram((<span class="keywordtype">char</span>*)temp, (ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;to&quot;</span>))
                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#a145891d81ef63bc56f0b9fdf88fa9af4">SM_SMTP_TO</a>;

            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmppgm2ram((<span class="keywordtype">char</span>*)temp, (ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;server&quot;</span>))
                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#ab02bdbb35616062c8a6b8ceacda13dd2">SM_SMTP_SERVER</a>;

            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmppgm2ram((<span class="keywordtype">char</span>*)temp, (ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;user&quot;</span>))
                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#a4296ece9f5a368f1de465786c198ab35">SM_SMTP_USER</a>;

            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmppgm2ram((<span class="keywordtype">char</span>*)temp, (ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;pw&quot;</span>))
                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#a84785a9f08d4feeee843cfdb93393a81">SM_SMTP_PASSWORD</a>;

            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmppgm2ram((<span class="keywordtype">char</span>*)temp, (ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;port&quot;</span>))
                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#ad4c5f8e2818f01110acef98ea0f53edf">SM_SMTP_PORT</a>;

            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmppgm2ram((<span class="keywordtype">char</span>*)temp, (ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;ssl&quot;</span>))
                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#afdedda48f45b7c31a1d3731c9b90ed48">SM_SMTP_SSL</a>;

            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmppgm2ram((<span class="keywordtype">char</span>*)temp, (ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;active&quot;</span>))
                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#a3746f2a3dca6ddc436e7f0d61e13d0bd">SM_SMTP_ACTIVE</a>;

            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmppgm2ram((<span class="keywordtype">char</span>*)temp, (ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;initalarm&quot;</span>))
                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#a3224932b10e5b3c3366b86d2439b263b">SM_SMTP_INITALALARM</a>;

            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!strcmppgm2ram((<span class="keywordtype">char</span>*)temp, (ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;armdisarm&quot;</span>))
                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#a8f57b6bd4f0751253b6d81eee85679aa">SM_SMTP_ARMDISARM</a>;


            <span class="keywordflow">else</span> {
                        <span class="comment">// Something has gone wrong</span>
<span class="preprocessor">                                #if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; Finished POST early due to unexpected name: &quot;</span>);
                                        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(temp);
                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);
<span class="preprocessor">                                #endif</span>
<span class="preprocessor"></span>
                        <span class="keywordflow">return</span> HTTP_IO_DONE;
                        }
                <span class="keywordflow">break</span>;


        <span class="keywordflow">case</span> <a class="code" href="_s_m_t_p_8c.html#a145891d81ef63bc56f0b9fdf88fa9af4">SM_SMTP_TO</a>:
            memset(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a8778223aa7dbf70c6bb0b0be39cb85c1" title="Email address to send messages to.">SMTP_To</a>,<span class="charliteral">&#39;\0&#39;</span>,<span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a8778223aa7dbf70c6bb0b0be39cb85c1" title="Email address to send messages to.">SMTP_To</a>));
            <span class="keywordflow">if</span>(HTTPReadPostValue(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a8778223aa7dbf70c6bb0b0be39cb85c1" title="Email address to send messages to.">SMTP_To</a> ,<span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a8778223aa7dbf70c6bb0b0be39cb85c1" title="Email address to send messages to.">SMTP_To</a>) + 2) == HTTP_READ_INCOMPLETE)
                <span class="keywordflow">return</span> HTTP_IO_NEED_DATA;
            <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#abc843aa264bd8fe2da2104d2bb0e6b90">SM_SMTP_START</a>; <span class="comment">// Return to read a new name</span>
            <span class="keywordflow">break</span>;

        <span class="keywordflow">case</span> <a class="code" href="_s_m_t_p_8c.html#ab02bdbb35616062c8a6b8ceacda13dd2">SM_SMTP_SERVER</a>:
                        memset(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a8156a5ee6327dc7845895b0fa515526a" title="POP3 server.">SMTP_Server</a>,<span class="charliteral">&#39;\0&#39;</span>,<span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a8156a5ee6327dc7845895b0fa515526a" title="POP3 server.">SMTP_Server</a>));
                <span class="keywordflow">if</span>(HTTPReadPostValue(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a8156a5ee6327dc7845895b0fa515526a" title="POP3 server.">SMTP_Server</a> ,<span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a8156a5ee6327dc7845895b0fa515526a" title="POP3 server.">SMTP_Server</a>) + 2 ) == HTTP_READ_INCOMPLETE)
                <span class="keywordflow">return</span> HTTP_IO_NEED_DATA;
            <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#abc843aa264bd8fe2da2104d2bb0e6b90">SM_SMTP_START</a>; <span class="comment">// Return to read a new name</span>
            <span class="keywordflow">break</span>;


        <span class="keywordflow">case</span> <a class="code" href="_s_m_t_p_8c.html#a4296ece9f5a368f1de465786c198ab35">SM_SMTP_USER</a>:
                        memset(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a40dc641766a810ac5d18938b37dd994a" title="POP3 User name.">SMTP_User</a>,<span class="charliteral">&#39;\0&#39;</span>,<span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a40dc641766a810ac5d18938b37dd994a" title="POP3 User name.">SMTP_User</a>));
                <span class="keywordflow">if</span>(HTTPReadPostValue(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a40dc641766a810ac5d18938b37dd994a" title="POP3 User name.">SMTP_User</a> ,<span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a40dc641766a810ac5d18938b37dd994a" title="POP3 User name.">SMTP_User</a>) + 2) == HTTP_READ_INCOMPLETE)
                <span class="keywordflow">return</span> HTTP_IO_NEED_DATA;
            <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#abc843aa264bd8fe2da2104d2bb0e6b90">SM_SMTP_START</a>; <span class="comment">// Return to read a new name</span>
            <span class="keywordflow">break</span>;

        <span class="keywordflow">case</span> <a class="code" href="_s_m_t_p_8c.html#a84785a9f08d4feeee843cfdb93393a81">SM_SMTP_PASSWORD</a>:
                memset(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a4277070293a247ee4fde233694fb45df" title="POP3 Password.">SMTP_Password</a>,<span class="charliteral">&#39;\0&#39;</span>,<span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a4277070293a247ee4fde233694fb45df" title="POP3 Password.">SMTP_Password</a>));
                <span class="keywordflow">if</span>(HTTPReadPostValue(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a4277070293a247ee4fde233694fb45df" title="POP3 Password.">SMTP_Password</a> ,<span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a4277070293a247ee4fde233694fb45df" title="POP3 Password.">SMTP_Password</a>) + 2) == HTTP_READ_INCOMPLETE)
                <span class="keywordflow">return</span> HTTP_IO_NEED_DATA;
            <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#abc843aa264bd8fe2da2104d2bb0e6b90">SM_SMTP_START</a>; <span class="comment">// Return to read a new name</span>
            <span class="keywordflow">break</span>;

        <span class="keywordflow">case</span> <a class="code" href="_s_m_t_p_8c.html#ad4c5f8e2818f01110acef98ea0f53edf">SM_SMTP_PORT</a>:
                <span class="keywordflow">if</span>(HTTPReadPostValue(temp ,<span class="keyword">sizeof</span>(temp) + 2) == HTTP_READ_INCOMPLETE)
                <span class="keywordflow">return</span> HTTP_IO_NEED_DATA;
            <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#aee37c1d00389d706372a278f1d768ba9" title="Port number.">SMTP_Port</a> = atoi(temp);
                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#abc843aa264bd8fe2da2104d2bb0e6b90">SM_SMTP_START</a>; <span class="comment">// Return to read a new name</span>
            <span class="keywordflow">break</span>;

<span class="comment">/*        case SM_SMTP_SSL:</span>
<span class="comment">                if(HTTPReadPostValue(temp ,sizeof(temp)) == HTTP_READ_INCOMPLETE)</span>
<span class="comment">                return HTTP_IO_NEED_DATA;</span>
<span class="comment">            if(temp[0] == &#39;1&#39;)</span>
<span class="comment">                xPLConfig.SMTP_UseSSL = TRUE;</span>
<span class="comment">            if(temp[0] == &#39;0&#39;)</span>
<span class="comment">                xPLConfig.SMTP_UseSSL = FALSE;</span>
<span class="comment">                curHTTP.smPost = SM_SMTP_START; // Return to read a new name</span>
<span class="comment">            break;</span>
<span class="comment"> */</span>
        <span class="keywordflow">case</span> <a class="code" href="_s_m_t_p_8c.html#a3746f2a3dca6ddc436e7f0d61e13d0bd">SM_SMTP_ACTIVE</a>:
                <span class="keywordflow">if</span>(HTTPReadPostValue(temp ,<span class="keyword">sizeof</span>(temp) + 2) == HTTP_READ_INCOMPLETE)
                <span class="keywordflow">return</span> HTTP_IO_NEED_DATA;
            <span class="keywordflow">if</span>(temp[0] == <span class="charliteral">&#39;1&#39;</span>)
                <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#ad7a2f7ae853ee440f60271813c6d6916" title="Disable emails.">SMTP_Active</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
            <span class="keywordflow">if</span>(temp[0] == <span class="charliteral">&#39;0&#39;</span>)
                <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#ad7a2f7ae853ee440f60271813c6d6916" title="Disable emails.">SMTP_Active</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#abc843aa264bd8fe2da2104d2bb0e6b90">SM_SMTP_START</a>; <span class="comment">// Return to read a new name</span>
            <span class="keywordflow">break</span>;

        <span class="keywordflow">case</span> <a class="code" href="_s_m_t_p_8c.html#a3224932b10e5b3c3366b86d2439b263b">SM_SMTP_INITALALARM</a>:
                <span class="keywordflow">if</span>(HTTPReadPostValue(temp ,<span class="keyword">sizeof</span>(temp) + 2) == HTTP_READ_INCOMPLETE)
                <span class="keywordflow">return</span> HTTP_IO_NEED_DATA;
            <span class="keywordflow">if</span>(temp[0] == <span class="charliteral">&#39;1&#39;</span>)
                <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a8beaa9013aba813e75cdea886e6636d8" title="Only send emails on the inital alarm.">SMTP_OnlyInitalAlarm</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
            <span class="keywordflow">if</span>(temp[0] == <span class="charliteral">&#39;0&#39;</span>)
                <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a8beaa9013aba813e75cdea886e6636d8" title="Only send emails on the inital alarm.">SMTP_OnlyInitalAlarm</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#abc843aa264bd8fe2da2104d2bb0e6b90">SM_SMTP_START</a>; <span class="comment">// Return to read a new name</span>
            <span class="keywordflow">break</span>;


        <span class="keywordflow">case</span> <a class="code" href="_s_m_t_p_8c.html#a8f57b6bd4f0751253b6d81eee85679aa">SM_SMTP_ARMDISARM</a>:
                <span class="keywordflow">if</span>(HTTPReadPostValue(temp ,<span class="keyword">sizeof</span>(temp) + 2) == HTTP_READ_INCOMPLETE)
                <span class="keywordflow">return</span> HTTP_IO_NEED_DATA;
            <span class="keywordflow">if</span>(temp[0] == <span class="charliteral">&#39;1&#39;</span>)
                <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a01d912d78612ae09e83da0487f415069" title="Send emails on all arm and disarm events.">SMTP_ArmDisarm</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
            <span class="keywordflow">if</span>(temp[0] == <span class="charliteral">&#39;0&#39;</span>)
                <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a01d912d78612ae09e83da0487f415069" title="Send emails on all arm and disarm events.">SMTP_ArmDisarm</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.smPost = <a class="code" href="_s_m_t_p_8c.html#abc843aa264bd8fe2da2104d2bb0e6b90">SM_SMTP_START</a>; <span class="comment">// Return to read a new name</span>
        <span class="comment">//    break;</span>

                <span class="comment">// The POST is only accepted after the SM_SMTP_ARMDISARM, it will fail if this is missing</span>
                <span class="comment">// dont like this design but it should never be an issue</span>


             <span class="keywordflow">case</span> <a class="code" href="_s_m_t_p_8c.html#a79b7297fb197e1d1fa57757d2b176b31">SM_SMTP_SUCCESS</a>:
<span class="preprocessor">                        #if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; Finished POST correctly\r\n&quot;</span>);
<span class="preprocessor">                        #endif</span>
<span class="preprocessor"></span>
                        <span class="comment">// now we save all of it</span>
                        <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(&amp;<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>, <a class="code" href="_security_system_8h.html#ae33a92f4e46c1d70d59e71bd1eecc209">EEDATASTART_XPL</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>));

                <span class="keywordflow">return</span> HTTP_IO_DONE; <span class="comment">// we are complete</span>


    } <span class="comment">// switch(curHTTP.smPost)</span>

    <span class="keywordflow">return</span> HTTP_IO_WAITING;

} <span class="comment">//  HTTPPostSMTPConfig</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a9684d57d301c8de28dba3a1dc22d4708_cgraph.svg" width="510" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a9684d57d301c8de28dba3a1dc22d4708_icgraph.svg" width="510" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3e1f7b8c937f29b73398bb3ad54743c4"></a><!-- doxytag: member="SecuritySystem.h::IsolateArea" ref="a3e1f7b8c937f29b73398bb3ad54743c4" args="(int TheArea)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IsolateArea </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheArea</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function IsolateArea PreCondition: None Side Effects: isolated flag Overview: will set the isolated flag for the area provided also sets the flag for any zones that are related </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Area</td><td>ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l02048">2048</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="_security_system_8h_source.html#l00042">EEDATASTART_AREA</a>, <a class="el" href="_security_system_8h_source.html#l00041">EEDATASTART_ZONE</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8h_source.html#l00190">AreaConfigs::IsAlarmed</a>, <a class="el" href="_security_system_8h_source.html#l00191">AreaConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00169">ZoneConfigs::IsIsolated</a>, <a class="el" href="_security_system_8h_source.html#l00187">AreaConfigs::IsIsolated</a>, <a class="el" href="_security_system_8h_source.html#l00192">AreaConfigs::IsTampered</a>, <a class="el" href="_security_system_8h_source.html#l00186">AreaConfigs::IsTriggered</a>, <a class="el" href="_security_system_8c_source.html#l01467">isZoneMemberOfArea()</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00064">Type_Area</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00194">xPLSaveEEConfig()</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>
<div class="fragment"><pre class="fragment">                               {


<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Isolate Area\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

        <span class="comment">//Set the area&#39;s isolated flag to true</span>
        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].<a class="code" href="struct_area_configs.html#a89339700ce4076bbf66e8efd9803c393" title="Is area isolated.">IsIsolated</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].<a class="code" href="struct_area_configs.html#a711da45ad4b0c06e1aaee9d2ba6108aa" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;


        <span class="comment">// clear out the status flags</span>
        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].<a class="code" href="struct_area_configs.html#ad6fce28b6a7036035b3a51d4d25df694" title="Has a zone in this area been tampered.">IsTampered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].<a class="code" href="struct_area_configs.html#a4b3904923f06e20608888f1d3ad4ac08" title="Is the Area triggered.">IsTriggered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].<a class="code" href="struct_area_configs.html#a8caed50b4c827a114fceba5e95d4a377" title="Did a zone in this area cause the alarm to go off.">IsAlarmed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

        <span class="comment">//Send message</span>

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# IsolateArea, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {

                <span class="comment">// Generate xPL head with type security.zone</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aa8061dadd063bb50c19c744609e3178f" title="Part of the security schema.">Type_Area</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;area=&quot;</span>);
                UDPPut(<span class="charliteral">&#39;0&#39;</span>+TheArea);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nisolated=true&quot;</span>);
                UDPFlush();
        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

        <span class="comment">//cycle through all zones and set their isolated flag to true if they are a member</span>
        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt;= <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, TheArea)) {
                        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a0fcb99621e1f25f5b6c07b71ab6a4266" title="Is zone isolated.">IsIsolated</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                }<span class="comment">// ZoneConfig</span>
        }<span class="comment">// for iCount</span>

        <span class="comment">//now save the changes</span>
        <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>, <a class="code" href="_security_system_8h.html#a84d6a5346b04effd1160f34d13abd01c">EEDATASTART_ZONE</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>));
        <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>, <a class="code" href="_security_system_8h.html#a61748f301d79db0c4ecb09432705d105">EEDATASTART_AREA</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>));

} <span class="comment">// IsolateZone</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a3e1f7b8c937f29b73398bb3ad54743c4_cgraph.svg" width="464" height="192" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa58e855f239c14c2cfc32dcfa244d31f"></a><!-- doxytag: member="SecuritySystem.h::IsolateZone" ref="aa58e855f239c14c2cfc32dcfa244d31f" args="(int TheZone)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IsolateZone </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheZone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function IsolateZone PreCondition: None Side Effects: isolated flag Overview: will set the isolated flag for the zone provided </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Zone</td><td>ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l01995">1995</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_system_8h_source.html#l00179">ZoneConfigs::BounceDelay</a>, <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="_security_system_8h_source.html#l00041">EEDATASTART_ZONE</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8h_source.html#l00172">ZoneConfigs::IsAlarmed</a>, <a class="el" href="_security_system_8h_source.html#l00173">ZoneConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00169">ZoneConfigs::IsIsolated</a>, <a class="el" href="_security_system_8h_source.html#l00174">ZoneConfigs::IsTampered</a>, <a class="el" href="_security_system_8h_source.html#l00166">ZoneConfigs::IsTriggered</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00065">Type_Zone</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>, <a class="el" href="x_p_l_8c_source.html#l00194">xPLSaveEEConfig()</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                               {

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Isolating zone\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

        <span class="comment">//Set the zone&#39;s isolated flag to true</span>
        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a0fcb99621e1f25f5b6c07b71ab6a4266" title="Is zone isolated.">IsIsolated</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

        <span class="comment">// clear out the status flags</span>
        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a71861cd65add7649dffdc7f99c57595c" title="Is the zone in a tampered state.">IsTampered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a9dca0cb314a3d8a1cb83a2b474296cce" title="If the zone in a triggered state.">IsTriggered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#ad96ab4189da090b75417a4705b3c092b" title="Timer for reducing impact of a bouncing IO lines.">BounceDelay</a> = 0;
        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a1053e4f4ba65f6a78cfd3b179c46eaaa" title="Did the zone cause the alarm to go off.">IsAlarmed</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;

        <span class="comment">//Send message</span>

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# IsolateZone, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {

                <span class="comment">// Generate xPL head with type security.zone</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a898c235db41f75422dc1b6870ab35fa9" title="Part of the security schema.">Type_Zone</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=isolated\nzone=&quot;</span>);
                itoa(TheZone, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                UDPPutArray(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,strlen(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>));
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nstate=true\n}\n&quot;</span>);
                UDPFlush();
        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

        <span class="comment">//now save the changes</span>
        <a class="code" href="x_p_l_8c.html#a1099a7d6ccfe562deba149fd4acef424">xPLSaveEEConfig</a>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>, <a class="code" href="_security_system_8h.html#a84d6a5346b04effd1160f34d13abd01c">EEDATASTART_ZONE</a>, <span class="keyword">sizeof</span>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>));

} <span class="comment">// IsolateZone</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_aa58e855f239c14c2cfc32dcfa244d31f_cgraph.svg" width="424" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_aa58e855f239c14c2cfc32dcfa244d31f_icgraph.svg" width="683" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0b01977d95904c38e9744db6ec788c00"></a><!-- doxytag: member="SecuritySystem.h::isZoneMemberOfArea" ref="a0b01977d95904c38e9744db6ec788c00" args="(int ZoneID, int AreaID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL isZoneMemberOfArea </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheZone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheArea</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function isZoneMemberOfArea PreCondition: None Side Effects: Overview: Returns true of false is an Zone is a member to an area </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Zone</td><td>ID, Area ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>BOOL </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l01467">1467</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_system_8h_source.html#l00178">ZoneConfigs::AreaList</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, and <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l02162">bypassArea()</a>, <a class="el" href="_security_system_8c_source.html#l02311">EnableArea()</a>, <a class="el" href="_security_system_8c_source.html#l02048">IsolateArea()</a>, <a class="el" href="_e_o_l_8c_source.html#l00154">IsZoneTriggered()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00226">SendAlarmingMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00711">SendAreaInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01084">SendAreaStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00132">SendAreaStateMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>, <a class="el" href="_security_system_8c_source.html#l00916">StateChangeToAlarming()</a>, and <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>.</p>
<div class="fragment"><pre class="fragment">                                                  {

        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">int</span> Result;

<span class="preprocessor">#if (AREACOUNT &gt; 8)</span>
<span class="preprocessor"></span><span class="preprocessor">#error Having more then 8 areas is not possible under this design.</span>
<span class="preprocessor"></span><span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="keywordflow">if</span> (TheArea == 0) Result = (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a2c6fd882d20cac5f28aa0b1e11d35b09" title="Bit field list of the areas that this zone is a member of.">AreaList</a> &amp; 0b00000001);
        <span class="keywordflow">if</span> (TheArea == 1) Result = (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a2c6fd882d20cac5f28aa0b1e11d35b09" title="Bit field list of the areas that this zone is a member of.">AreaList</a> &amp; 0b00000010);
        <span class="keywordflow">if</span> (TheArea == 2) Result = (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a2c6fd882d20cac5f28aa0b1e11d35b09" title="Bit field list of the areas that this zone is a member of.">AreaList</a> &amp; 0b00000100);
        <span class="keywordflow">if</span> (TheArea == 3) Result = (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a2c6fd882d20cac5f28aa0b1e11d35b09" title="Bit field list of the areas that this zone is a member of.">AreaList</a> &amp; 0b00001000);
        <span class="keywordflow">if</span> (TheArea == 4) Result = (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a2c6fd882d20cac5f28aa0b1e11d35b09" title="Bit field list of the areas that this zone is a member of.">AreaList</a> &amp; 0b00010000);
        <span class="keywordflow">if</span> (TheArea == 5) Result = (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a2c6fd882d20cac5f28aa0b1e11d35b09" title="Bit field list of the areas that this zone is a member of.">AreaList</a> &amp; 0b00100000);
        <span class="keywordflow">if</span> (TheArea == 6) Result = (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a2c6fd882d20cac5f28aa0b1e11d35b09" title="Bit field list of the areas that this zone is a member of.">AreaList</a> &amp; 0b01000000);
        <span class="keywordflow">if</span> (TheArea == 7) Result = (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#a2c6fd882d20cac5f28aa0b1e11d35b09" title="Bit field list of the areas that this zone is a member of.">AreaList</a> &amp; 0b10000000);

        <span class="comment">/*</span>
<span class="comment">         #if defined(DEBUG_UART)</span>
<span class="comment">         putrsUART((ROM char*)&quot;Is Area Triggered, Area = &quot;);</span>
<span class="comment">         putcUART((char) &#39;0&#39; + TheArea);</span>
<span class="comment"></span>
<span class="comment">         putrsUART((ROM char*)&quot; Zone = &quot;);</span>
<span class="comment">         uitoa(TheZone, xPLMsgKey);</span>
<span class="comment">         putsUART(xPLMsgKey);</span>
<span class="comment"></span>
<span class="comment">         putrsUART((ROM char*)&quot; AreaList = &quot;);</span>
<span class="comment">         uitoa(ZoneConfig[TheZone].AreaList, xPLMsgKey);</span>
<span class="comment">         putsUART(xPLMsgKey);</span>
<span class="comment"></span>
<span class="comment">         putrsUART((ROM char*)&quot; Result = &quot;);</span>
<span class="comment">         uitoa(Result, xPLMsgKey);</span>
<span class="comment">         putsUART(xPLMsgKey);</span>
<span class="comment"></span>
<span class="comment">         putrsUART((ROM char*)&quot;\r\n&quot;);</span>
<span class="comment">         #endif</span>
<span class="comment">         */</span>
        <span class="keywordflow">if</span> (Result &gt;= 1)  <span class="keywordflow">return</span> <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
        <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;


}<span class="comment">//isZoneMemberOfArea</span>
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a0b01977d95904c38e9744db6ec788c00_icgraph.svg" width="1888" height="912" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a44f4ef2b28f2d65b626e1ec4e5885934"></a><!-- doxytag: member="SecuritySystem.h::IsZoneTriggered" ref="a44f4ef2b28f2d65b626e1ec4e5885934" args="(int ZoneID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_security_system_8h.html#abdc99e93ae47c7d6cb907274a3018ff4">Zone_States</a> IsZoneTriggered </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ZoneID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Determine if there has been a state change compared to the previously know state. Regular called to track the state of the zone. Updates the ZoneConfig and AreaConfig states (Triggered &amp; Tampered). Include bounce timer to prevent zones from bouncing from one state to another and flooding the network all the time.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ZoneID,the</td><td>zone being checked </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Zone_States, the outcome of the checked zone </dd></dl>

<p>Definition at line <a class="el" href="_e_o_l_8c_source.html#l00154">154</a> of file <a class="el" href="_e_o_l_8c_source.html">EOL.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00149">AreaConfig</a>, <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="x_p_l_8h_source.html#l00019">BOUNCEDELAY</a>, <a class="el" href="_security_system_8h_source.html#l00179">ZoneConfigs::BounceDelay</a>, <a class="el" href="_e_o_l_8c_source.html#l00023">CheckEOL()</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">i2Count</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8h_source.html#l00192">AreaConfigs::IsTampered</a>, <a class="el" href="_security_system_8h_source.html#l00174">ZoneConfigs::IsTampered</a>, <a class="el" href="_security_system_8h_source.html#l00186">AreaConfigs::IsTriggered</a>, <a class="el" href="_security_system_8h_source.html#l00166">ZoneConfigs::IsTriggered</a>, <a class="el" href="_security_system_8c_source.html#l01467">isZoneMemberOfArea()</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00201">putsUART</a>, <a class="el" href="_security_system_8h_source.html#l00155">StateNormal</a>, <a class="el" href="_security_system_8h_source.html#l00154">StateNothing</a>, <a class="el" href="_security_system_8h_source.html#l00157">StateTamper</a>, <a class="el" href="_security_system_8h_source.html#l00156">StateTrigger</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>, <a class="el" href="_security_system_8c_source.html#l00143">ZoneConfig</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00780">IOTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                                          { 
        
        
        <a class="code" href="_security_system_8h.html#abdc99e93ae47c7d6cb907274a3018ff4" title="When checking the zone state in EOL, these are the possible results.">Zone_States</a> TheZoneState, PreviousZoneState;
        WORD Ignore;
        
        <span class="comment">//ensure zone is not bypassed or isolated, if so return nothing</span>
        <span class="keywordflow">if</span> ((<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].IsIsolated) || (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].IsBypassed)) 
                <span class="keywordflow">return</span> <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff0f80ff8f066737372b052c2160509a" title="Nothing has changed since the last check.">StateNothing</a>;
        
        <span class="comment">// What is the previous state</span>
        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].IsTampered) PreviousZoneState = <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaef85932220f85c5f09ff9f3999755180" title="Since last check the zone has changes to Tampered.">StateTamper</a>;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].IsTriggered) PreviousZoneState = <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f" title="Since last check the zone has changes to Triggered.">StateTrigger</a>;
        <span class="keywordflow">else</span> PreviousZoneState = <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875" title="Since last check the zone has changed to normal.">StateNormal</a>;
        
        <span class="comment">// Determine the state of the zone</span>
        TheZoneState = <a class="code" href="_e_o_l_8c.html#a1cabc40dfab4455722bcd809c23ed21d">CheckEOL</a>(ZoneID, &amp;Ignore);
        
        <span class="comment">//If the state is the same as the previous check and bounce timer not active return nothing.</span>
        <span class="keywordflow">if</span>  ((PreviousZoneState == TheZoneState ) &amp;&amp; (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].BounceDelay == (<span class="keywordtype">unsigned</span>) 0))  
                <span class="keywordflow">return</span> <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff0f80ff8f066737372b052c2160509a" title="Nothing has changed since the last check.">StateNothing</a>;
        
        <span class="comment">// *** TAMPER ***</span>
        
        <span class="comment">// Zone is Tampered</span>
        <span class="keywordflow">if</span> (TheZoneState == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaef85932220f85c5f09ff9f3999755180" title="Since last check the zone has changes to Tampered.">StateTamper</a>) {
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#a71861cd65add7649dffdc7f99c57595c" title="Is the zone in a tampered state.">IsTampered</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#ad96ab4189da090b75417a4705b3c092b" title="Timer for reducing impact of a bouncing IO lines.">BounceDelay</a> = 0; <span class="comment">// Will cause a loop always returning StateTamper if left out</span>
                
                <span class="comment">// find out what Areas the zone is a part of and set them to tampered</span>
                <span class="keywordflow">for</span>(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(ZoneID, <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>)) {
                                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#ad6fce28b6a7036035b3a51d4d25df694" title="Has a zone in this area been tampered.">IsTampered</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; Area &quot;</span>);
                                uitoa(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                                <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; is Tampered. \r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                        }<span class="comment">// isZoneMemberOfArea(ZoneID, iCount)</span>
                }<span class="comment">// iCount      </span>
                <span class="keywordflow">return</span> <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaef85932220f85c5f09ff9f3999755180" title="Since last check the zone has changes to Tampered.">StateTamper</a>;
        } <span class="comment">// StateTamper</span>
        
        
        <span class="comment">// Return from Tamper</span>
        <span class="keywordflow">if</span> (PreviousZoneState == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaef85932220f85c5f09ff9f3999755180" title="Since last check the zone has changes to Tampered.">StateTamper</a>) {
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#a71861cd65add7649dffdc7f99c57595c" title="Is the zone in a tampered state.">IsTampered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#ad96ab4189da090b75417a4705b3c092b" title="Timer for reducing impact of a bouncing IO lines.">BounceDelay</a> = 0; 
                
                <span class="comment">// find out what Areas the zone is a part and set tamper to false if no other zones in the area are tampered</span>
                <span class="keywordflow">for</span>(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(ZoneID, <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>)) {
                                <span class="keywordflow">for</span>(<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>=0; <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>++) {
                                        <span class="keywordflow">if</span> ((<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> != ZoneID) &amp;&amp; <a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>, <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>)) {
                                                <span class="keywordflow">if</span>( <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>].IsTampered == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
                                                        <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> = 1;
                                                        <span class="keywordflow">break</span>;
                                                }<span class="comment">// is triggered</span>
                                        }<span class="comment">// is member of the zone                </span>
                                }<span class="comment">//i2Count, Area in question</span>
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> &gt;= ZONECOUNT) { <span class="comment">// no zones in the area found to be triggered</span>
                                        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#ad6fce28b6a7036035b3a51d4d25df694" title="Has a zone in this area been tampered.">IsTampered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;  
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; Area &quot;</span>);
                                        uitoa(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                                        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; is not tampered. \r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                                }<span class="comment">// i2Count &gt;= ZONECOUNT        </span>
                        }<span class="comment">// isZoneMemberOfArea(ZoneID, iCount)</span>
                }<span class="comment">// iCount              </span>
                
                <span class="comment">// When changing from Tampered to Triggered this will generate a Triggered event after the tamper cleared event</span>
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#a9dca0cb314a3d8a1cb83a2b474296cce" title="If the zone in a triggered state.">IsTriggered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                <span class="comment">// Return as normal even if triggered to ensure message sequence is correct</span>
                <span class="keywordflow">return</span> <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875" title="Since last check the zone has changed to normal.">StateNormal</a>;
                
        }       
        
        
        <span class="comment">// *** BOUNCE / TRIGGER CLEARED ***</span>
        
        <span class="comment">//Every time we return from Triggered to Normal there is a delay of .5 Second, this limits bouncing speed.</span>
        <span class="comment">//If BounceTimer not expired return Nothing. If we are bouncing it will only send 2 msg per 1/2 second. Do not change previous state </span>
        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].BounceDelay &gt; (<span class="keywordtype">unsigned</span>) 1) {
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#ad96ab4189da090b75417a4705b3c092b" title="Timer for reducing impact of a bouncing IO lines.">BounceDelay</a>--;
                <span class="keywordflow">if</span> (TheZoneState == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f" title="Since last check the zone has changes to Triggered.">StateTrigger</a>)
                        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#ad96ab4189da090b75417a4705b3c092b" title="Timer for reducing impact of a bouncing IO lines.">BounceDelay</a> = 0;     
                <span class="keywordflow">return</span> <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff0f80ff8f066737372b052c2160509a" title="Nothing has changed since the last check.">StateNothing</a>;
        }        
        
        <span class="comment">//if BounceTimer is expired clear BounceTimer</span>
        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].BounceDelay == (<span class="keywordtype">unsigned</span>) 1) {
                
                <span class="comment">// if state = Trigger then return nothing as we have bounced back (Trigger, Normal Trigger)</span>
                <span class="keywordflow">if</span> (TheZoneState == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f" title="Since last check the zone has changes to Triggered.">StateTrigger</a>) {
                        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#ad96ab4189da090b75417a4705b3c092b" title="Timer for reducing impact of a bouncing IO lines.">BounceDelay</a> = 0;
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; Bounce prevented. Zone &quot;</span>);
                        uitoa(ZoneID, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; remains triggered.\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                        <span class="keywordflow">return</span> <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff0f80ff8f066737372b052c2160509a" title="Nothing has changed since the last check.">StateNothing</a>;
                }
                
                <span class="comment">// if state = normal return Normal and set the state flag on the zone</span>
                <span class="keywordflow">if</span> (TheZoneState == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875" title="Since last check the zone has changed to normal.">StateNormal</a>) {
                        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#ad96ab4189da090b75417a4705b3c092b" title="Timer for reducing impact of a bouncing IO lines.">BounceDelay</a> = 0;
                        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#a9dca0cb314a3d8a1cb83a2b474296cce" title="If the zone in a triggered state.">IsTriggered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#a71861cd65add7649dffdc7f99c57595c" title="Is the zone in a tampered state.">IsTampered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                        
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; Bounce Cleared. Zone &quot;</span>);
                        uitoa(ZoneID, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; is normal. \r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                        
                        <span class="comment">// find out what Areas the zone is a part and set triggered to false if no other zones in the area</span>
                        <span class="comment">// are also triggered at the same time</span>
                        <span class="keywordflow">for</span>(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(ZoneID, <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>)) {
                                        <span class="keywordflow">for</span>(<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>=0; <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>++) {
                                                <span class="keywordflow">if</span> ((<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> != ZoneID) &amp;&amp; <a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>, <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>)) {
                                                        <span class="keywordflow">if</span>( <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>].IsTriggered == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
                                                                <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> = 1;
                                                                <span class="keywordflow">break</span>;
                                                        }<span class="comment">// is triggered</span>
                                                }<span class="comment">// is member of the zone                </span>
                                        }<span class="comment">//i2Count, Area in question</span>
                                        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> &gt;= ZONECOUNT) { <span class="comment">// no zones in the area found to be triggered</span>
                                                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a4b3904923f06e20608888f1d3ad4ac08" title="Is the Area triggered.">IsTriggered</a> = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>; 
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; Area &quot;</span>);
                                                uitoa(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                                                <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; is normal. \r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                                        }<span class="comment">// i2Count &gt;= ZONECOUNT        </span>
                                }<span class="comment">// isZoneMemberOfArea(ZoneID, iCount)</span>
                        }<span class="comment">// iCount              </span>
                        
                        <span class="keywordflow">return</span> <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875" title="Since last check the zone has changed to normal.">StateNormal</a>;
                }
        }       
        
        
        <span class="comment">//If current state Normal, set the BounceTimer, return Nothing</span>
        <span class="keywordflow">if</span> (TheZoneState == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875" title="Since last check the zone has changed to normal.">StateNormal</a>) {
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#ad96ab4189da090b75417a4705b3c092b" title="Timer for reducing impact of a bouncing IO lines.">BounceDelay</a> = <a class="code" href="x_p_l_8h.html#a0c1636b2b06436f6cbb88eb341f7d902">BOUNCEDELAY</a>;
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <span class="keywordflow">if</span> (ZoneID == 0) <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; Bounce Set. \r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                <span class="keywordflow">return</span> <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff0f80ff8f066737372b052c2160509a" title="Nothing has changed since the last check.">StateNothing</a>;
        }
        
        <span class="comment">// *** TRIGGER ***</span>
        
        <span class="comment">//The only thing left should be a normal trigger, return trigger and set the state flag on the zone</span>
        <span class="keywordflow">if</span> (TheZoneState == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f" title="Since last check the zone has changes to Triggered.">StateTrigger</a>) {
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#ad96ab4189da090b75417a4705b3c092b" title="Timer for reducing impact of a bouncing IO lines.">BounceDelay</a> = 0;
                <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[ZoneID].<a class="code" href="struct_zone_configs.html#a9dca0cb314a3d8a1cb83a2b474296cce" title="If the zone in a triggered state.">IsTriggered</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Zone &quot;</span>);
                uitoa(ZoneID, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;triggered. &quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                
                <span class="comment">// find out what Areas the zone is a part of and set them to triggered</span>
                <span class="keywordflow">for</span>(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(ZoneID, <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>)) {
                                <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a4b3904923f06e20608888f1d3ad4ac08" title="Is the Area triggered.">IsTriggered</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; Area &quot;</span>);
                                uitoa(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                                <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; is Triggered. \r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>                        }<span class="comment">// isZoneMemberOfArea(ZoneID, iCount)</span>
                }<span class="comment">// iCount      </span>
                
                <span class="keywordflow">return</span> <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f" title="Since last check the zone has changes to Triggered.">StateTrigger</a>;
        }       
        
} <span class="comment">//IsZoneTriggered</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a44f4ef2b28f2d65b626e1ec4e5885934_cgraph.svg" width="504" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a44f4ef2b28f2d65b626e1ec4e5885934_icgraph.svg" width="886" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a73d4e378556fa6a028b9460759871f2c"></a><!-- doxytag: member="SecuritySystem.h::ModifyUser" ref="a73d4e378556fa6a028b9460759871f2c" args="(BYTE *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ModifyUser </td>
          <td>(</td>
          <td class="paramtype">BYTE *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>HTTP GET from the user admin web page, this updates the Name and Password of the user in EE prom </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*ptr,from</td><td>HTTP (GET) stack </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_authenticate_8c_source.html#l00487">487</a> of file <a class="el" href="_authenticate_8c_source.html">Authenticate.c</a>.</p>

<p>References <a class="el" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00542">DecodeIntFromGET()</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00201">putsUART</a>, <a class="el" href="_authenticate_8c_source.html#l00447">SaveUserNameEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00403">SaveUserPasswordEEdata()</a>, <a class="el" href="_security_system_8c_source.html#l00037">UserID</a>, <a class="el" href="_security_system_8h_source.html#l00009">USERNAMELENGTH</a>, <a class="el" href="_security_system_8h_source.html#l00010">USERPASSLENGTH</a>, and <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>.</p>
<div class="fragment"><pre class="fragment">                            {
        
        <span class="keywordtype">int</span> <a class="code" href="_security_system_8c.html#af1c18f7532835833de15218c3aa5d146" title="Name of user.">UserID</a>, <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>;
        <span class="keywordtype">char</span> NewUserName[<a class="code" href="_security_system_8h.html#ab2d5f95a4974c4f332df9f6a41022219">USERNAMELENGTH</a>+1];
        <span class="keywordtype">char</span> NewUserPassword[<a class="code" href="_security_system_8h.html#abbe086a1e768641e6894ec5116a52ae9">USERPASSLENGTH</a>+1];
        
        <span class="comment">// clear out the memory just in case</span>
        memset (NewUserName, <span class="charliteral">&#39;\0&#39;</span>, <a class="code" href="_security_system_8h.html#ab2d5f95a4974c4f332df9f6a41022219">USERNAMELENGTH</a>+1);
        memset (NewUserPassword, <span class="charliteral">&#39;\0&#39;</span>, <a class="code" href="_security_system_8h.html#abbe086a1e768641e6894ec5116a52ae9">USERPASSLENGTH</a>+1);
        
        <span class="comment">//ID of the user being updated</span>
        ptr = HTTPGetROMArg(<a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.data, (ROM BYTE *)<span class="stringliteral">&quot;id&quot;</span>);
        <span class="keywordflow">if</span>(*ptr) 
                UserID = <a class="code" href="_h_t_t_p_forms_8c.html#a6e8f2eab6326e5e8d0884ac0f3329628" title="Decodes and int value from a HTTP buffer (GET)">DecodeIntFromGET</a>(ptr,  (rom <span class="keywordtype">char</span> *)<span class="stringliteral">&quot;User ID&quot;</span>);
        
        <span class="comment">// User Name</span>
        ptr = HTTPGetROMArg(<a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.data, (ROM BYTE *)<span class="stringliteral">&quot;N&quot;</span>);
        <span class="keywordflow">if</span>(*ptr) {
                <span class="keywordflow">for</span>(iCount = 0;iCount &lt; <a class="code" href="_security_system_8h.html#ab2d5f95a4974c4f332df9f6a41022219">USERNAMELENGTH</a>; iCount++) {
                        NewUserName[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] = *ptr;
                        <span class="keywordflow">if</span> (*ptr != <span class="charliteral">&#39;\0&#39;</span>) ptr++;
                }<span class="comment">// for </span>
        }
        
        <span class="comment">// User Password</span>
        ptr = HTTPGetROMArg(<a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.data, (ROM BYTE *)<span class="stringliteral">&quot;P&quot;</span>);
        <span class="keywordflow">if</span>(*ptr) {
                <span class="keywordflow">for</span>(iCount = 0;iCount &lt; <a class="code" href="_security_system_8h.html#abbe086a1e768641e6894ec5116a52ae9">USERPASSLENGTH</a>; iCount++) {
                        NewUserPassword[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] = *ptr;
                        <span class="comment">//if (*ptr != &#39;\0&#39;) </span>
                        ptr++;
                }<span class="comment">// for </span>
        }
        
        
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;NewUserName:&quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(NewUserName);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; strlen:&quot;</span>);
        uitoa(strlen(NewUserName),  <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);            
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; : &quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;NewUserPassword:&quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(NewUserPassword);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; strlen:&quot;</span>);
        uitoa(strlen(NewUserPassword),  <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);
        
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        
        <a class="code" href="_authenticate_8c.html#a0be112c6d3c0c4852d7b5d78c30006a2">SaveUserNameEEdata</a> (NewUserName, UserID) ;
        
        <a class="code" href="_authenticate_8c.html#a3a54eb2d8295163334f74dbacc0784e1">SaveUserPasswordEEdata</a> (NewUserPassword, UserID) ;
        
        strcpypgm2ram((<span class="keywordtype">char</span>*)<a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.data, (ROM <span class="keywordtype">void</span>*)<span class="stringliteral">&quot;/admin/users.htm&quot;</span>);
        <a class="code" href="_h_t_t_p_variables_8c.html#a56dd5313e3ef1f8da6a1a98c9457eac1">curHTTP</a>.httpStatus = HTTP_REDIRECT;                     
        
        
        
} <span class="comment">//ModifyUser</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a73d4e378556fa6a028b9460759871f2c_cgraph.svg" width="523" height="192" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a73d4e378556fa6a028b9460759871f2c_icgraph.svg" width="411" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1e04428a714d6c8c97cb8685f96933ee"></a><!-- doxytag: member="SecuritySystem.h::Panic" ref="a1e04428a714d6c8c97cb8685f96933ee" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Panic </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function Panic PreCondition: None Side Effects: IO lines and state Overview: Buts the alarm into the panic state and sends xPL message </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l01249">1249</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_x_p_l_sender_8c_source.html#l00017">addxPLMessage()</a>, <a class="el" href="_security_system_8h_source.html#l00111">Alarming</a>, <a class="el" href="_security_system_8h_source.html#l00206">xPLConfigs::AlarmingDuration</a>, <a class="el" href="_security_system_8c_source.html#l00029">AlarmingTimer</a>, <a class="el" href="_security_system_8c_source.html#l00017">AlarmState</a>, <a class="el" href="_security_system_8c_source.html#l00021">EntryTimer</a>, <a class="el" href="_security_system_8c_source.html#l00025">ExitTimer</a>, <a class="el" href="_hardware_profile_8h_source.html#l00070">INT_SIREN_IO</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_security_system_8h_source.html#l00209">xPLConfigs::SirenDelay</a>, <a class="el" href="_security_system_8c_source.html#l00031">SirenTimer</a>, <a class="el" href="_hardware_profile_8h_source.html#l00074">STROBE_IO</a>, and <a class="el" href="_security_system_8h_source.html#l00238">TB_Panic</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, and <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>.</p>
<div class="fragment"><pre class="fragment">                  {


<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;PANIC\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="comment">// set off the alarm</span>
        <span class="comment">//Ensure entry and exit timers are cleared</span>
        <a class="code" href="_security_system_8c.html#afdcc9abdceb871043a45617d58de2057" title="Zone Entery timer.">EntryTimer</a> = 0;
        <a class="code" href="_security_system_8c.html#a8434e29b41874d33c95b3f339bd2bcdf" title="Exit timer - 0 means off.">ExitTimer</a> = 0;

        <span class="comment">// Start the strobe and internal siren</span>
        <a class="code" href="_hardware_profile_8h.html#a5721d9a420c592eb0b6d9e334eb84767">STROBE_IO</a> = 1;
        <a class="code" href="_hardware_profile_8h.html#a3d6972b809d9a8aa775020159fa48094">INT_SIREN_IO</a> = 1;
        <a class="code" href="_security_system_8c.html#a016286d63fa2bb14fec565ed023b35cf" title="Reflects the state of the alarm.">AlarmState</a> = <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfaa92b7a267bbc04bd0510d28db78210ed">Alarming</a>;
        <a class="code" href="_security_system_8c.html#a207ce3b4724e48dd35dded40a44e14a8" title="Times the delay before acivating the external siren.">SirenTimer</a> = TickGet() + (TICK_SECOND * <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a7d1d439ccc753cb0aaead9e23702e87b" title="Number of seconds before the external siren is activated.">SirenDelay</a>); <span class="comment">//check to see if external siren should be activated</span>
        <a class="code" href="_security_system_8c.html#aa8ef5dfe0e57cb90dddff51dd7ec664a" title="Times how long the alarm will sound for.">AlarmingTimer</a> =  TickGet() + (TICK_SECOND * <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a459109edd9f494275b72d6158714eda2" title="Number of seconds that the alarm will ring for.">AlarmingDuration</a>);

        <span class="comment">// Send the alarming message</span>
        
        <a class="code" href="_security_system_8h.html#a30c3c9cdda2491c17d5d6d5cc6426b31">addxPLMessage</a>(<a class="code" href="_security_system_8h.html#a0a181dc5b89b91c60e4db10971c38debaec54c751a669111ac9d7ecc2be16f2b0">TB_Panic</a>);
} <span class="comment">// Panic</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a1e04428a714d6c8c97cb8685f96933ee_cgraph.svg" width="635" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a1e04428a714d6c8c97cb8685f96933ee_icgraph.svg" width="1091" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae9e6733b7fed738a76787f01762bb284"></a><!-- doxytag: member="SecuritySystem.h::SendAlarmingMsg" ref="ae9e6733b7fed738a76787f01762bb284" args="(int TheZone)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendAlarmingMsg </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheZone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00226">226</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00044">AlarmTypesText</a>, <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="x_p_l_8h_source.html#l00006">BOOL</a>, <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8c_source.html#l01467">isZoneMemberOfArea()</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00201">putsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00066">Type_Gateway</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>, <a class="el" href="_security_system_8h_source.html#l00177">ZoneConfigs::ZoneAlarmType</a>, and <a class="el" href="_security_system_8c_source.html#l00143">ZoneConfig</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>, and <a class="el" href="_security_system_8c_source.html#l00916">StateChangeToAlarming()</a>.</p>
<div class="fragment"><pre class="fragment">                                   {

        <a class="code" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> isFirstZone = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
        <span class="keywordtype">char</span> TempBuffer[3];


        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendAlarmingMsg, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {

                <span class="comment">//Generate xPL head with type security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a1ffc8fbc4fd8675c7ac9a73abcb5b2ec" title="Part of the security schema.">Type_Gateway</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=alarm&quot;</span>);
                <span class="keywordflow">if</span> (TheZone != 99 ) { <span class="comment">// Zone 99 is for Panic</span>
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nzone-list=&quot;</span>);
                        itoa(TheZone, TempBuffer);
                        UDPPutArray(TempBuffer,strlen(TempBuffer));
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\narea-list=&quot;</span>);

                        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(TheZone, <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>) == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
                                        <span class="keywordflow">if</span> (!isFirstZone) UDPPut(<span class="charliteral">&#39;,&#39;</span>);
                                        isFirstZone = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                                        UDPPut(<span class="charliteral">&#39;0&#39;</span>+<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>);
                                }<span class="comment">// isZoneMemberOfArea</span>
                        }<span class="comment">// for iCount</span>

                        <span class="comment">//alarm-type=Alarm type of the zone triggered</span>
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nalarm-type=&quot;</span>);
                        <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].<a class="code" href="struct_zone_configs.html#ab47b513fec97f9480895eebb17d759bd" title="xPL Alarm type (eg fire, flood, gas etc)">ZoneAlarmType</a>;
                        UDPPutROMString(<a class="code" href="_security_system_8c.html#a8cba7131f5350817bd065e867459fa69" title="determines the text outputed in the xPL message for each of the alarm types">AlarmTypesText</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>]);

                } <span class="comment">// TheZone != 99 ie Panic</span>



                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n}\n&quot;</span>);


<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;SendAlarmingMsg Message Sent\r\n&quot;</span>);

                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Zone: &quot;</span>);
                itoa(TheZone, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);

                <span class="keywordflow">if</span> (TheZone == 99 )
                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot; Panic Alarm&quot;</span>);
                <span class="keywordflow">else</span> {
                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;ZoneAlarmType: &quot;</span>);
                        itoa(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].ZoneAlarmType, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Text: &quot;</span>);
                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>(<a class="code" href="_security_system_8c.html#a8cba7131f5350817bd065e867459fa69" title="determines the text outputed in the xPL message for each of the alarm types">AlarmTypesText</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>]);
                }
                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);


<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

                <span class="comment">// Jobs not over until you have wiped and flushed</span>
                UDPFlush();
        } <span class="comment">// UDPIsPutReady(XPLSocket)</span>

} <span class="comment">// SendAlarmingMsg</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ae9e6733b7fed738a76787f01762bb284_cgraph.svg" width="518" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ae9e6733b7fed738a76787f01762bb284_icgraph.svg" width="1259" height="110" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="acdb6126b5578c4ca8c06d5343a7b37df"></a><!-- doxytag: member="SecuritySystem.h::SendAreaInfo" ref="acdb6126b5578c4ca8c06d5343a7b37df" args="(int TheArea)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendAreaInfo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheArea</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00711">711</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00006">BOOL</a>, <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="_security_system_8h_source.html#l00012">DEVICEDESCLENGTH</a>, <a class="el" href="_security_system_8h_source.html#l00044">EEDATASTART_DEVICEDESC</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8c_source.html#l01467">isZoneMemberOfArea()</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00070">Type_Areainfo</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                                {

        <span class="keywordtype">int</span> <span class="keywordtype">short</span> iTotal;
        <a class="code" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> isFirstZone = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendAreaInfo, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                <span class="comment">//security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aba9b7129264b9f34ae69037d02ae8faf" title="Part of the security schema.">Type_Areainfo</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;area=&quot;</span>);
                UDPPut(<span class="charliteral">&#39;0&#39;</span>+ TheArea);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nzone-list=&quot;</span>);

                iTotal = 0;
                <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, TheArea) == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
                                <span class="keywordflow">if</span> (!isFirstZone) UDPPut(<span class="charliteral">&#39;,&#39;</span>);
                                isFirstZone = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                                itoa(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                                UDPPutArray(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,strlen(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>));
                                iTotal++;
                        } <span class="comment">// ZoneConfig</span>
                }<span class="comment">// for iCount</span>

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nzone-count=&quot;</span>);
                itoa(iTotal, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                UDPPutArray(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,strlen(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>));

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nroom=&quot;</span>);

                <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = (int)<a class="code" href="_security_system_8h.html#aa099c08420f2e838607142a7edaa8aa8">EEDATASTART_DEVICEDESC</a> + ((<span class="keywordtype">int</span>)<a class="code" href="_security_system_8h.html#a61145d9f711460b73af75ef123fc76f6">DEVICEDESCLENGTH</a> * (int)ZONECOUNT) + 1;
                <span class="keywordflow">if</span> (TheArea != 0)
                        <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> += (int)TheArea * (<span class="keywordtype">int</span>)<a class="code" href="_security_system_8h.html#a61145d9f711460b73af75ef123fc76f6">DEVICEDESCLENGTH</a> ;

                XEEReadArray ((DWORD) <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a> , (BYTE) <a class="code" href="_security_system_8h.html#a61145d9f711460b73af75ef123fc76f6">DEVICEDESCLENGTH</a>);
                TCPPutArray(sktHTTP, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>, <a class="code" href="_security_system_8h.html#a61145d9f711460b73af75ef123fc76f6">DEVICEDESCLENGTH</a>);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;}\n&quot;</span>);

                <span class="comment">// Now transmit it.</span>
                UDPFlush();

        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

} <span class="comment">// SendAreaInfo</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_acdb6126b5578c4ca8c06d5343a7b37df_cgraph.svg" width="483" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_acdb6126b5578c4ca8c06d5343a7b37df_icgraph.svg" width="699" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a43dbd62169c9f83be3663dc435e232c7"></a><!-- doxytag: member="SecuritySystem.h::SendAreaList" ref="a43dbd62169c9f83be3663dc435e232c7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendAreaList </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00587">587</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="x_p_l_8h_source.html#l00006">BOOL</a>, <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00073">Type_Arealist</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                         {

        <span class="keywordtype">int</span> <span class="keywordtype">short</span> <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>;
        <a class="code" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> isFirstZone = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendAreaList, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                <span class="comment">//security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a81db81080b48d653baf6a7f98d3e0e22" title="Part of the security schema.">Type_Arealist</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;area-list=&quot;</span>);

                <span class="keywordflow">for</span> (iCount = 0; iCount &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; iCount++) {
                        <span class="keywordflow">if</span> (!isFirstZone) UDPPut(<span class="charliteral">&#39;,&#39;</span>);
                        isFirstZone = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                        UDPPut(<span class="charliteral">&#39;0&#39;</span>+iCount);
                }<span class="comment">// for iCount</span>

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n}\n&quot;</span>);

                <span class="comment">// Now transmit it.</span>
                UDPFlush();

        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

} <span class="comment">// SendAreaList</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a43dbd62169c9f83be3663dc435e232c7_cgraph.svg" width="419" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a43dbd62169c9f83be3663dc435e232c7_icgraph.svg" width="699" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5d91f06e22d49f6ecee37802e866e0e6"></a><!-- doxytag: member="SecuritySystem.h::SendAreaStat" ref="a5d91f06e22d49f6ecee37802e866e0e6" args="(int TheArea)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendAreaStat </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheArea</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l01084">1084</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00044">AlarmTypesText</a>, <a class="el" href="_security_system_8c_source.html#l00149">AreaConfig</a>, <a class="el" href="x_p_l_8h_source.html#l00052">Class_Config</a>, <a class="el" href="_security_system_8c_source.html#l00035">i2Count</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8c_source.html#l01467">isZoneMemberOfArea()</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00067">Type_Areastat</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>, <a class="el" href="x_p_l_8h_source.html#l00022">xPLMSGKEYLENGTH</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                                {


        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendAreaStat, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                <span class="comment">//security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba14f0290b427ed1601cbd6b99072f4401">Class_Config</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014abc2a5ebedc397c760915df455e5f20a5" title="Part of the security schema.">Type_Areastat</a>);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;area=&quot;</span>);
                UDPPut(<span class="charliteral">&#39;0&#39;</span>+ TheArea);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\narmed=&quot;</span>);
                <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].IsArmed == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;true&quot;</span>);
                <span class="keywordflow">else</span>
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;false&quot;</span>);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nalert=&quot;</span>);
                <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].IsTriggered == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;true&quot;</span>);
                <span class="keywordflow">else</span>
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;false&quot;</span>);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nalarm=&quot;</span>);
                <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].IsAlarmed == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {

                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;true\nalarm-type=&quot;</span>);
                        UDPPutROMString(<a class="code" href="_security_system_8c.html#a8cba7131f5350817bd065e867459fa69" title="determines the text outputed in the xPL message for each of the alarm types">AlarmTypesText</a>[<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].ZoneAlarmType]);

                        <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> =0;
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nalarm-zones=&quot;</span>);
                        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, TheArea) == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
                                        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> != 0) UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;,&quot;</span>);
                                        <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> = 1;
                                        memset(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,<span class="charliteral">&#39;\0&#39;</span>,<a class="code" href="x_p_l_8h.html#a8093f823771092ea99bef8d0b1ce5454">xPLMSGKEYLENGTH</a>);
                                        uitoa(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>,  <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                                        UDPPutString(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                                }<span class="comment">// isZoneMemberOfArea</span>
                        }<span class="comment">// for</span>
                }<span class="comment">//     IsAlarmed == TRUE</span>


                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\ntamper=&quot;</span>);
                <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].IsTampered == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;true&quot;</span>);
                <span class="keywordflow">else</span>
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;false&quot;</span>);


                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nisolated=&quot;</span>);
                <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].IsIsolated == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;true&quot;</span>);
                <span class="keywordflow">else</span>
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;false&quot;</span>);


                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nbypassed=&quot;</span>);
                <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[TheArea].IsBypassed == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;true&quot;</span>);
                <span class="keywordflow">else</span>
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;false&quot;</span>);


                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n}\n&quot;</span>);

                <span class="comment">// Now transmit it.</span>
                UDPFlush();

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;SendAreaStat sent&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>


} <span class="comment">//SendGateStat</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a5d91f06e22d49f6ecee37802e866e0e6_cgraph.svg" width="488" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a5d91f06e22d49f6ecee37802e866e0e6_icgraph.svg" width="704" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae77b19bae92f6c64f9a58f722b4bf193"></a><!-- doxytag: member="SecuritySystem.h::SendAreaStateMsg" ref="ae77b19bae92f6c64f9a58f722b4bf193" args="(Zone_States CurrentZoneState, int TheZone, int StartPoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SendAreaStateMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_security_system_8h.html#abdc99e93ae47c7d6cb907274a3018ff4">Zone_States</a>&#160;</td>
          <td class="paramname"><em>CurrentZoneState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheZone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>StartPoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create and send the xPL message for a change in state within a area. This only covers Tamper, Trigger and normal events, not alarmed. This needs to be called until the result = 0</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">MessageType</td><td>only support Tamper, Trigger and normal events </td></tr>
    <tr><td class="paramname">TheZone,yes</td><td>zone to send area messages </td></tr>
    <tr><td class="paramname">StartPoint,is</td><td>the starting area, used to resume from previous point </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 = no message sent, 1 = message sent &amp; must call again </dd></dl>

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00132">132</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00149">AreaConfig</a>, <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="x_p_l_8h_source.html#l00006">BOOL</a>, <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l01467">isZoneMemberOfArea()</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_security_system_8h_source.html#l00155">StateNormal</a>, <a class="el" href="_security_system_8h_source.html#l00157">StateTamper</a>, <a class="el" href="_security_system_8h_source.html#l00156">StateTrigger</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00064">Type_Area</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                 {

        <span class="keywordtype">int</span> iCounter, TheArea;
        <span class="keywordtype">char</span> TheAreaTxt[2];
        <a class="code" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> FirstArea = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
        <a class="code" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> UpdateRequired = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;


        <span class="comment">// Check to see if this zone is a member of any area(s), if not no update is required</span>
        <span class="comment">// if it we save the area id for later</span>
        <span class="keywordflow">for</span> (iCounter = StartPoint; iCounter &lt;= <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>-1; iCounter++) {
                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(TheZone, iCounter) == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)  {
                        
                        <span class="comment">// if tampered we only update the area state if the state is normal, triggered or tampered</span>
                        <span class="keywordflow">if</span> (CurrentZoneState == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaef85932220f85c5f09ff9f3999755180" title="Since last check the zone has changes to Tampered.">StateTamper</a>) {
                                <span class="keywordflow">if</span> ((<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[iCounter].State == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875" title="Since last check the zone has changed to normal.">StateNormal</a>) || (<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[iCounter].State == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f" title="Since last check the zone has changes to Triggered.">StateTrigger</a>) || (<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[iCounter].State == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaef85932220f85c5f09ff9f3999755180" title="Since last check the zone has changes to Tampered.">StateTamper</a>)) {
                                        UpdateRequired = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                                        TheArea = iCounter;
                                        <span class="keywordflow">break</span>; 
                                }       
                        }       
                        
                        <span class="comment">// if triggered we only update the area state if the state is normal or triggered</span>
                        <span class="keywordflow">if</span> (CurrentZoneState == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f" title="Since last check the zone has changes to Triggered.">StateTrigger</a>) {
                                <span class="keywordflow">if</span> ((<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[iCounter].State == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875" title="Since last check the zone has changed to normal.">StateNormal</a>) || (<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[iCounter].State == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f" title="Since last check the zone has changes to Triggered.">StateTrigger</a>)) {
                                        UpdateRequired = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                                        TheArea = iCounter;
                                        <span class="keywordflow">break</span>; <span class="comment">// \todo check this does not stop multiple areas from working</span>
                                }       
                        }       
                        
                        <span class="comment">// if normal we only update is area is normal</span>
                        <span class="keywordflow">if</span> (CurrentZoneState == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875" title="Since last check the zone has changed to normal.">StateNormal</a>) {
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[iCounter].State == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875" title="Since last check the zone has changed to normal.">StateNormal</a>) {
                                        UpdateRequired = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                                        TheArea = iCounter;
                                        <span class="keywordflow">break</span>; 
                                }       
                        }       
                        
                }<span class="comment">// isZoneMemberOfArea</span>
        }<span class="comment">// iCounter</span>

        <span class="keywordflow">if</span> (UpdateRequired == <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>) {
                <span class="comment">// Do nothing</span>
                <span class="keywordflow">return</span> 0;
        }


        <span class="comment">//Send the message for this area</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) { <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendAreaStateMsg, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }

        <span class="keywordflow">else</span> {
                <span class="comment">// Generate xPL head with type security.zone</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aa8061dadd063bb50c19c744609e3178f" title="Part of the security schema.">Type_Area</a>);

                <span class="comment">// Trigger event</span>
                <span class="keywordflow">if</span> (CurrentZoneState == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f" title="Since last check the zone has changes to Triggered.">StateTrigger</a>) 
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=alert\narea=&quot;</span>);
                
                <span class="comment">// Tamper event</span>
                <span class="keywordflow">if</span> (CurrentZoneState == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaef85932220f85c5f09ff9f3999755180" title="Since last check the zone has changes to Tampered.">StateTamper</a>) 
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=tamper\narea=&quot;</span>);
                
                <span class="comment">// Normal event</span>
                <span class="keywordflow">if</span> (CurrentZoneState == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875" title="Since last check the zone has changed to normal.">StateNormal</a>) 
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=normal\narea=&quot;</span>);
                
                itoa(TheArea, TheAreaTxt);
                UDPPutArray(TheAreaTxt,strlen(TheAreaTxt));
        
                <span class="comment">// Now transmit it.</span>
                UDPFlush();

        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

<span class="keywordflow">return</span> ++TheArea;

} <span class="comment">// SendAreaStateMsg</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ae77b19bae92f6c64f9a58f722b4bf193_cgraph.svg" width="531" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ae77b19bae92f6c64f9a58f722b4bf193_icgraph.svg" width="747" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae049c3724d5bacc955f50f724483ed91"></a><!-- doxytag: member="SecuritySystem.h::SendArmed" ref="ae049c3724d5bacc955f50f724483ed91" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendArmed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">395</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00149">AreaConfig</a>, <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="x_p_l_8h_source.html#l00006">BOOL</a>, <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00066">Type_Gateway</a>, <a class="el" href="_security_system_8c_source.html#l00037">UserID</a>, <a class="el" href="_security_system_8h_source.html#l00009">USERNAMELENGTH</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>, <a class="el" href="_security_system_8c_source.html#l00143">ZoneConfig</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                      {

        <a class="code" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> isFirst;
        <span class="keywordtype">char</span> TempVal[3];

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendArmed, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                <span class="comment">//security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a1ffc8fbc4fd8675c7ac9a73abcb5b2ec" title="Part of the security schema.">Type_Gateway</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=armed\n&quot;</span>);

                <span class="comment">// Zone list</span>
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;zone-list=&quot;</span>);
                isFirst = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                        <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].IsArmed == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
                                <span class="keywordflow">if</span> (!isFirst) UDPPut(<span class="charliteral">&#39;,&#39;</span>);
                                isFirst = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                                itoa(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, TempVal);
                                UDPPutArray(TempVal,strlen(TempVal));
                        }<span class="comment">// isArmed</span>
                }<span class="comment">// for iCount</span>
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n&quot;</span>);

                <span class="comment">// area list</span>
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;area-list=&quot;</span>);
                isFirst = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                        <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].IsArmed == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
                                <span class="keywordflow">if</span> (!isFirst) UDPPut(<span class="charliteral">&#39;,&#39;</span>);
                                isFirst = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                                itoa(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, TempVal);
                                UDPPutArray(TempVal,strlen(TempVal));
                        }<span class="comment">// isArmed</span>
                }<span class="comment">// for iCount</span>
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n&quot;</span>);


                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#af1c18f7532835833de15218c3aa5d146" title="Name of user.">UserID</a>[0] != <span class="charliteral">&#39;\0&#39;</span>) {
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;user=&quot;</span>);
                        UDPPutString(<a class="code" href="_security_system_8c.html#af1c18f7532835833de15218c3aa5d146" title="Name of user.">UserID</a>);
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n&quot;</span>);
                }

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;}\n&quot;</span>);


                <span class="comment">// Now transmit it.</span>
                UDPFlush();

                <span class="comment">// no more need for UserID to be populated</span>
                memset(<a class="code" href="_security_system_8c.html#af1c18f7532835833de15218c3aa5d146" title="Name of user.">UserID</a>,<span class="charliteral">&#39;\0&#39;</span>,<a class="code" href="_security_system_8h.html#ab2d5f95a4974c4f332df9f6a41022219">USERNAMELENGTH</a>);


<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;SendArmed Message Sent\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

        } <span class="comment">//UDPIsPutReady(XPLSocket)</span>
} <span class="comment">// SendArmed</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ae049c3724d5bacc955f50f724483ed91_cgraph.svg" width="403" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ae049c3724d5bacc955f50f724483ed91_icgraph.svg" width="683" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a729b2eb0275e2affcdf87121b20125fc"></a><!-- doxytag: member="SecuritySystem.h::SendConfigCurrent" ref="a729b2eb0275e2affcdf87121b20125fc" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendConfigCurrent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00814">814</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="_main_demo_8c_source.html#l00030">AppConfig</a>, <a class="el" href="x_p_l_8h_source.html#l00052">Class_Config</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00871">SendIPValue()</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00063">Type_Current</a>, <a class="el" href="_security_system_8h_source.html#l00202">xPLConfigs::xPL_Heartbeat_Interval</a>, <a class="el" href="_security_system_8h_source.html#l00203">xPLConfigs::xPL_My_Instance_ID</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="_security_system_8c_source.html#l00136">xPLConfig</a>, <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>, <a class="el" href="x_p_l_8h_source.html#l00022">xPLMSGKEYLENGTH</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>
<div class="fragment"><pre class="fragment">                              {

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendConfigCurrent, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                <span class="comment">//security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba14f0290b427ed1601cbd6b99072f4401">Class_Config</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a1168ef3342189eb73f687fbfefa5225c">Type_Current</a>);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;newconf=&quot;</span>);
                <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; ! <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a9c46c7c2fe40ff45c5a12adb588bf4d5" title="xPL instance name of this device">xPL_My_Instance_ID</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] == <span class="charliteral">&#39;\0&#39;</span>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                        UDPPut(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a9c46c7c2fe40ff45c5a12adb588bf4d5" title="xPL instance name of this device">xPL_My_Instance_ID</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>]);
                }
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n&quot;</span>);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;interval=&quot;</span>);
                memset(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,<span class="charliteral">&#39;\0&#39;</span>,<a class="code" href="x_p_l_8h.html#a8093f823771092ea99bef8d0b1ce5454">xPLMSGKEYLENGTH</a>);
                uitoa((WORD)<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a7111b59426453cce173352e2d7ef9dc3" title="Interval of the xPL heatbeat message in seconds.">xPL_Heartbeat_Interval</a>, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                UDPPutString(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n&quot;</span>);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;ip=&quot;</span>);
                <a class="code" href="_security_system_8h.html#a0a59aa6a73171b98b88cf2f9070ceac4">SendIPValue</a>(<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>.MyIPAddr);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n&quot;</span>);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;subnet=&quot;</span>);
                <a class="code" href="_security_system_8h.html#a0a59aa6a73171b98b88cf2f9070ceac4">SendIPValue</a>(<a class="code" href="_main_demo_8c.html#a67540808395519081be1333c4e9aa1f8">AppConfig</a>.MyMask);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n&quot;</span>);


                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;}\n&quot;</span>);

                <span class="comment">// Now transmit it.</span>
                UDPFlush();

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;SendConfigCurrent sent&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

} <span class="comment">// SendAreaList</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a729b2eb0275e2affcdf87121b20125fc_cgraph.svg" width="464" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a07582d84515caf26cd22e534fd29f378"></a><!-- doxytag: member="SecuritySystem.h::SendConfigList" ref="a07582d84515caf26cd22e534fd29f378" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendConfigList </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00774">774</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00052">Class_Config</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00059">Type_List</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                           {

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendConfigList, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                <span class="comment">//security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba14f0290b427ed1601cbd6b99072f4401">Class_Config</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014adf15d91ef041bd13132e6c4fbfcced4f">Type_List</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;reconf=newconf\n&quot;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;option=interval\n&quot;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;option=ip\n&quot;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;option=subnet\n&quot;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;}\n&quot;</span>);

                <span class="comment">// Now transmit it.</span>
                UDPFlush();

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;SendConfigList sent&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

} <span class="comment">// SendAreaList</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a07582d84515caf26cd22e534fd29f378_cgraph.svg" width="432" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a07582d84515caf26cd22e534fd29f378_icgraph.svg" width="712" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="af1800c287b83d40961f39fcd9a751322"></a><!-- doxytag: member="SecuritySystem.h::SendDisarm" ref="af1800c287b83d40961f39fcd9a751322" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendDisarm </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00504">504</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00066">Type_Gateway</a>, <a class="el" href="_security_system_8c_source.html#l00037">UserID</a>, <a class="el" href="_security_system_8h_source.html#l00009">USERNAMELENGTH</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                       {

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendDisarm, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                <span class="comment">//security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a1ffc8fbc4fd8675c7ac9a73abcb5b2ec" title="Part of the security schema.">Type_Gateway</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=disarmed\nuser=&quot;</span>);
                UDPPutString(<a class="code" href="_security_system_8c.html#af1c18f7532835833de15218c3aa5d146" title="Name of user.">UserID</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n}\n&quot;</span>);
                <span class="comment">// Now transmit it.</span>
                UDPFlush();


                <span class="comment">// no more need for UserID to be populated</span>
                memset(<a class="code" href="_security_system_8c.html#af1c18f7532835833de15218c3aa5d146" title="Name of user.">UserID</a>,<span class="charliteral">&#39;\0&#39;</span>,<a class="code" href="_security_system_8h.html#ab2d5f95a4974c4f332df9f6a41022219">USERNAMELENGTH</a>);

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;SendDisarm Message Sent\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>


        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

} <span class="comment">// SendDisarm</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_af1800c287b83d40961f39fcd9a751322_cgraph.svg" width="406" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_af1800c287b83d40961f39fcd9a751322_icgraph.svg" width="686" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab29cace49ca20af0048aac94e64c10dd"></a><!-- doxytag: member="SecuritySystem.h::SendError" ref="ab29cace49ca20af0048aac94e64c10dd" args="(rom char *ErrorMessage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendError </td>
          <td>(</td>
          <td class="paramtype">rom char *&#160;</td>
          <td class="paramname"><em>ErrorMessage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00471">471</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00066">Type_Gateway</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                                         {

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendError, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                <span class="comment">//security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a1ffc8fbc4fd8675c7ac9a73abcb5b2ec" title="Part of the security schema.">Type_Gateway</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=error&quot;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;error=&quot;</span>);

                UDPPutROMString((ROM BYTE*) ErrorMessage);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n}\n&quot;</span>);

                <span class="comment">// Now transmit it.</span>
                UDPFlush();

        } <span class="comment">//UDPIsPutReady(XPLSocket)</span>

} <span class="comment">// SendError</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ab29cace49ca20af0048aac94e64c10dd_cgraph.svg" width="390" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ab29cace49ca20af0048aac94e64c10dd_icgraph.svg" width="670" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeb4ee205f02bf767a5d3b93608abc736"></a><!-- doxytag: member="SecuritySystem.h::SendGateStat" ref="aeb4ee205f02bf767a5d3b93608abc736" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendGateStat </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">1002</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00017">AlarmState</a>, <a class="el" href="_security_system_8c_source.html#l00044">AlarmTypesText</a>, <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="_security_system_8h_source.html#l00116">Armed</a>, <a class="el" href="_security_system_8h_source.html#l00115">Armed_LatchKey</a>, <a class="el" href="_security_system_8h_source.html#l00103">Battery_InUse</a>, <a class="el" href="_security_system_8h_source.html#l00053">BATTERY_LOW</a>, <a class="el" href="_battery_8c_source.html#l00026">BatteryState</a>, <a class="el" href="x_p_l_8h_source.html#l00006">BOOL</a>, <a class="el" href="x_p_l_8h_source.html#l00052">Class_Config</a>, <a class="el" href="_security_system_8h_source.html#l00110">Disarmed</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8c_source.html#l01467">isZoneMemberOfArea()</a>, <a class="el" href="_security_system_8c_source.html#l00039">LastZoneAlarmed</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00069">Type_Gatestat</a>, <a class="el" href="_battery_8c_source.html#l00027">VoltageBattery</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>, and <a class="el" href="_security_system_8c_source.html#l00143">ZoneConfig</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                         {

        <span class="keywordtype">char</span> TempVal[3];
        <a class="code" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> isFirstArea;

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendGateStat, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                <span class="comment">//security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba14f0290b427ed1601cbd6b99072f4401">Class_Config</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aa146efd7bd1b148961537a64269f53e1" title="Part of the security schema.">Type_Gatestat</a>);

                <span class="comment">// AC power state</span>
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;ac-fail=&quot;</span>);
                <span class="keywordflow">if</span> (<a class="code" href="_battery_8c.html#a35b967426a12072affebab82da722ef3" title="Keeps track of the battery state.">BatteryState</a> == <a class="code" href="_security_system_8h.html#a462bad824ca26348ba295528d4a61f23a11cc1f448ca555568d3c5e4f649c76d9">Battery_InUse</a>)
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;true\n&quot;</span>);
                <span class="keywordflow">else</span>
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;false\n&quot;</span>);

                <span class="comment">// internal battery state</span>
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;low-battery=&quot;</span>);
                <span class="keywordflow">if</span> (<a class="code" href="_battery_8c.html#abc18e4dde03a4d8707108764cf095185" title="Battery voltage.">VoltageBattery</a> &lt;  (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="_security_system_8h.html#afd318e2ebde322f320606bb98b7b7ba1">BATTERY_LOW</a>)
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;true\n&quot;</span>);
                <span class="keywordflow">else</span>
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;false\n&quot;</span>);

                <span class="comment">// Alarm state</span>
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;status=&quot;</span>);
                <span class="keywordflow">if</span> ((<a class="code" href="_security_system_8c.html#a016286d63fa2bb14fec565ed023b35cf" title="Reflects the state of the alarm.">AlarmState</a> == <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfa0943115c51834114c13d76fb189f56d0">Armed</a>) || (<a class="code" href="_security_system_8c.html#a016286d63fa2bb14fec565ed023b35cf" title="Reflects the state of the alarm.">AlarmState</a> == <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfa8bb76e1105100766672990f93e063c3c">Armed_LatchKey</a>) )
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;armed\n&quot;</span>);
                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="_security_system_8c.html#a016286d63fa2bb14fec565ed023b35cf" title="Reflects the state of the alarm.">AlarmState</a> == <a class="code" href="_security_system_8h.html#a2c35ecf033af7102413d9338fc1e9acfacf99f746f17e92913d15be9fc92d708c">Disarmed</a>)
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;disarmed\n&quot;</span>);
                <span class="keywordflow">else</span> { <span class="comment">// must be in an alarming state</span>
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;alarm\n&quot;</span>);
                        uitoa(<a class="code" href="_security_system_8c.html#ab4811cda05bf084486e0e786e68498ea" title="The last zone to change to alarmed state. used in SMTP.c.">LastZoneAlarmed</a>,  TempVal);
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;zone-list=&quot;</span>);
                        UDPPutString(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n&quot;</span>);
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;area-list=&quot;</span>);

                        isFirstArea = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(<a class="code" href="_security_system_8c.html#ab4811cda05bf084486e0e786e68498ea" title="The last zone to change to alarmed state. used in SMTP.c.">LastZoneAlarmed</a>, <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>) == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
                                        <span class="keywordflow">if</span> (!isFirstArea) UDPPut(<span class="charliteral">&#39;,&#39;</span>);
                                        isFirstArea = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                                        UDPPut(<span class="charliteral">&#39;0&#39;</span>+<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>);
                                }<span class="comment">// isZoneMemberOfArea</span>
                        }<span class="comment">// for iCount</span>

                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n&quot;</span>);
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;alarm-type=&quot;</span>);
                        UDPPutROMString(<a class="code" href="_security_system_8c.html#a8cba7131f5350817bd065e867459fa69" title="determines the text outputed in the xPL message for each of the alarm types">AlarmTypesText</a>[<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#ab4811cda05bf084486e0e786e68498ea" title="The last zone to change to alarmed state. used in SMTP.c.">LastZoneAlarmed</a>].ZoneAlarmType]);
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n&quot;</span>);
                }<span class="comment">// alarm state</span>

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;}\n&quot;</span>);
                <span class="comment">// Now transmit it.</span>
                UDPFlush();

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;SendGateStat sent&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>


} <span class="comment">//SendGateStat</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_aeb4ee205f02bf767a5d3b93608abc736_cgraph.svg" width="488" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_aeb4ee205f02bf767a5d3b93608abc736_icgraph.svg" width="704" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2c31ecf27fafa5085703f0719f6decac"></a><!-- doxytag: member="SecuritySystem.h::SendGatewayChanged" ref="a2c31ecf27fafa5085703f0719f6decac" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendGatewayChanged </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00894">894</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00052">Class_Config</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00066">Type_Gateway</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                               {

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendGatewayChanged, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                <span class="comment">//security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba14f0290b427ed1601cbd6b99072f4401">Class_Config</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a1ffc8fbc4fd8675c7ac9a73abcb5b2ec" title="Part of the security schema.">Type_Gateway</a>);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=changed\n}\n&quot;</span>);

                <span class="comment">// Now transmit it.</span>
                UDPFlush();

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;SendGatewayChanged sent&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>


} <span class="comment">//SendGatewayChanged</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a2c31ecf27fafa5085703f0719f6decac_cgraph.svg" width="494" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a2c31ecf27fafa5085703f0719f6decac_icgraph.svg" width="774" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a46495fd42c19f6703e4663cb7cf2d1ec"></a><!-- doxytag: member="SecuritySystem.h::SendGatewayInfo" ref="a46495fd42c19f6703e4663cb7cf2d1ec" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendGatewayInfo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00306">306</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00072">Type_Gateinfo</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                            {

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendGatewayInfo, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {

                <span class="comment">//Generate xPL head with type security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a97711ca78fae9dccbf1d55625f99249d" title="Part of the security schema.">Type_Gateinfo</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;protocol=xPL\n&quot;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;description=Alarm system designed for Home Automation\n&quot;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;version=Alpha release\n&quot;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;author=Jarrod Neven\n&quot;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;info-url=www.neven.info\n&quot;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;zone-count=&quot;</span>);
                itoa(<a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                UDPPutArray(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,strlen(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>));
                UDPPut(<span class="charliteral">&#39;\n&#39;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;area-count=&quot;</span>);
                itoa(<a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                UDPPutArray(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,strlen(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>));
                UDPPut(<span class="charliteral">&#39;\n&#39;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;gateway-commands=arm|arm-home|arm-away|arm-latchkey|disarm|panic|isolate|bypass|enable\n&quot;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;zone-commands=arm|isolate|bypass|enable\n&quot;</span>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;area-commands=arm,isolate,bypass,enable\n&quot;</span>);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;}\n&quot;</span>);

                <span class="comment">// Now transmit it.</span>
                UDPFlush();


<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;SendGatewayInfo Message Sent\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        } <span class="comment">// UDPIsPutReady(XPLSocket)</span>


} <span class="comment">//SendGatewayInfo</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a46495fd42c19f6703e4663cb7cf2d1ec_cgraph.svg" width="451" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a46495fd42c19f6703e4663cb7cf2d1ec_icgraph.svg" width="731" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0a59aa6a73171b98b88cf2f9070ceac4"></a><!-- doxytag: member="SecuritySystem.h::SendIPValue" ref="a0a59aa6a73171b98b88cf2f9070ceac4" args="(IP_ADDR IPVal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendIPValue </td>
          <td>(</td>
          <td class="paramtype">IP_ADDR&#160;</td>
          <td class="paramname"><em>IPVal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00871">871</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>Referenced by <a class="el" href="_security_x_p_l_sender_8c_source.html#l00814">SendConfigCurrent()</a>.</p>
<div class="fragment"><pre class="fragment">                                {
    BYTE IPDigit[4];
        BYTE i;

        <span class="keywordflow">for</span>(i = 0; i &lt; <span class="keyword">sizeof</span>(IP_ADDR); i++) {
            uitoa((WORD)IPVal.v[i], IPDigit);
                UDPPutString(IPDigit);
                <span class="keywordflow">if</span>(i == <span class="keyword">sizeof</span>(IP_ADDR)-1)
                        <span class="keywordflow">break</span>;
                UDPPutROMString((ROM <span class="keywordtype">char</span> *)<span class="stringliteral">&quot;.&quot;</span>);
        }

} <span class="comment">// SendIPValue</span>
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a0a59aa6a73171b98b88cf2f9070ceac4_icgraph.svg" width="438" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae149da75e2b494aa56f4976837706565"></a><!-- doxytag: member="SecuritySystem.h::SendZoneInfo" ref="ae149da75e2b494aa56f4976837706565" args="(int TheZone)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendZoneInfo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheZone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">637</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00044">AlarmTypesText</a>, <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="x_p_l_8h_source.html#l00006">BOOL</a>, <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="_security_system_8h_source.html#l00012">DEVICEDESCLENGTH</a>, <a class="el" href="_security_system_8h_source.html#l00044">EEDATASTART_DEVICEDESC</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8c_source.html#l01467">isZoneMemberOfArea()</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00071">Type_Zoneinfo</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>, <a class="el" href="_security_system_8c_source.html#l00143">ZoneConfig</a>, and <a class="el" href="_security_system_8c_source.html#l00058">ZoneTypesText</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                                {

        <span class="keywordtype">int</span> <span class="keywordtype">short</span> iTotal;
        <a class="code" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> isFirstZone = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendZoneInfo, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                <span class="comment">//security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014aad65302b4ad734d48c32cb1ce9232392" title="Part of the security schema.">Type_Zoneinfo</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;zone=&quot;</span>);
                itoa(TheZone, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                UDPPutArray(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,strlen(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>));
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nzone-type=&quot;</span>);
                UDPPutROMString((ROM BYTE*) <a class="code" href="_security_system_8c.html#aa5d4120799cb431593bcf942bea5e521" title="determines the text outputed in the xpl message for each of the zone types">ZoneTypesText</a>[<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].ZoneType]);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nalarm-type=&quot;</span>);
                UDPPutROMString((ROM BYTE*) <a class="code" href="_security_system_8c.html#a8cba7131f5350817bd065e867459fa69" title="determines the text outputed in the xPL message for each of the alarm types">AlarmTypesText</a>[<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].ZoneAlarmType]);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\narea-list=&quot;</span>);

                iTotal = 0;
                <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#a290b0da69aaf212aa38c219c45a6d8a9">isZoneMemberOfArea</a>(TheZone, <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>) == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {
                                <span class="keywordflow">if</span> (!isFirstZone) UDPPut(<span class="charliteral">&#39;,&#39;</span>);
                                isFirstZone = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                                UDPPut(<span class="charliteral">&#39;0&#39;</span>+ <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>);
                                iTotal++;
                        } <span class="comment">// isZoneMemberOfArea(TheZone, iCount)</span>
                }<span class="comment">// for iCount</span>

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\narea-count=&quot;</span>);
                itoa(iTotal, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                UDPPutArray(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,strlen(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>));

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nroom=&quot;</span>);

                <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = <a class="code" href="_security_system_8h.html#aa099c08420f2e838607142a7edaa8aa8">EEDATASTART_DEVICEDESC</a>;
                <span class="keywordflow">if</span> (TheZone != 0)
                        <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> += ((int)TheZone * <a class="code" href="_security_system_8h.html#a61145d9f711460b73af75ef123fc76f6">DEVICEDESCLENGTH</a>) + 1;

                XEEReadArray ((DWORD) <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a> , (BYTE) DEVICEDESCLENGTH);
                TCPPutArray(sktHTTP, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>, DEVICEDESCLENGTH);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n}\n&quot;</span>);

                <span class="comment">// Now transmit it.</span>
                UDPFlush();

        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

} <span class="comment">// SendZoneInfo</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ae149da75e2b494aa56f4976837706565_cgraph.svg" width="486" height="126" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ae149da75e2b494aa56f4976837706565_icgraph.svg" width="702" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5583c2b95797b8210dfe1b1a5e516c2d"></a><!-- doxytag: member="SecuritySystem.h::SendZoneList" ref="a5583c2b95797b8210dfe1b1a5e516c2d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendZoneList </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00545">545</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00006">BOOL</a>, <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00074">Type_Zonelist</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00014">xPLMsgKey</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                         {

        <a class="code" href="x_p_l_8h.html#ae4cc35dcc70810fa972cc8a5185a28fa">BOOL</a> isFirstZone = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendZoneList, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                <span class="comment">//security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a68e81d4a483aae55f1a831d5cfa51fba" title="Part of the security schema.">Type_Zonelist</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;zone-list=&quot;</span>);

                <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                        <span class="keywordflow">if</span> (!isFirstZone) UDPPut(<span class="charliteral">&#39;,&#39;</span>);
                        isFirstZone = <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
                        itoa(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>, <a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>);
                        UDPPutArray(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>,strlen(<a class="code" href="x_p_l_8c.html#ab1bd647d7b5e8841a1378eedabb62c2e" title="Security, were most of it is at.">xPLMsgKey</a>));
                }<span class="comment">// for iCount</span>

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n}\n&quot;</span>);

                <span class="comment">// Now transmit it.</span>
                UDPFlush();

        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>

} <span class="comment">// SendZoneList</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a5583c2b95797b8210dfe1b1a5e516c2d_cgraph.svg" width="419" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a5583c2b95797b8210dfe1b1a5e516c2d_icgraph.svg" width="699" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7fdbfa1929e90a45cc905c6276ab7cae"></a><!-- doxytag: member="SecuritySystem.h::SendZoneStat" ref="a7fdbfa1929e90a45cc905c6276ab7cae" args="(int TheZone)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendZoneStat </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheZone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l01180">1180</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="_security_system_8c_source.html#l00044">AlarmTypesText</a>, <a class="el" href="x_p_l_8h_source.html#l00052">Class_Config</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00067">Type_Areastat</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>, and <a class="el" href="_security_system_8c_source.html#l00143">ZoneConfig</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                                {


        <span class="keywordtype">char</span> TempVal[3];

        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendZoneStat, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                <span class="comment">//security.gateway</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba14f0290b427ed1601cbd6b99072f4401">Class_Config</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014abc2a5ebedc397c760915df455e5f20a5" title="Part of the security schema.">Type_Areastat</a>);                     

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;zone=&quot;</span>);
                uitoa(TheZone,  TempVal);
                UDPPut((<span class="keywordtype">char</span> *)TempVal);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\narmed=&quot;</span>);
                <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].IsArmed == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;true&quot;</span>);
                <span class="keywordflow">else</span>
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;false&quot;</span>);

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nalert=&quot;</span>);
                <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].IsTriggered == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;true&quot;</span>);
                <span class="keywordflow">else</span>
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;false&quot;</span>);

                <span class="comment">//state</span>
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nstate=&quot;</span>);
                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].IsIsolated) 
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;isolated&quot;</span>);
                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].IsBypassed) 
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;bypassed&quot;</span>);
                <span class="keywordflow">else</span> 
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;enabled&quot;</span>);


                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\nalarm=&quot;</span>);
                <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].IsAlarmed == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>) {

                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;true\nalarm-type=&quot;</span>);
                        UDPPutROMString(<a class="code" href="_security_system_8c.html#a8cba7131f5350817bd065e867459fa69" title="determines the text outputed in the xPL message for each of the alarm types">AlarmTypesText</a>[<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].ZoneAlarmType]);
                }<span class="comment">//     IsAlarmed == TRUE</span>

                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\ntamper=&quot;</span>);
                <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[TheZone].IsTampered == <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;true&quot;</span>);
                <span class="keywordflow">else</span>
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;false&quot;</span>);


                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n}\n&quot;</span>);

                <span class="comment">// Now transmit it.</span>
                UDPFlush();

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;SendZoneStat sent&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>


} <span class="comment">//SendGateStat</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a7fdbfa1929e90a45cc905c6276ab7cae_cgraph.svg" width="424" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a7fdbfa1929e90a45cc905c6276ab7cae_icgraph.svg" width="704" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab01e7f6872c9f26dd9f91bc24f43f4b6"></a><!-- doxytag: member="SecuritySystem.h::SendZoneStateMsg" ref="ab01e7f6872c9f26dd9f91bc24f43f4b6" args="(Zone_States MessageType, int TheZone)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendZoneStateMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_security_system_8h.html#abdc99e93ae47c7d6cb907274a3018ff4">Zone_States</a>&#160;</td>
          <td class="paramname"><em>MessageType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>TheZone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create and send the xPL message for a change in state within a zone. This only covers Tamper, Trigger and normal events, not alarmed</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">MessageType</td><td>only support Tamper, Trigger and normal events </td></tr>
    <tr><td class="paramname">TheZone</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_security_x_p_l_sender_8c_source.html#l00075">75</a> of file <a class="el" href="_security_x_p_l_sender_8c_source.html">SecurityXPLSender.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00053">Class_Security</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_security_system_8h_source.html#l00155">StateNormal</a>, <a class="el" href="_security_system_8h_source.html#l00157">StateTamper</a>, <a class="el" href="_security_system_8h_source.html#l00156">StateTrigger</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00065">Type_Zone</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00780">IOTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                                                             {

        <span class="keywordtype">char</span> strZoneID[3];
        
        <span class="comment">//Check if we have a MAC transmit port, if not then shit yourself</span>
        <span class="keywordflow">if</span> (!UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;#ERROR# SendZoneStateMsg, no MAC transmit port\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        }
        <span class="keywordflow">else</span> {
                
                itoa(TheZone, strZoneID);

                <span class="comment">// Generate xPL head with type security.zone</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba044979f8b65ecedf0ca73e5ab66bd7ad">Class_Security</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a898c235db41f75422dc1b6870ab35fa9" title="Part of the security schema.">Type_Zone</a>);
                        
                        
                <span class="keywordflow">if</span> (MessageType == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfa28c4bd56c6dff19d5f2741a0cb5ed47f" title="Since last check the zone has changes to Triggered.">StateTrigger</a>) {
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=alert\nzone=&quot;</span>);
                        UDPPutArray(strZoneID,strlen(strZoneID));
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n}\n&quot;</span>);

                }
                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MessageType == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaef85932220f85c5f09ff9f3999755180" title="Since last check the zone has changes to Tampered.">StateTamper</a>) {
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=tamper\nzone=&quot;</span>);
                        UDPPutArray(strZoneID,strlen(strZoneID));
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n}\n&quot;</span>);
                        
                }
                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MessageType == <a class="code" href="_security_system_8h.html#aa6c45927fecfdf58fd988dacbeca2fbfaff695d83533d89f59fa409f3d0301875" title="Since last check the zone has changed to normal.">StateNormal</a>) {
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;event=normal\nzone=&quot;</span>);
                        UDPPutArray(strZoneID,strlen(strZoneID));
                        UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;\n}\n&quot;</span>);
                        
                }

                <span class="comment">// Now transmit it.</span>
                UDPFlush();

        }<span class="comment">//UDPIsPutReady(XPLSocket)</span>
}<span class="comment">// SendZoneStateMsg</span>
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ab01e7f6872c9f26dd9f91bc24f43f4b6_cgraph.svg" width="467" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ab01e7f6872c9f26dd9f91bc24f43f4b6_icgraph.svg" width="912" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad005bf137d94f0f8658203f58f89fffb"></a><!-- doxytag: member="SecuritySystem.h::SetArming" ref="ad005bf137d94f0f8658203f58f89fffb" args="(char *TheValue, BOOL IsZone)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetArming </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>TheValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>isZone</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function SetArmingZone PreCondition: None Side Effects: Sets arming flags for zones Overview: Sets the arming flags for the zones based on values in the KVP</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Value</td><td>from xPL message, BOOL is zone - False is Area </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l01537">1537</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="_security_system_8h_source.html#l00008">AREACOUNT</a>, <a class="el" href="_security_system_8c_source.html#l00035">i2Count</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_security_system_8h_source.html#l00191">AreaConfigs::IsChangeFlagged</a>, <a class="el" href="_security_system_8h_source.html#l00173">ZoneConfigs::IsChangeFlagged</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00023">xPLMSGVALUELENGTH</a>, and <a class="el" href="_security_system_8h_source.html#l00007">ZONECOUNT</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>.</p>
<div class="fragment"><pre class="fragment">                                             {

        <span class="keywordtype">int</span> DeviceID;
        <span class="keywordtype">char</span> TempBuffer[3];


        <span class="comment">//if &#39;all&#39; then set all zones to arming</span>
        <span class="keywordflow">if</span> (strncmppgm2ram(TheValue,<span class="stringliteral">&quot;all&quot;</span>,3)) {
                <span class="keywordflow">if</span> (isZone) {
                        <span class="comment">// Loop though all of the zones</span>
                        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#a36673b0aa547051d1b4ee6516939b83b">ZONECOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                                <span class="keywordflow">if</span> ((!<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].IsIsolated) &amp;&amp; (!<a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].IsBypassed)) {
                                        <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                                }
                        } <span class="comment">// for</span>
                } <span class="comment">// isZone</span>
                <span class="keywordflow">else</span> {
                        <span class="comment">// Loop though all of the Area&#39;s</span>
                        <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="_security_system_8h.html#af9feef5e257517789486c320b17e82bd">AREACOUNT</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                                <span class="keywordflow">if</span> ((!<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].IsIsolated) &amp;&amp; (!<a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].IsBypassed)) {
                                        <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a711da45ad4b0c06e1aaee9d2ba6108aa" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                                }
                        } <span class="comment">// for</span>
                }<span class="comment">// !isZone</span>
        }<span class="comment">// if (all)</span>
        <span class="keywordflow">else</span> {

                <span class="comment">// looking for digits seperated by a commar and terminated by new line eg (01, 02 ,3,4,12\n)</span>
                memset(TempBuffer,<span class="charliteral">&#39;\0&#39;</span>, 3);
                <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = 0, <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> =0;<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; <a class="code" href="x_p_l_8h.html#aae5a87b8c5b796965aa8548462ed8f39">xPLMSGVALUELENGTH</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {
                        <span class="keywordflow">if</span> (TheValue[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] == <span class="charliteral">&#39; &#39;</span>) <span class="comment">//ignore spaces</span>
                                <span class="keywordflow">if</span> ((<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> ==0) &amp;&amp; (TheValue[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] == <span class="charliteral">&#39;0&#39;</span>)) <span class="comment">//ignore leading zeros</span>
                                        <span class="keywordflow">if</span> ((TheValue[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] == <span class="charliteral">&#39;,&#39;</span>) || (TheValue[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] == <span class="charliteral">&#39;\n&#39;</span>)) {
                                                <span class="comment">//make sure we have data first</span>
                                                <span class="keywordflow">if</span> (!<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> == 0) {
                                                        DeviceID = atoi(TempBuffer);
                                                        <span class="comment">// ensure that the zone is valid, if so arm it</span>
                                                        <span class="keywordflow">if</span> (isZone) {
                                                                <span class="keywordflow">if</span> ((DeviceID &lt; ZONECOUNT) &amp;&amp; (DeviceID != 0)) <a class="code" href="_security_system_8c.html#af027bc313be80301e927d4717cb0dc90" title="Stores each Zones configuration information.">ZoneConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_zone_configs.html#a3060ff1a56645c2b505274a4dd455582" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                                                        }
                                                        <span class="keywordflow">if</span> (!isZone) {
                                                                <span class="keywordflow">if</span> ((DeviceID &lt; AREACOUNT) &amp;&amp; (DeviceID != 0)) <a class="code" href="_security_system_8c.html#a6d79e0918c6b94528f6283856d663a9b" title="Stores each Area configuration information.">AreaConfig</a>[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>].<a class="code" href="struct_area_configs.html#a711da45ad4b0c06e1aaee9d2ba6108aa" title="Used for state changes.">IsChangeFlagged</a> = <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
                                                        }
                                                        <span class="keywordflow">if</span> (TheValue[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>] == <span class="charliteral">&#39;\n&#39;</span>) <span class="keywordflow">break</span>; <span class="comment">// signals the end of the line</span>
                                                        memset(TempBuffer,<span class="charliteral">&#39;\0&#39;</span>, 3);
                                                }<span class="comment">//(!i2Count == 0)</span>
                                        }<span class="comment">// ((TheValue[iCount] == &#39;,&#39;) || (TheValue[iCount] == &#39;\n&#39;))</span>
                                        <span class="keywordflow">else</span> {
                                                TempBuffer[<a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>] = TheValue[<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>];
                                                <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>++;
                                        }

                }<span class="comment">// for</span>

        } <span class="comment">// else</span>

} <span class="comment">// SetArmingZone</span>
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ad005bf137d94f0f8658203f58f89fffb_icgraph.svg" width="1134" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae777555850cf9c897f46c8407ce1729f"></a><!-- doxytag: member="SecuritySystem.h::SMTPQueueEmail" ref="ae777555850cf9c897f46c8407ce1729f" args="(SMTP_SendTypes Email_Type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SMTPQueueEmail </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_security_system_8h.html#ac565b3414da111ba78aef21e6e4ccc6e">SMTP_SendTypes</a>&#160;</td>
          <td class="paramname"><em>Email_Type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Places a new email in the SMTP queue to be processed (sent) </p>

<p>Definition at line <a class="el" href="_s_m_t_p_8c_source.html#l00613">613</a> of file <a class="el" href="_s_m_t_p_8c_source.html">SMTP.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8h_source.html#l00311">SMTPTaskLists::FreePosition</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00201">putsUART</a>, <a class="el" href="_security_system_8h_source.html#l00217">xPLConfigs::SMTP_Active</a>, <a class="el" href="_security_system_8h_source.html#l00304">SMTPTaskStack::SMTP_SendType</a>, <a class="el" href="_security_system_8h_source.html#l00297">SMTP_SM_InQ</a>, <a class="el" href="_security_system_8h_source.html#l00305">SMTPTaskStack::SMTP_State</a>, <a class="el" href="_security_system_8h_source.html#l00057">SMTPSMSIZE</a>, <a class="el" href="_security_system_8h_source.html#l00312">SMTPTaskLists::Task</a>, and <a class="el" href="_security_system_8c_source.html#l00136">xPLConfig</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>, and <a class="el" href="_security_system_8c_source.html#l00916">StateChangeToAlarming()</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {

        <span class="keywordtype">char</span> TempString[3];

        <span class="comment">// If emails are not active, drop out and do nothing</span>
        <span class="keywordflow">if</span>(<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#ad7a2f7ae853ee440f60271813c6d6916" title="Disable emails.">SMTP_Active</a> == <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>)
                <span class="keywordflow">return</span>;

<span class="preprocessor">        #if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Email placed in queue \r\n  - SMTP task position&quot;</span>);
                uitoa(<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#a252586a850ff6e288645a8a42adb50a6" title="Task number that is free to create a new task in.">FreePosition</a>,  TempString);
                <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempString);
                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);
<span class="preprocessor">        #endif</span>
<span class="preprocessor"></span>
        <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#a252586a850ff6e288645a8a42adb50a6" title="Task number that is free to create a new task in.">FreePosition</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#ad7d5f9f143e2b81309862ac4e9375751" title="Type of email to be sent.">SMTP_SendType</a> = Email_Type;
        <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#a252586a850ff6e288645a8a42adb50a6" title="Task number that is free to create a new task in.">FreePosition</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#a79e69c016dcf680ccb574f0c9c88ed31" title="Current state of the task (State Machine)">SMTP_State</a> = <a class="code" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3ba51e3f81d22665d7ef84b971a484335bf">SMTP_SM_InQ</a>;

        <span class="comment">// Increaments the Free position, ready for the next task.</span>
        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#a252586a850ff6e288645a8a42adb50a6" title="Task number that is free to create a new task in.">FreePosition</a> &lt; (<a class="code" href="_security_system_8h.html#a3d9716c1403629a6282a6ad8a7300326">SMTPSMSIZE</a>-1))
                <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#a252586a850ff6e288645a8a42adb50a6" title="Task number that is free to create a new task in.">FreePosition</a>++;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#a252586a850ff6e288645a8a42adb50a6" title="Task number that is free to create a new task in.">FreePosition</a> &gt;= (<a class="code" href="_security_system_8h.html#a3d9716c1403629a6282a6ad8a7300326">SMTPSMSIZE</a>-1))
                <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#a252586a850ff6e288645a8a42adb50a6" title="Task number that is free to create a new task in.">FreePosition</a> =0;


} <span class="comment">//SMTPQueueEmail</span>
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_ae777555850cf9c897f46c8407ce1729f_icgraph.svg" width="1254" height="243" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa3464edbc8a2b00d44aff04588ed10ef"></a><!-- doxytag: member="SecuritySystem.h::SMTPTaskProcess" ref="aa3464edbc8a2b00d44aff04588ed10ef" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SMTPTaskProcess </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Managers the scheduled sending of emails. </p>

<p>Definition at line <a class="el" href="_s_m_t_p_8c_source.html#l00412">412</a> of file <a class="el" href="_s_m_t_p_8c_source.html">SMTP.c</a>.</p>

<p>References <a class="el" href="_security_system_8h_source.html#l00310">SMTPTaskLists::CurentTask</a>, <a class="el" href="_security_system_8h_source.html#l00012">DEVICEDESCLENGTH</a>, <a class="el" href="x_p_l_8h_source.html#l00004">FALSE</a>, <a class="el" href="_security_system_8h_source.html#l00311">SMTPTaskLists::FreePosition</a>, <a class="el" href="_security_system_8c_source.html#l00035">i2Count</a>, <a class="el" href="_security_system_8c_source.html#l00039">LastZoneAlarmed</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="_hardware_profile_8h_source.html#l00201">putsUART</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00030">SMPTTestResult</a>, <a class="el" href="_security_system_8h_source.html#l00217">xPLConfigs::SMTP_Active</a>, <a class="el" href="_security_system_8h_source.html#l00290">SMTP_Alarmed</a>, <a class="el" href="_security_system_8h_source.html#l00288">SMTP_Arm</a>, <a class="el" href="_security_system_8h_source.html#l00289">SMTP_Disarm</a>, <a class="el" href="_security_system_8h_source.html#l00292">SMTP_InternetRestored</a>, <a class="el" href="_security_system_8h_source.html#l00213">xPLConfigs::SMTP_Password</a>, <a class="el" href="_security_system_8h_source.html#l00214">xPLConfigs::SMTP_Port</a>, <a class="el" href="_security_system_8h_source.html#l00291">SMTP_Reset</a>, <a class="el" href="_security_system_8h_source.html#l00304">SMTPTaskStack::SMTP_SendType</a>, <a class="el" href="_security_system_8h_source.html#l00211">xPLConfigs::SMTP_Server</a>, <a class="el" href="_security_system_8h_source.html#l00299">SMTP_SM_Done</a>, <a class="el" href="_security_system_8h_source.html#l00297">SMTP_SM_InQ</a>, <a class="el" href="_security_system_8h_source.html#l00298">SMTP_SM_Working</a>, <a class="el" href="_security_system_8h_source.html#l00305">SMTPTaskStack::SMTP_State</a>, <a class="el" href="_security_system_8h_source.html#l00287">SMTP_Test</a>, <a class="el" href="_security_system_8h_source.html#l00210">xPLConfigs::SMTP_To</a>, <a class="el" href="_security_system_8h_source.html#l00212">xPLConfigs::SMTP_User</a>, <a class="el" href="_security_system_8h_source.html#l00057">SMTPSMSIZE</a>, <a class="el" href="_security_system_8h_source.html#l00312">SMTPTaskLists::Task</a>, <a class="el" href="_security_system_8c_source.html#l00037">UserID</a>, and <a class="el" href="_security_system_8c_source.html#l00136">xPLConfig</a>.</p>

<p>Referenced by <a class="el" href="x_p_l_8c_source.html#l00263">XPLTasks()</a>.</p>
<div class="fragment"><pre class="fragment">                           {

<span class="preprocessor">#if defined(STACK_USE_SMTP_CLIENT)</span>
<span class="preprocessor"></span>
<span class="keyword">static</span> BYTE RAMStringBody[50];
<span class="keywordtype">char</span> DeviceDesc[<a class="code" href="_security_system_8h.html#a61145d9f711460b73af75ef123fc76f6">DEVICEDESCLENGTH</a>];
<span class="keywordtype">int</span> ReturnResult;

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <span class="keywordtype">char</span> TempString[4]; <span class="comment">// prints the status of the SMTP task machine</span>
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="comment">// Manages the Current Task and keeps it up to date.</span>
<span class="keywordflow">if</span> (<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#a79e69c016dcf680ccb574f0c9c88ed31" title="Current state of the task (State Machine)">SMTP_State</a> == <a class="code" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3ba3da8cf88892b271e88d8defa9dff74c1">SMTP_SM_Done</a>) {
        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#a252586a850ff6e288645a8a42adb50a6" title="Task number that is free to create a new task in.">FreePosition</a> == <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>) {
                <span class="keywordflow">return</span>;
        }
        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a> &lt; (<a class="code" href="_security_system_8h.html#a3d9716c1403629a6282a6ad8a7300326">SMTPSMSIZE</a>-1))
                <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>++;
        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a> &gt;= (<a class="code" href="_security_system_8h.html#a3d9716c1403629a6282a6ad8a7300326">SMTPSMSIZE</a>-1))
                <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a> =0;
        <span class="keywordflow">return</span>;
}

<span class="comment">//Check to see if emails are active</span>
<span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#ad7a2f7ae853ee440f60271813c6d6916" title="Disable emails.">SMTP_Active</a> == <a class="code" href="x_p_l_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>) {
        <span class="comment">// Do nothing in this case</span>
<span class="preprocessor">        #if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Doing nothing with SMTP task as SMTP is not active\r\n&quot;</span>);
<span class="preprocessor">        #endif</span>
<span class="preprocessor"></span>        <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#a79e69c016dcf680ccb574f0c9c88ed31" title="Current state of the task (State Machine)">SMTP_State</a> = <a class="code" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3ba3da8cf88892b271e88d8defa9dff74c1">SMTP_SM_Done</a>;
        <span class="keywordflow">return</span>;
}

<span class="comment">/*  Sample code</span>
<span class="comment">        // Increaments the Free position, ready for the next task.</span>
<span class="comment">        if (SMTPTaskList.FreePosition &lt; (SMTPSMSIZE-1))</span>
<span class="comment">                SMTPTaskList.FreePosition++;</span>
<span class="comment">        else if(SMTPTaskList.FreePosition &gt;= (SMTPSMSIZE-1))</span>
<span class="comment">                SMTPTaskList.FreePosition =0;</span>
<span class="comment">*/</span>


        <span class="keywordflow">switch</span>(<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#a79e69c016dcf680ccb574f0c9c88ed31" title="Current state of the task (State Machine)">SMTP_State</a> ) {

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3ba51e3f81d22665d7ef84b971a484335bf">SMTP_SM_InQ</a>:

                        <span class="keywordflow">if</span>(SMTPBeginUsage()) {

                                <span class="comment">// Note that these strings must stay allocated in</span>
                                <span class="comment">// memory until SMTPIsBusy() returns FALSE.  To</span>
                                <span class="comment">// guarantee that the C compiler does not reuse this</span>
                                <span class="comment">// memory, you must allocate the strings as static.</span>

                                memset(RAMStringBody, <span class="charliteral">&#39;\0&#39;</span>,50);

                                SMTPClient.To.szRAM = <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a8778223aa7dbf70c6bb0b0be39cb85c1" title="Email address to send messages to.">SMTP_To</a>;
                                SMTPClient.From.szROM = (ROM BYTE*) <span class="stringliteral">&quot;\&quot;Alarm System\&quot; &lt;no-reply@redspartan.com.au&gt;&quot;</span>;
                                SMTPClient.ROMPointers.From = 1;
                                SMTPClient.Server.szRAM = <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a8156a5ee6327dc7845895b0fa515526a" title="POP3 server.">SMTP_Server</a>;
                                SMTPClient.Username.szRAM = <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a40dc641766a810ac5d18938b37dd994a" title="POP3 User name.">SMTP_User</a>;
                                SMTPClient.Password.szRAM = <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#a4277070293a247ee4fde233694fb45df" title="POP3 Password.">SMTP_Password</a>;
                                SMTPClient.ServerPort = <a class="code" href="_security_system_8c.html#adaa5e54872217e9a75a2bfdadf293d12" title="Configuration entries.">xPLConfig</a>.<a class="code" href="structx_p_l_configs.html#aee37c1d00389d706372a278f1d768ba9" title="Port number.">SMTP_Port</a>;
                                <span class="comment">//#if defined(STACK_USE_SSL)</span>
                                <span class="comment">//      SMTPClient.UseSSL = FALSE; //xPLConfig.SMTP_UseSSL;</span>
                                <span class="comment">//#endif</span>

                                <span class="keywordflow">if</span> (<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#ad7d5f9f143e2b81309862ac4e9375751" title="Type of email to be sent.">SMTP_SendType</a> == <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71ab3c9d4bf0dca93207eab351655af17df">SMTP_Test</a>) {
                                        SMTPClient.Subject.szROM = (ROM BYTE*)<span class="stringliteral">&quot;This is a test email&quot;</span>;
                                        SMTPClient.ROMPointers.Subject = 1;
                                        SMTPClient.Body.szROM = (ROM BYTE*)<span class="stringliteral">&quot;If you see this message the test worked\r\nHave a nice day :)\r\n&quot;</span>;
                                        SMTPClient.ROMPointers.Body = 1;
                                }

                                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#ad7d5f9f143e2b81309862ac4e9375751" title="Type of email to be sent.">SMTP_SendType</a> == <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71a621558074564a0ac1ed2b6cbcd0a8fc6">SMTP_Arm</a>) {
                                        SMTPClient.Subject.szROM = (ROM BYTE*)<span class="stringliteral">&quot;System Armed&quot;</span>;
                                        SMTPClient.ROMPointers.Subject = 1;
                                        memcpypgm2ram(RAMStringBody, (ROM <span class="keywordtype">void</span>*)<span class="stringliteral">&quot;Armed by user:&quot;</span>,14);
                                        strcat(RAMStringBody, <a class="code" href="_security_system_8c.html#af1c18f7532835833de15218c3aa5d146" title="Name of user.">UserID</a>);
                                        SMTPClient.Body.szRAM = RAMStringBody;
                                }
                                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#ad7d5f9f143e2b81309862ac4e9375751" title="Type of email to be sent.">SMTP_SendType</a> == <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71a24aa6860db5441d0687ad842d9e4f86f">SMTP_Disarm</a>) {
                                        SMTPClient.Subject.szROM = (ROM BYTE*)<span class="stringliteral">&quot;System Disarmed&quot;</span>;
                                        SMTPClient.ROMPointers.Subject = 1;
                                        memcpypgm2ram(RAMStringBody, (ROM <span class="keywordtype">void</span>*)<span class="stringliteral">&quot;Disarmed by user:&quot;</span>,17);
                                        strcat(RAMStringBody, <a class="code" href="_security_system_8c.html#af1c18f7532835833de15218c3aa5d146" title="Name of user.">UserID</a>);
                                        SMTPClient.Body.szRAM = RAMStringBody;
                                }

                                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#ad7d5f9f143e2b81309862ac4e9375751" title="Type of email to be sent.">SMTP_SendType</a> == <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71aeefaacd7ffe9237ff8436559742579b7">SMTP_Alarmed</a>) {
                                        SMTPClient.Subject.szROM = (ROM BYTE*)<span class="stringliteral">&quot;Alarm has been triggered&quot;</span>;
                                        SMTPClient.ROMPointers.Subject = 1;
                                        memcpypgm2ram(RAMStringBody, (ROM <span class="keywordtype">void</span>*)<span class="stringliteral">&quot;Zone number:&quot;</span>,12);
                                        uitoa(<a class="code" href="_security_system_8c.html#ab4811cda05bf084486e0e786e68498ea" title="The last zone to change to alarmed state. used in SMTP.c.">LastZoneAlarmed</a>,  DeviceDesc);
                                        strcat(RAMStringBody, DeviceDesc);
                                        memcpypgm2ram(RAMStringBody, (ROM <span class="keywordtype">void</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>,2);

                                        memcpypgm2ram(RAMStringBody, (ROM <span class="keywordtype">void</span>*)<span class="stringliteral">&quot;Zone description:&quot;</span>,17);
                                        <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> = <a class="code" href="_security_system_8h.html#a61145d9f711460b73af75ef123fc76f6">DEVICEDESCLENGTH</a>;
                                        <span class="keywordflow">if</span> (<a class="code" href="_security_system_8c.html#ab4811cda05bf084486e0e786e68498ea" title="The last zone to change to alarmed state. used in SMTP.c.">LastZoneAlarmed</a> != 0)
                                                <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a> += (<a class="code" href="_security_system_8c.html#ab4811cda05bf084486e0e786e68498ea" title="The last zone to change to alarmed state. used in SMTP.c.">LastZoneAlarmed</a>) * <a class="code" href="_security_system_8h.html#a61145d9f711460b73af75ef123fc76f6">DEVICEDESCLENGTH</a> + 1;
                                        XEEReadArray ((DWORD) <a class="code" href="_security_system_8c.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a>, DeviceDesc , (BYTE) <a class="code" href="_security_system_8h.html#a61145d9f711460b73af75ef123fc76f6">DEVICEDESCLENGTH</a>);
                                        strncat(RAMStringBody, DeviceDesc, <a class="code" href="_security_system_8h.html#a61145d9f711460b73af75ef123fc76f6">DEVICEDESCLENGTH</a>);
                                        memcpypgm2ram(RAMStringBody, (ROM <span class="keywordtype">void</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>,2);

                                        SMTPClient.Body.szRAM = RAMStringBody;
                                }

                                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#ad7d5f9f143e2b81309862ac4e9375751" title="Type of email to be sent.">SMTP_SendType</a> == <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71aee6aa005c1fc5d9f46f5aca5dd3660bc">SMTP_Reset</a>) {
                                        SMTPClient.Subject.szROM = (ROM BYTE*)<span class="stringliteral">&quot;Device restarted&quot;</span>;
                                        SMTPClient.ROMPointers.Subject = 1;
                                        SMTPClient.Body.szROM = (ROM BYTE*)<span class="stringliteral">&quot;The device has been restarted. It is not known why. \r\nCurrently Disarmed&quot;</span>;
                                        SMTPClient.ROMPointers.Body = 1;

                                }

                                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#ad7d5f9f143e2b81309862ac4e9375751" title="Type of email to be sent.">SMTP_SendType</a> == <a class="code" href="_security_system_8h.html#adf08ba7d4e8e4395881e05cb2fabde71ac80b1dbf6a5e492ce85ff9440d60c0ac">SMTP_InternetRestored</a>) {
                                        SMTPClient.Subject.szROM = (ROM BYTE*)<span class="stringliteral">&quot;Internet has been restored&quot;</span>;
                                        SMTPClient.ROMPointers.Subject = 1;
                                        SMTPClient.Body.szROM = (ROM BYTE*)<span class="stringliteral">&quot;Connection to the net was lost, it is back now.&quot;</span>;
                                        SMTPClient.ROMPointers.Body = 1;
                                }

                                <span class="keywordflow">else</span> {
                                        SMTPClient.Subject.szROM = (ROM BYTE*)<span class="stringliteral">&quot;Internal error with SMTP&quot;</span>;
                                        SMTPClient.ROMPointers.Subject = 1;
                                        SMTPClient.Body.szROM = (ROM BYTE*)<span class="stringliteral">&quot;You are seeing this message because something is broken. Get Help!&quot;</span>;
                                        SMTPClient.ROMPointers.Body = 1;
                                }


                                <span class="comment">// inform the SMTP Stack that email is ready for consumption</span>
                                SMTPSendMail();

                                <span class="comment">// inc the task state</span>
                                <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#a79e69c016dcf680ccb574f0c9c88ed31" title="Current state of the task (State Machine)">SMTP_State</a> = <a class="code" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3bab4dd2e486984f59e46471623da30664b">SMTP_SM_Working</a>;

<span class="preprocessor">                                #if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;email built\r\n&quot;</span>);
<span class="preprocessor">                                #endif</span>
<span class="preprocessor"></span>
                        }


                        <span class="keywordflow">else</span> {
                                <span class="comment">// Something went wrong</span>
                                <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#a79e69c016dcf680ccb574f0c9c88ed31" title="Current state of the task (State Machine)">SMTP_State</a> = <a class="code" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3ba3da8cf88892b271e88d8defa9dff74c1">SMTP_SM_Done</a>;
<span class="preprocessor">                                #if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;email failed to start\r\n&quot;</span>);
<span class="preprocessor">                                #endif</span>
<span class="preprocessor"></span>
                        }
                        <span class="keywordflow">break</span>;

                <span class="keywordflow">case</span> <a class="code" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3bab4dd2e486984f59e46471623da30664b">SMTP_SM_Working</a>:
                        <span class="keywordflow">if</span>(!SMTPIsBusy()) {

                                <a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#af739e294f161d72b2129fc97ff54555a" title="an array of the tasks, see SMTPTaskStack">Task</a>[<a class="code" href="_security_system_8h.html#a4a27286a5cf26257930ac713fbd78b3b" title="State machine for sending out emails.">SMTPTaskList</a>.<a class="code" href="struct_s_m_t_p_task_lists.html#ab9904ec94e50af81ee513e8b34173db0" title="Task number being processed by the stack at the moment.">CurentTask</a>].<a class="code" href="struct_s_m_t_p_task_stack.html#a79e69c016dcf680ccb574f0c9c88ed31" title="Current state of the task (State Machine)">SMTP_State</a> = <a class="code" href="_security_system_8h.html#abb997235328abd40ef9f7185debb4e3ba3da8cf88892b271e88d8defa9dff74c1">SMTP_SM_Done</a>;

<span class="preprocessor">                                #if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;email completed\r\n&quot;</span>);
<span class="preprocessor">                                #endif</span>
<span class="preprocessor"></span>
                                ReturnResult = (int)SMTPEndUsage();

                                <a class="code" href="_security_system_8h.html#a9cbd255a539aaee43372b00cbc47498e" title="used for testing email">SMPTTestResult</a> = ReturnResult;

<span class="preprocessor">                                #if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;email Response code: &quot;</span>);
                                        ultoa (ReturnResult, TempString);
                                        <a class="code" href="_hardware_profile_8h.html#a83f63fc3181f38af4c937906f34341c8">putsUART</a>(TempString);
                                        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;\r\n&quot;</span>);
<span class="preprocessor">                                #endif</span>
<span class="preprocessor"></span>
                        }<span class="comment">///SMTPIsBusy</span>
<span class="comment"></span>                        <span class="keywordflow">else</span> {
                                <span class="comment">// Email in progress</span>

                        }

                        <span class="keywordflow">break</span>;

        } <span class="comment">//switch</span>


<span class="preprocessor">#endif //#if defined(STACK_USE_SMTP_CLIENT)</span>
<span class="preprocessor"></span>} <span class="comment">//void SMTPTaskProcess(void)</span>
</pre></div>
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_aa3464edbc8a2b00d44aff04588ed10ef_icgraph.svg" width="502" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a05993d6944a2de72b8463a2ca719d3f1"></a><!-- doxytag: member="SecuritySystem.h::xPLFactoryRestart" ref="a05993d6944a2de72b8463a2ca719d3f1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xPLFactoryRestart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Function xPLFactoryRestart PreCondition: None Side Effects: Kills the starting character of the EEProm config data Overview: Performs a factory restart of the device, clearing everything </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00515">515</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>References <a class="el" href="x_p_l_8h_source.html#l00051">Class_HBeat</a>, <a class="el" href="_security_system_8h_source.html#l00042">EEDATASTART_AREA</a>, <a class="el" href="_main_demo_8c_source.html#l00025">EEDATASTART_CONFIG</a>, <a class="el" href="_security_system_8h_source.html#l00040">EEDATASTART_XPL</a>, <a class="el" href="_security_system_8h_source.html#l00041">EEDATASTART_ZONE</a>, <a class="el" href="_security_system_8c_source.html#l00035">iCount</a>, <a class="el" href="_t_c_p_i_p_config_8h_source.html#l00138">MPFS_RESERVE_BLOCK</a>, <a class="el" href="_hardware_profile_8h_source.html#l00204">putrsUART</a>, <a class="el" href="x_p_l_8h_source.html#l00005">TRUE</a>, <a class="el" href="x_p_l_8h_source.html#l00060">Type_END</a>, <a class="el" href="x_p_l_8h_source.html#l00045">xPL_STATUS</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00081">XPLSocket</a>.</p>
<div class="fragment"><pre class="fragment">                             {
        <span class="keywordtype">char</span> TempVal[9];

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;##### Factory restart in progress #####\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="comment">// I dont think this will work as we do not call the StackTasks to send the message</span>

        <span class="comment">// if we have a good socket send the message, if not then do not bother</span>
        <span class="keywordflow">if</span> (UDPIsPutReady(<a class="code" href="x_p_l_8c.html#a8a7b0f54b3a08b018c41f0355a79e659" title="Declares the Microchip IP socket that will be used for processing xPL messages.">XPLSocket</a>)) {
                <span class="comment">// Send header</span>
                <a class="code" href="x_p_l_8c.html#abde6ae0f37ef47bee8e881bba8502169">XPLSendHeader</a>(<a class="code" href="x_p_l_8h.html#a1d49f3afa2112fa9ba4dcad8c37edc57af10c40979d8ddcd078a03ab4cee6baaf">xPL_STATUS</a>, <a class="code" href="x_p_l_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>,<a class="code" href="x_p_l_8h.html#ae9f1d693fc799733052946c52e2c294ba44befdda86d7f36ef171a2385f3ad3b5">Class_HBeat</a>,<a class="code" href="x_p_l_8h.html#adc01a55a0e491806b8d110084b598014a0807e49b316f6fb051b116a381793d0f">Type_END</a>);
                UDPPutROMString((ROM BYTE*) <span class="stringliteral">&quot;interval=0\n}\n&quot;</span>);
                <span class="comment">// Now transmit it.</span>
                UDPFlush();
        }


    XEEBeginWrite(<a class="code" href="_security_system_8h.html#a84d6a5346b04effd1160f34d13abd01c">EEDATASTART_ZONE</a>); <span class="comment">// Zone config</span>
    XEEWrite(0x00); <span class="comment">// 0x00 will cause the xPLLoadEEConfig function to fail and revert to default settings.</span>
    XEEEndWrite();

    XEEBeginWrite(<a class="code" href="_security_system_8h.html#a61748f301d79db0c4ecb09432705d105">EEDATASTART_AREA</a>); <span class="comment">// area config</span>
    XEEWrite(0x00); <span class="comment">// 0x00 will cause the xPLLoadEEConfig function to fail and revert to default settings.</span>
    XEEEndWrite();

    XEEBeginWrite(<a class="code" href="_security_system_8h.html#ae33a92f4e46c1d70d59e71bd1eecc209">EEDATASTART_XPL</a>); <span class="comment">// device config</span>
    XEEWrite(0x00); <span class="comment">// 0x00 will cause the xPLLoadEEConfig function to fail and revert to default settings.</span>
    XEEEndWrite();

    XEEBeginWrite(<a class="code" href="_main_demo_8c.html#a91b87b60e38a5f2cad2d0725a1ae6306">EEDATASTART_CONFIG</a>); <span class="comment">// IP address, this is a part of the TCIP stack</span>
    XEEWrite(0x00); <span class="comment">// 0x00 will cause the xPLLoadEEConfig function to fail and revert to default settings.</span>
    XEEEndWrite();

    <span class="keywordflow">while</span>(XEEIsBusy());

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Clearing config data\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
        <span class="comment">// Blank everything</span>
    <span class="keywordflow">for</span> (<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> = <a class="code" href="_security_system_8h.html#ae33a92f4e46c1d70d59e71bd1eecc209">EEDATASTART_XPL</a>; <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a> &lt; (<a class="code" href="_t_c_p_i_p_config_8h.html#ae744cb7b573b1129e923eb07a9912893">MPFS_RESERVE_BLOCK</a> - 2); <a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>++) {

                XEEBeginWrite(<a class="code" href="_security_system_8c.html#a45c8f1ff198e164451795c949f64747a" title="Counters that are used in a number of places, centraly defined to reduce memory use.">iCount</a>);
                XEEWrite(<span class="charliteral">&#39;.&#39;</span>);
        XEEEndWrite();
                <span class="keywordflow">while</span>(XEEIsBusy());
    }

<span class="preprocessor">#if defined(DEBUG_UART)</span>
<span class="preprocessor"></span>        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;All config data has been deleted. \r\n&quot;</span>);
        <a class="code" href="_hardware_profile_8h.html#afa49df8d2ce2ae222717e01eb8ed070e">putrsUART</a>((ROM <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;Restarting device.............\r\n&quot;</span>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>

    <span class="comment">// perform a Hardware restart</span>
        Reset();

}
</pre></div>
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe src="_security_system_8h_a05993d6944a2de72b8463a2ca719d3f1_cgraph.svg" width="462" height="59" frameborder="0" scrolling="no"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a016286d63fa2bb14fec565ed023b35cf"></a><!-- doxytag: member="SecuritySystem.h::AlarmState" ref="a016286d63fa2bb14fec565ed023b35cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_security_system_8h.html#a8e5064a1f89199b73b816c1be8190bff">Alarm_States</a> <a class="el" href="_security_system_8h.html#a016286d63fa2bb14fec565ed023b35cf">AlarmState</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reflects the state of the alarm. </p>
<p>D E C L A R A T I O N S </p>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00017">17</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l01938">Disarm()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00191">HTTPPrint_AlarmState()</a>, <a class="el" href="_security_system_8c_source.html#l00780">IOTasks()</a>, <a class="el" href="_security_system_8c_source.html#l01249">Panic()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_security_system_8c_source.html#l00993">StateChangeToAlarmed()</a>, <a class="el" href="_security_system_8c_source.html#l00916">StateChangeToAlarming()</a>, and <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>.</p>

</div>
</div>
<a class="anchor" id="a0667a8b5a54137909bfaa3f775b48293"></a><!-- doxytag: member="SecuritySystem.h::AlarmStatesText" ref="a0667a8b5a54137909bfaa3f775b48293" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ROM char* <a class="el" href="_security_system_8h.html#a0667a8b5a54137909bfaa3f775b48293">AlarmStatesText</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Text used for the current state of the alarm. </p>

<p>Definition at line <a class="el" href="_h_t_t_p_variables_8c_source.html#l00035">35</a> of file <a class="el" href="_h_t_t_p_variables_8c_source.html">HTTPVariables.c</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_variables_8c_source.html#l00191">HTTPPrint_AlarmState()</a>.</p>

</div>
</div>
<a class="anchor" id="a8cba7131f5350817bd065e867459fa69"></a><!-- doxytag: member="SecuritySystem.h::AlarmTypesText" ref="a8cba7131f5350817bd065e867459fa69" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ROM char* <a class="el" href="_security_system_8h.html#a8cba7131f5350817bd065e867459fa69">AlarmTypesText</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>determines the text outputed in the xPL message for each of the alarm types </p>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00044">44</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_variables_8c_source.html#l00227">HTTPPrint_AlarmTypeList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00226">SendAlarmingMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01084">SendAreaStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>, and <a class="el" href="_security_x_p_l_sender_8c_source.html#l01180">SendZoneStat()</a>.</p>

</div>
</div>
<a class="anchor" id="a6d79e0918c6b94528f6283856d663a9b"></a><!-- doxytag: member="SecuritySystem.h::AreaConfig" ref="a6d79e0918c6b94528f6283856d663a9b" args="[AREACOUNT]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_area_configs.html">AreaConfigs</a> <a class="el" href="_security_system_8h.html#a6d79e0918c6b94528f6283856d663a9b">AreaConfig</a>[AREACOUNT]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stores each Area configuration information. </p>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00149">149</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>Referenced by <a class="el" href="_security_x_p_l_sender_8c_source.html#l00017">addxPLMessage()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00746">HTTPPrint_AreasAlarmed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00771">HTTPPrint_AreasAlarmType()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00719">HTTPPrint_AreasArmed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00638">HTTPPrint_AreasBypassed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00664">HTTPPrint_AreasIsolated()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00693">HTTPPrint_AreasTriggered()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00823">HTTPPrint_AreaTampered()</a>, <a class="el" href="_e_o_l_8c_source.html#l00154">IsZoneTriggered()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01084">SendAreaStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00132">SendAreaStateMsg()</a>, and <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">SendArmed()</a>.</p>

</div>
</div>
<a class="anchor" id="a35b967426a12072affebab82da722ef3"></a><!-- doxytag: member="SecuritySystem.h::BatteryState" ref="a35b967426a12072affebab82da722ef3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_security_system_8h.html#a387b82967b2a5e7058fa8fa19c98c5aa">BatteryStates</a> <a class="el" href="_security_system_8h.html#a35b967426a12072affebab82da722ef3">BatteryState</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Keeps track of the battery state. </p>

<p>Definition at line <a class="el" href="_battery_8c_source.html#l00026">26</a> of file <a class="el" href="_battery_8c_source.html">Battery.c</a>.</p>

<p>Referenced by <a class="el" href="_battery_8c_source.html#l00144">BatteryTask()</a>, <a class="el" href="_battery_8c_source.html#l00060">HTTPPrint_BatteryStatus()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00965">SendACStat()</a>, and <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>.</p>

</div>
</div>
<a class="anchor" id="a57f58df4fd7d5efb217812f40e79a968"></a><!-- doxytag: member="SecuritySystem.h::i2Count" ref="a57f58df4fd7d5efb217812f40e79a968" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="_security_system_8h.html#a57f58df4fd7d5efb217812f40e79a968">i2Count</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00035">35</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l01122">Arm()</a>, <a class="el" href="_e_o_l_8c_source.html#l00154">IsZoneTriggered()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01084">SendAreaStat()</a>, <a class="el" href="_security_system_8c_source.html#l01537">SetArming()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00412">SMTPTaskProcess()</a>, and <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>.</p>

</div>
</div>
<a class="anchor" id="a45c8f1ff198e164451795c949f64747a"></a><!-- doxytag: member="SecuritySystem.h::iCount" ref="a45c8f1ff198e164451795c949f64747a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="_security_system_8h.html#a45c8f1ff198e164451795c949f64747a">iCount</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Counters that are used in a number of places, centraly defined to reduce memory use. </p>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00035">35</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l01122">Arm()</a>, <a class="el" href="_security_system_8c_source.html#l01192">ArmAway()</a>, <a class="el" href="_security_system_8c_source.html#l01162">ArmHome()</a>, <a class="el" href="_security_system_8c_source.html#l01220">ArmLatchkey()</a>, <a class="el" href="_authenticate_8c_source.html#l00188">Authenticate()</a>, <a class="el" href="_security_system_8c_source.html#l02162">bypassArea()</a>, <a class="el" href="_security_system_8c_source.html#l01091">ClearArmingFlags()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00542">DecodeIntFromGET()</a>, <a class="el" href="_security_system_8c_source.html#l01938">Disarm()</a>, <a class="el" href="_security_system_8c_source.html#l02311">EnableArea()</a>, <a class="el" href="_authenticate_8c_source.html#l00592">HTTPCheckAuth()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00227">HTTPPrint_AlarmTypeList()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00796">HTTPPrint_AreaDesc()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00746">HTTPPrint_AreasAlarmed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00771">HTTPPrint_AreasAlarmType()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00719">HTTPPrint_AreasArmed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00638">HTTPPrint_AreasBypassed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00664">HTTPPrint_AreasIsolated()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00693">HTTPPrint_AreasTriggered()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00823">HTTPPrint_AreaTampered()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00207">HTTPPrint_TypeList()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00570">HTTPPrint_ZoneDesc()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00418">HTTPPrint_ZonesAlarmed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00521">HTTPPrint_ZonesAlarmType()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00546">HTTPPrint_ZonesAreaList()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00394">HTTPPrint_ZonesArmed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00320">HTTPPrint_ZonesBypassed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00443">HTTPPrint_ZonesEntry()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00345">HTTPPrint_ZonesIsolated()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00468">HTTPPrint_ZonesNO()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00596">HTTPPrint_ZonesTampered()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00370">HTTPPrint_ZonesTriggered()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00494">HTTPPrint_ZonesType()</a>, <a class="el" href="_security_system_8c_source.html#l02048">IsolateArea()</a>, <a class="el" href="_e_o_l_8c_source.html#l00154">IsZoneTriggered()</a>, <a class="el" href="_security_system_8c_source.html#l00433">LoadDefaultConfig()</a>, <a class="el" href="_authenticate_8c_source.html#l00487">ModifyUser()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00526">SaveDeviceDescription()</a>, <a class="el" href="x_p_l_8c_source.html#l00969">SaveKVP()</a>, <a class="el" href="_authenticate_8c_source.html#l00447">SaveUserNameEEdata()</a>, <a class="el" href="_authenticate_8c_source.html#l00403">SaveUserPasswordEEdata()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>, <a class="el" href="_security_system_8c_source.html#l00591">SchemaTasks()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00226">SendAlarmingMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00711">SendAreaInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00587">SendAreaList()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01084">SendAreaStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">SendArmed()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00814">SendConfigCurrent()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00545">SendZoneList()</a>, <a class="el" href="_security_system_8c_source.html#l01537">SetArming()</a>, <a class="el" href="_security_system_8c_source.html#l01296">StateChangeToArm()</a>, <a class="el" href="_security_system_8c_source.html#l01411">StateChangeToArmFailed()</a>, <a class="el" href="_authenticate_8c_source.html#l00039">xPLAuthenticate()</a>, <a class="el" href="_security_system_8c_source.html#l00515">xPLFactoryRestart()</a>, <a class="el" href="x_p_l_8c_source.html#l00938">xPLFindArrayInKVP()</a>, <a class="el" href="x_p_l_8c_source.html#l00829">xPLProcess_MsgField()</a>, <a class="el" href="x_p_l_8c_source.html#l00884">xPLProcessMsgCompair()</a>, <a class="el" href="x_p_l_8c_source.html#l00194">xPLSaveEEConfig()</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00300">XPLSendHeartBeat()</a>.</p>

</div>
</div>
<a class="anchor" id="ab4811cda05bf084486e0e786e68498ea"></a><!-- doxytag: member="SecuritySystem.h::LastZoneAlarmed" ref="ab4811cda05bf084486e0e786e68498ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="_security_system_8h.html#ab4811cda05bf084486e0e786e68498ea">LastZoneAlarmed</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The last zone to change to alarmed state. used in <a class="el" href="_s_m_t_p_8c.html" title="All things Email.">SMTP.c</a>. </p>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00039">39</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00412">SMTPTaskProcess()</a>, and <a class="el" href="_security_system_8c_source.html#l00916">StateChangeToAlarming()</a>.</p>

</div>
</div>
<a class="anchor" id="a6fec3fdfff459a953822db2e8ff9b462"></a><!-- doxytag: member="SecuritySystem.h::NTPTestResponse" ref="a6fec3fdfff459a953822db2e8ff9b462" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="_security_system_8h.html#a6fec3fdfff459a953822db2e8ff9b462">NTPTestResponse</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>stores the response from a SNTP test </p>

<p>Definition at line <a class="el" href="_custom_s_n_t_p_8c_source.html#l00137">137</a> of file <a class="el" href="_custom_s_n_t_p_8c_source.html">CustomSNTP.c</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_custom_s_n_t_p_8c_source.html#l00186">HTTPPrint_SNTPTestOutput()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, and <a class="el" href="_custom_s_n_t_p_8c_source.html#l00237">SNTPClient()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b83b71efc87ba66b8d8311363b4296e"></a><!-- doxytag: member="SecuritySystem.h::RejectedPassword" ref="a3b83b71efc87ba66b8d8311363b4296e" args="[USERPASSLENGTH]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="_security_system_8h.html#a3b83b71efc87ba66b8d8311363b4296e">RejectedPassword</a>[USERPASSLENGTH]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tracks that last password that was rejected, useful when adding RFID tags. </p>
<p>D E C L A R A T I O N S </p>

<p>Definition at line <a class="el" href="_authenticate_8c_source.html#l00017">17</a> of file <a class="el" href="_authenticate_8c_source.html">Authenticate.c</a>.</p>

<p>Referenced by <a class="el" href="_authenticate_8c_source.html#l00246">HTTPPrint_RejectPassword()</a>, and <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>.</p>

</div>
</div>
<a class="anchor" id="a9cbd255a539aaee43372b00cbc47498e"></a><!-- doxytag: member="SecuritySystem.h::SMPTTestResult" ref="a9cbd255a539aaee43372b00cbc47498e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="_s_m_t_p_8c.html#a9cbd255a539aaee43372b00cbc47498e">SMPTTestResult</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>used for testing email </p>

<p>Definition at line <a class="el" href="_s_m_t_p_8c_source.html#l00030">30</a> of file <a class="el" href="_s_m_t_p_8c_source.html">SMTP.c</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00170">HTTPPrint_SMTPTestOutput()</a>, <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>, and <a class="el" href="_s_m_t_p_8c_source.html#l00412">SMTPTaskProcess()</a>.</p>

</div>
</div>
<a class="anchor" id="a4a27286a5cf26257930ac713fbd78b3b"></a><!-- doxytag: member="SecuritySystem.h::SMTPTaskList" ref="a4a27286a5cf26257930ac713fbd78b3b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s_m_t_p_task_lists.html">SMTPTaskLists</a> <a class="el" href="_s_m_t_p_8c.html#a4a27286a5cf26257930ac713fbd78b3b">SMTPTaskList</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>State machine for sending out emails. </p>

<p>Definition at line <a class="el" href="_s_m_t_p_8c_source.html#l00027">27</a> of file <a class="el" href="_s_m_t_p_8c_source.html">SMTP.c</a>.</p>

<p>Referenced by <a class="el" href="_security_system_8c_source.html#l00193">SchemaInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ac6e22465161b7de2caf5f35cea78318e"></a><!-- doxytag: member="SecuritySystem.h::SNTPState" ref="ac6e22465161b7de2caf5f35cea78318e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_security_system_8h.html#a3e4d7c3657d49c0a82757c17fb3e4a99">SNTPStates</a> <a class="el" href="_security_system_8h.html#ac6e22465161b7de2caf5f35cea78318e">SNTPState</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_custom_s_n_t_p_8c_source.html#l00138">138</a> of file <a class="el" href="_custom_s_n_t_p_8c_source.html">CustomSNTP.c</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, and <a class="el" href="_custom_s_n_t_p_8c_source.html#l00237">SNTPClient()</a>.</p>

</div>
</div>
<a class="anchor" id="af1c18f7532835833de15218c3aa5d146"></a><!-- doxytag: member="SecuritySystem.h::UserID" ref="af1c18f7532835833de15218c3aa5d146" args="[USERNAMELENGTH]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="_security_system_8h.html#af1c18f7532835833de15218c3aa5d146">UserID</a>[USERNAMELENGTH]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Name of user. </p>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00037">37</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>Referenced by <a class="el" href="_authenticate_8c_source.html#l00188">Authenticate()</a>, <a class="el" href="_authenticate_8c_source.html#l00487">ModifyUser()</a>, <a class="el" href="_security_system_8c_source.html#l01642">SchemaProcessUDPMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">SendArmed()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00504">SendDisarm()</a>, and <a class="el" href="_s_m_t_p_8c_source.html#l00412">SMTPTaskProcess()</a>.</p>

</div>
</div>
<a class="anchor" id="abc18e4dde03a4d8707108764cf095185"></a><!-- doxytag: member="SecuritySystem.h::VoltageBattery" ref="abc18e4dde03a4d8707108764cf095185" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="_security_system_8h.html#abc18e4dde03a4d8707108764cf095185">VoltageBattery</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Battery voltage. </p>

<p>Definition at line <a class="el" href="_battery_8c_source.html#l00027">27</a> of file <a class="el" href="_battery_8c_source.html">Battery.c</a>.</p>

<p>Referenced by <a class="el" href="_battery_8c_source.html#l00144">BatteryTask()</a>, <a class="el" href="_battery_8c_source.html#l00050">HTTPPrint_VoltageBattery()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00929">SendBatteryStat()</a>, and <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>.</p>

</div>
</div>
<a class="anchor" id="aa01e43930ba742d30175efb597a2e4c0"></a><!-- doxytag: member="SecuritySystem.h::VoltageSupply" ref="aa01e43930ba742d30175efb597a2e4c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="_security_system_8h.html#aa01e43930ba742d30175efb597a2e4c0">VoltageSupply</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>12v supply voltage </p>

<p>Definition at line <a class="el" href="_battery_8c_source.html#l00028">28</a> of file <a class="el" href="_battery_8c_source.html">Battery.c</a>.</p>

<p>Referenced by <a class="el" href="_battery_8c_source.html#l00144">BatteryTask()</a>, and <a class="el" href="_battery_8c_source.html#l00040">HTTPPrint_VoltageSupply()</a>.</p>

</div>
</div>
<a class="anchor" id="adaa5e54872217e9a75a2bfdadf293d12"></a><!-- doxytag: member="SecuritySystem.h::xPLConfig" ref="adaa5e54872217e9a75a2bfdadf293d12" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structx_p_l_configs.html">xPLConfigs</a> <a class="el" href="_security_system_8h.html#adaa5e54872217e9a75a2bfdadf293d12">xPLConfig</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configuration entries. </p>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00136">136</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00228">HTTPPostSMTPConfig()</a>, <a class="el" href="_custom_s_n_t_p_8c_source.html#l00150">HTTPPrint_AES_Active()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00277">HTTPPrint_Alarming24Duration()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00271">HTTPPrint_AlarmingDuration()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00265">HTTPPrint_EntryDelay()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00259">HTTPPrint_ExitDelay()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00253">HTTPPrint_HeartBeatTime()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00248">HTTPPrint_InstanceName()</a>, <a class="el" href="_custom_s_n_t_p_8c_source.html#l00142">HTTPPrint_NTPServer()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00289">HTTPPrint_SirenDelay()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00283">HTTPPrint_SirenDelay24h()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00148">HTTPPrint_SMTP_Active()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00162">HTTPPrint_SMTP_ArmDisarm()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00155">HTTPPrint_SMTP_OnlyInitalAlarm()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00091">HTTPPrint_SMTP_Password()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00108">HTTPPrint_SMTP_Port()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00057">HTTPPrint_SMTP_Server()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00039">HTTPPrint_SMTP_To()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00074">HTTPPrint_SMTP_User()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00814">SendConfigCurrent()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00613">SMTPQueueEmail()</a>, <a class="el" href="_s_m_t_p_8c_source.html#l00412">SMTPTaskProcess()</a>, <a class="el" href="_custom_s_n_t_p_8c_source.html#l00237">SNTPClient()</a>, <a class="el" href="_authenticate_8c_source.html#l00039">xPLAuthenticate()</a>, <a class="el" href="x_p_l_8c_source.html#l00224">XPLHeartBeatTiming()</a>, <a class="el" href="x_p_l_8c_source.html#l00109">xPLInit()</a>, <a class="el" href="x_p_l_8c_source.html#l00496">XPLProcessUDPMsgHeader()</a>, <a class="el" href="x_p_l_8c_source.html#l00349">XPLSendHeader()</a>, and <a class="el" href="x_p_l_8c_source.html#l00300">XPLSendHeartBeat()</a>.</p>

</div>
</div>
<a class="anchor" id="a129e6683e32d77565169cb282dc552c2"></a><!-- doxytag: member="SecuritySystem.h::xPLTaskList" ref="a129e6683e32d77565169cb282dc552c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structx_p_l_task_lists.html">xPLTaskLists</a> <a class="el" href="_security_system_8h.html#a129e6683e32d77565169cb282dc552c2">xPLTaskList</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The Task buffer for sending xPL messages. </p>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00128">128</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>Referenced by <a class="el" href="_security_x_p_l_sender_8c_source.html#l00017">addxPLMessage()</a>, and <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>.</p>

</div>
</div>
<a class="anchor" id="af027bc313be80301e927d4717cb0dc90"></a><!-- doxytag: member="SecuritySystem.h::ZoneConfig" ref="af027bc313be80301e927d4717cb0dc90" args="[ZONECOUNT]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_zone_configs.html">ZoneConfigs</a> <a class="el" href="_security_system_8h.html#af027bc313be80301e927d4717cb0dc90">ZoneConfig</a>[ZONECOUNT]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stores each Zones configuration information. </p>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00143">143</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>Referenced by <a class="el" href="_security_x_p_l_sender_8c_source.html#l00017">addxPLMessage()</a>, <a class="el" href="_e_o_l_8c_source.html#l00023">CheckEOL()</a>, <a class="el" href="_h_t_t_p_forms_8c_source.html#l00028">HTTPExecuteGet()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00418">HTTPPrint_ZonesAlarmed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00521">HTTPPrint_ZonesAlarmType()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00546">HTTPPrint_ZonesAreaList()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00394">HTTPPrint_ZonesArmed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00320">HTTPPrint_ZonesBypassed()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00443">HTTPPrint_ZonesEntry()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00345">HTTPPrint_ZonesIsolated()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00468">HTTPPrint_ZonesNO()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00596">HTTPPrint_ZonesTampered()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00370">HTTPPrint_ZonesTriggered()</a>, <a class="el" href="_h_t_t_p_variables_8c_source.html#l00494">HTTPPrint_ZonesType()</a>, <a class="el" href="_e_o_l_8c_source.html#l00154">IsZoneTriggered()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00226">SendAlarmingMsg()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00395">SendArmed()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l01002">SendGateStat()</a>, <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>, and <a class="el" href="_security_x_p_l_sender_8c_source.html#l01180">SendZoneStat()</a>.</p>

</div>
</div>
<a class="anchor" id="aa5d4120799cb431593bcf942bea5e521"></a><!-- doxytag: member="SecuritySystem.h::ZoneTypesText" ref="aa5d4120799cb431593bcf942bea5e521" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ROM char* <a class="el" href="_security_system_8h.html#aa5d4120799cb431593bcf942bea5e521">ZoneTypesText</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>determines the text outputed in the xpl message for each of the zone types </p>

<p>Definition at line <a class="el" href="_security_system_8c_source.html#l00058">58</a> of file <a class="el" href="_security_system_8c_source.html">SecuritySystem.c</a>.</p>

<p>Referenced by <a class="el" href="_h_t_t_p_variables_8c_source.html#l00207">HTTPPrint_TypeList()</a>, and <a class="el" href="_security_x_p_l_sender_8c_source.html#l00637">SendZoneInfo()</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Apr 25 2011 23:31:10 for Alarm Cabinent by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
